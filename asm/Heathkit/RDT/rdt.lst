 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 1 - 08/18/2024 03:18:17 PM


       1/      0 :                      ;      TITLE '   RDT  VERSION 1.0  12-29-80'
       2/      0 :                      ;**************
       3/      0 :                      ;             *
       4/      0 :                      ;    R D T    *
       5/      0 :                      ;             *
       6/      0 :                      ;**************
       7/      0 :                      
       8/      0 :                      ; A SELF-RELOCATING OCTAL-HEX
       9/      0 :                      ; CONSOLE DEBUG MONITOR
      10/      0 :                      ; FOR THE HEATH H8 COMPUTER
      11/      0 :                      
      12/      0 :                      ; BY  PATRICK SWAYNE
      13/      0 :                      ;     2155 WELCH DRIVE
      14/      0 :                      ;     STEVENSVILLE, MI 49127
      15/      0 :                      
      16/      0 :                      ; ASSEMBLY OPTION
      17/      0 :                      ; SET LABEL "INCLUDE" EQUAL TO 1 IF YOU
      18/      0 :                      ; DO NOT WANT TO INCLUDE THE DISASSEMBLER
      19/      0 :                      
      20/      0 :                      ;       LON     I         ; LIST CONDITIONAL CODE
      21/      0 : =1O                  INCLUDE EQU     1
      22/      0 :                      
      23/      0 :                      ; SYSCALL macro
      24/      0 :                      SCALL   MACRO   call
      25/      0 :                              RST     7
      26/      0 :                              DB      call
      27/      0 :                              ENDM
      28/      0 :                      
      29/      0 :                      ; RDT COMMANDS:
      30/      0 :                      ; COMMAND WORDS ARE COMPLETED BY RDT
      31/      0 :                      ; WHEN THEIR FIRST LETTERS ARE TYPED
      32/      0 :                      
      33/      0 :                      ; COMMAND    USE
      34/      0 :                      
      35/      0 :                      ; ADd/subtract          ADD AND SUBTRACT NUMBERS
      36/      0 :                      ; AScii                 VIEW OR CHANGE MEMORY IN ASCII
      37/      0 :                      ; Base                  SET NUMBER BASE
      38/      0 :                      ; CHange                CHANGE MEMORY
      39/      0 :                      ; COmpare               COMPARE MEMORY
      40/      0 :                      ; Display               DISPLAY MEMORY
      41/      0 :                      ; Examine               EXAMINE MEMORY BY DISASSEMBLING
      42/      0 :                      ; Fill                  FILL MEMORY WITH A CONSTANT
      43/      0 :                      ; Go to                 GO TO ADDRESS, SET BREAKPOINTS
      44/      0 :                      ; Hex                   CONVERT OCTAL TO HEX
      45/      0 :                      ; Input mode            SET CHARACTER INPUT MODE FOR USER
      46/      0 :                      ; Load                  LOAD A FILE FROM DISK
      47/      0 :                      ; Move                  MOVE A BLOCK OF MEMORY
      48/      0 :                      ; Octal                 CONVERT HEX TO OCTAL
      49/      0 :                      ; Printer               CONTROL OUTPUT TO LINE PRINTER
      50/      0 :                      ; Register              DISPLAY AND ALTER REGISTERS
      51/      0 :                      ; SAve                  SAVE A FILE ON DISK
      52/      0 :                      ; SEarch                SEARCH MEMORY FOR A CONSTANT
      53/      0 :                      ; TLoad                 LOAD A BINARY CASSETTE TAPE
      54/      0 :                      ; TSave                 SAVE A FILE ON CASSETTE TAPE
      55/      0 :                      
      56/      0 :                      
      57/      0 :                      ; CONSTANTS, RAM CELLS, EXTERNAL CALLS
      58/      0 :                      
      59/      0 : =15O                 CR      EQU     0DH       ; CARRIAGE RETURN
      60/      0 : =12O                 LF      EQU     0AH       ; LINE FEED
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 2 - 08/18/2024 03:18:17 PM


      61/      0 : =327O                RST20   EQU     0D7H      ; RESTART 2 INSTRUCTION
      62/      0 : =40.042O             RS2     EQU     2022H     ; RESTART 2 VECTOR
      63/      0 : =1.333O              PLOAD   EQU     01DBH     ; PAM-8 TAPE LOAD ROUTINE
      64/      0 : =40.031O             TPERRX  EQU     2019H     ; TAPE ERROR EXIT ADDR
      65/      0 : =2.265O              SRS     EQU     02B5H     ; SCAN FOR TAPE START
      66/      0 : =2.325O              RNP     EQU     02D5H     ; READ ADDRESS FROM TAPE
      67/      0 : =3.024O              WNB     EQU     0314H     ; WRITE BYTE ON TAPE
      68/      0 : =3.017O              WNP     EQU     030FH     ; WRITE ADDR ON TAPE
      69/      0 : =40.027O             CRCSUM  EQU     2017H     ; CHECKSUM STORAGE
      70/      0 : =2.101O              PDUMP   EQU     0241H     ; PAM-8 TAPE DUMP ROUTINE
      71/      0 : =40.011O             CTLFLG  EQU     2009H     ; MACHINE CONTROL FLAG
      72/      0 : =42.170O             FSTART  EQU     2278H     ; MACHINE FILE START ADDRESS
      73/      0 :                      
      74/      0 :                      ; HDOS DEFINITIONS
      75/      0 :                      
      76/      0 : =0O                  DEXIT   EQU     0
      77/      0 : =1O                  DSCIN   EQU     1
      78/      0 : =2O                  DSCOUT  EQU     2
      79/      0 : =3O                  DPRINT  EQU     3
      80/      0 : =4O                  DREAD   EQU     4
      81/      0 : =5O                  DWRITE  EQU     5
      82/      0 : =6O                  DCONSL  EQU     6
      83/      0 : =7O                  DCLRCO  EQU     7
      84/      0 : =10O                 DLOADO  EQU     8
      85/      0 : =41O                 DCTLC   EQU     41Q
      86/      0 : =42O                 DOPENR  EQU     42Q
      87/      0 : =43O                 DOPENW  EQU     43Q
      88/      0 : =46O                 DCLOSE  EQU     46Q
      89/      0 : =50O                 DDELETE EQU     50Q
      90/      0 : =52O                 DSETTOP EQU     52Q
      91/      0 : =57O                 DERROR  EQU     57Q
      92/      0 : =62O                 DLOADD  EQU     62Q
      93/      0 :                      
      94/      0 :                      ; PROGRAM INITIALIZATION
      95/      0 :                      
      96/ 42.200 :                              ORG     2280H     ; START HERE
      97/ 42.200 : 061 200 042          PRESET  LXI     SP,PRESET ; TEMPORARY STACK
      98/ 42.203 : 041 070 072                  LXI     H,TITLE
      99/ 42.206 : 315 227 056                  CALL    PSTRNG    ; PRINT TITLE
     100/ 42.211 : 041 152 072                  LXI     H,DEV
     101/ 42.214 : 315 227 056                  CALL    PSTRNG
     102/ 42.217 : (MACRO)                      SCALL   DCLRCO
     102/ 42.217 : 377                          RST     7
     102/ 42.220 : 007                          DB      DCLRCO
     103/ 42.221 : 315 261 054                  CALL    INCH      ; GET DEVICE DRIVER NAME
     104/ 42.224 : 376 015                      CPI     0DH       ; NULL?
     105/ 42.226 : 312 251 042                  JZ      NODEV
     106/ 42.231 : 062 333 056                  STA     PNAME
     107/ 42.234 : 315 261 054                  CALL    INCH
     108/ 42.237 : 062 334 056                  STA     PNAME+1
     109/ 42.242 : (MACRO)                      SCALL   DCLRCO
     109/ 42.242 : 377                          RST     7
     109/ 42.243 : 007                          DB      DCLRCO
     110/ 42.244 : 041 333 056                  LXI     H,PNAME
     111/ 42.247 : (MACRO)                      SCALL   DLOADD    ; LOAD DEVICE DRIVER
     111/ 42.247 : 377                          RST     7
     111/ 42.250 : 062                          DB      DLOADD
     112/ 42.251 : 257                  NODEV   XRA     A
     113/ 42.252 : (MACRO)                      SCALL   DLOADO    ; LOAD FIRST OVERLAY
     113/ 42.252 : 377                          RST     7
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 3 - 08/18/2024 03:18:17 PM


     113/ 42.253 : 010                          DB      DLOADO
     114/ 42.254 : 332 176 054                  JC      IOERR
     115/ 42.257 : 076 001                      MVI     A,1
     116/ 42.261 : (MACRO)                      SCALL   DLOADO    ; LOAD SECOND OVERLAY
     116/ 42.261 : 377                          RST     7
     116/ 42.262 : 010                          DB      DLOADO
     117/ 42.263 : 332 176 054                  JC      IOERR
     118/ 42.266 : 041 377 377                  LXI     H,-1
     119/ 42.271 : (MACRO)                      SCALL   DSETTOP   ; FIND END OF USER RAM
     119/ 42.271 : 377                          RST     7
     119/ 42.272 : 052                          DB      DSETTOP
     120/ 42.273 : =>TRUE                       IF      INCLUDE
     121/ 42.273 : 021 000 350                  LXI     D,-1800H
     122/ 42.276 : =>FALSE                      ELSE
     123/ 42.276 :                              LXI     D,-1000H
     124/ 42.276 : [120]                        ENDIF
     125/ 42.276 : 031                          DAD     D         ; GET COM-8 START ADDR
     126/ 42.277 : 042 316 042                  SHLD    MVADR     ; STORE IT
     127/ 42.302 : =>TRUE                       IF      INCLUDE
     128/ 42.302 : 021 220 027                  LXI     D,1790H
     129/ 42.305 : =>FALSE                      ELSE
     130/ 42.305 :                              LXI     D,990H
     131/ 42.305 : [127]                        ENDIF
     132/ 42.305 : 031                          DAD     D         ; GET TOP ADDRESS - 10H
     133/ 42.306 : (MACRO)                      SCALL   DSETTOP
     133/ 42.306 : 377                          RST     7
     133/ 42.307 : 052                          DB      DSETTOP
     134/ 42.310 : 332 176 054                  JC      IOERR
     135/ 42.313 : 303 144 071                  JMP     XPORT     ; MOVE CODE TO NEW LOCATION
     136/ 42.316 :                      
     137/ 42.316 :                      MVADR   DS      2
     138/ 42.320 :                      
     139/ 42.320 :                      ; INITIALIZE USER REGISTERS , STACK,
     140/ 42.320 :                      ; AND BREAKPOINT VECTOR
     141/ 42.320 :                      
     142/ 42.320 : 061 122 071          SETUP   LXI     SP,EXIT   ; SET RDT STACK
     143/ 42.323 : 041 200 042                  LXI     H,2280H   ; SET USER STACK
     144/ 42.326 : 345                          PUSH    H
     145/ 42.327 : 041 000 000                  LXI     H,0
     146/ 42.332 : 345                          PUSH    H         ; PUSH USER REGISTERS
     147/ 42.333 : 345                          PUSH    H         ; ON STACK
     148/ 42.334 : 345                          PUSH    H
     149/ 42.335 : 257                          XRA     A
     150/ 42.336 : 062 303 056                  STA     SSFLAG    ; CLEAR SINGLE STEPS
     151/ 42.341 : 074                          INR     A
     152/ 42.342 : 041 020 056                  LXI     H,RESTRT
     153/ 42.345 : (MACRO)                      SCALL   DCTLC     ; SET UP CONTROL-A EXIT
     153/ 42.345 : 377                          RST     7
     153/ 42.346 : 041                          DB      DCTLC
     154/ 42.347 : 076 001                      MVI     A,1       ; SET NUMBER BASE FLAG
     155/ 42.351 : 062 276 056                  STA     BFLAG     ; FOR OCTAL
     156/ 42.354 : 076 303                      MVI     A,0C3H
     157/ 42.356 : 062 042 040                  STA     RS2
     158/ 42.361 : 041 033 056                  LXI     H,RSTB    ; SET UP RESTART 2
     159/ 42.364 : 042 043 040                  SHLD    RS2+1     ; FOR BREAKPOINTS
     160/ 42.367 :                      
     161/ 42.367 :                      ; MAIN COMMAND LOOP
     162/ 42.367 :                      
     163/ 42.367 : 373                  START   EI
     164/ 42.370 : 315 132 054                  CALL    FIXIN     ; FIX INPUT MODE
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 4 - 08/18/2024 03:18:17 PM


     165/ 42.373 : 315 012 055                  CALL    CRLF      ; TYPE CR AND LF
     166/ 42.376 : 076 135                      MVI     A,']'     ; PROMPT WITH "]"
     167/ 43.000 : 062 274 056                  STA     MMFLAG    ; IN MONITOR MODE
     168/ 43.003 : 062 275 056                  STA     ASFLAG
     169/ 43.006 : 315 240 054                  CALL    OUTCH     ; PRINT PROMPT
     170/ 43.011 : 016 002                      MVI     C,2       ; PARAMETER CONTROL
     171/ 43.013 : 315 371 054                  CALL    ECHO      ; GET A CHARACTER
     172/ 43.016 : 376 101                      CPI     'A'       ; TRY TO MATCH ENTRY
     173/ 43.020 : 312 146 043                  JZ      ACMD
     174/ 43.023 : 376 102                      CPI     'B'
     175/ 43.025 : 312 030 044                  JZ      BASE
     176/ 43.030 : 376 103                      CPI     'C'
     177/ 43.032 : 312 106 044                  JZ      CCMD
     178/ 43.035 : 376 104                      CPI     'D'
     179/ 43.037 : 312 330 044                  JZ      DISP
     180/ 43.042 : =>TRUE                       IF      INCLUDE
     181/ 43.042 : 376 105                      CPI     'E'
     182/ 43.044 : 312 017 045                  JZ      EXAM
     183/ 43.047 : [180]                        ENDIF
     184/ 43.047 : 376 106                      CPI     'F'
     185/ 43.051 : 312 257 046                  JZ      FILL
     186/ 43.054 : 376 107                      CPI     'G'
     187/ 43.056 : 312 316 046                  JZ      GO
     188/ 43.061 : 376 110                      CPI     'H'
     189/ 43.063 : 312 140 047                  JZ      HEX
     190/ 43.066 : 376 111                      CPI     'I'
     191/ 43.070 : 312 064 047                  JZ      INPUT
     192/ 43.073 : 376 114                      CPI     'L'
     193/ 43.075 : 312 174 047                  JZ      LOAD
     194/ 43.100 : 376 115                      CPI     'M'
     195/ 43.102 : 312 274 050                  JZ      MOVE
     196/ 43.105 : 376 117                      CPI     'O'
     197/ 43.107 : 312 330 050                  JZ      OCT
     198/ 43.112 : 376 120                      CPI     'P'
     199/ 43.114 : 312 371 050                  JZ      PCMD
     200/ 43.117 : 376 122                      CPI     'R'
     201/ 43.121 : 312 045 052                  JZ      REG
     202/ 43.124 : 376 123                      CPI     'S'
     203/ 43.126 : 312 326 052                  JZ      SCMD
     204/ 43.131 : 376 124                      CPI     'T'
     205/ 43.133 : 312 155 050                  JZ      TCMD
     206/ 43.136 : 376 015                      CPI     CR
     207/ 43.140 : 312 367 042                  JZ      START
     208/ 43.143 : 303 152 054                  JMP     ERROR     ; BAD ENTRY
     209/ 43.146 :                      
     210/ 43.146 :                      ; LETTER "A" COMMANDS
     211/ 43.146 :                      
     212/ 43.146 : 315 371 054          ACMD    CALL    ECHO    ; GET RESPONSE
     213/ 43.151 : 376 104                      CPI     'D'     ; ADD/SUBTRACT?
     214/ 43.153 : 312 166 043                  JZ      ADD
     215/ 43.156 : 376 123                      CPI     'S'     ; ASCII?
     216/ 43.160 : 312 234 043                  JZ      ASCII
     217/ 43.163 : 303 152 054                  JMP     ERROR   ; BAD ENTRY
     218/ 43.166 :                      
     219/ 43.166 :                      ; ADD AND SUBTRACT HEX OR OCTAL NUMBERS
     220/ 43.166 :                      ; IF OCTAL, RESULTS OVER 377Q ARE IN
     221/ 43.166 :                      ; SPLIT OCTAL
     222/ 43.166 :                      
     223/ 43.166 : 041 266 067          ADD     LXI     H,DD      ; COMPLETE COMMAND
     224/ 43.171 : 315 227 056                  CALL    PSTRNG
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 5 - 08/18/2024 03:18:17 PM


     225/ 43.174 : 315 106 054                  CALL    GETLN     ; GET COMMAND LINE
     226/ 43.177 : 315 017 055                  CALL    DATA      ; GET TWO NUMBERS
     227/ 43.202 : 315 012 055                  CALL    CRLF      ; PRINT CR,LF
     228/ 43.205 : 321                          POP     D         ; SECOND NUMBER
     229/ 43.206 : 341                          POP     H         ; FIRST NUMBER
     230/ 43.207 : 345                          PUSH    H         ; SAVE IT
     231/ 43.210 : 031                          DAD     D         ; ADD THEM
     232/ 43.211 : 315 236 055                  CALL    PADR      ; PRINT RESULTS
     233/ 43.214 : 315 236 054                  CALL    SPACE     ; SPACE BETWEEN NUMBERS
     234/ 43.217 : 341                          POP     H         ; RESTORE FIRST NUMBER
     235/ 43.220 : 175                          MOV     A,L       ; SUBTRACT NUMBERS
     236/ 43.221 : 223                          SUB     E
     237/ 43.222 : 157                          MOV     L,A
     238/ 43.223 : 174                          MOV     A,H
     239/ 43.224 : 232                          SBB     D
     240/ 43.225 : 147                          MOV     H,A
     241/ 43.226 : 315 236 055                  CALL    PADR      ; PRINT RESULTS
     242/ 43.231 : 303 367 042                  JMP     START
     243/ 43.234 :                      
     244/ 43.234 :                      ; EXAMINE OR ALTER MEMORY IN ASCII
     245/ 43.234 :                      
     246/ 43.234 : 041 301 067          ASCII   LXI     H,CII
     247/ 43.237 : 315 227 056                  CALL    PSTRNG    ; COMPLETE COMMAND
     248/ 43.242 : 315 106 054                  CALL    GETLN     ; GET COMMAND LINE
     249/ 43.245 : 257                          XRA     A
     250/ 43.246 : 062 275 056                  STA     ASFLAG    ; SET FLAG FOR ASCII CMD
     251/ 43.251 : 015                          DCR     C
     252/ 43.252 : 315 017 055                  CALL    DATA      ; GET ADDRESS
     253/ 43.255 : 315 132 054                  CALL    FIXIN     ; FIX INPUT MODE
     254/ 43.260 : 341                          POP     H
     255/ 43.261 : 315 012 055          ASCII0  CALL    CRLF
     256/ 43.264 : 315 236 055                  CALL    PADR      ; PRINT ADDRESS
     257/ 43.267 : 315 236 054                  CALL    SPACE     ; SPACE AFTER
     258/ 43.272 : 315 236 054                  CALL    SPACE
     259/ 43.275 : 176                          MOV     A,M       ; GET WHAT'S THERE
     260/ 43.276 : 346 177                      ANI     7FH       ; STRIP PARITY
     261/ 43.300 : 376 040                      CPI     20H       ; LESS THAN SPACE
     262/ 43.302 : 322 316 043                  JNC     ASCII1    ; CONVERT CONTROL CHARS
     263/ 43.305 : 365                          PUSH    PSW       ; SAVE CHARACTER
     264/ 43.306 : 076 136                      MVI     A,'^'
     265/ 43.310 : 315 240 054                  CALL    OUTCH     ; PRINT "^"
     266/ 43.313 : 361                          POP     PSW       ; RESTORE CHARACTER
     267/ 43.314 : 306 100                      ADI     40H       ; CONVERT TO CONTROL TO LETTER
     268/ 43.316 : 315 240 054          ASCII1  CALL    OUTCH     ; PRINT CHARACTER
     269/ 43.321 : 076 057                      MVI     A,'/'
     270/ 43.323 : 315 240 054                  CALL    OUTCH     ; PRINT SLASH
     271/ 43.326 : 315 261 054                  CALL    INCH      ; GET RESPONSE
     272/ 43.331 : 376 015                      CPI     0DH       ; CR?
     273/ 43.333 : 312 367 042                  JZ      START     ; EXIT
     274/ 43.336 : 365                          PUSH    PSW
     275/ 43.337 : 376 040                      CPI     20H       ; CONTROL CHARACTER
     276/ 43.341 : 322 355 043                  JNC     ASCII2
     277/ 43.344 : 076 136                      MVI     A,'^'
     278/ 43.346 : 315 240 054                  CALL    OUTCH
     279/ 43.351 : 361                          POP     PSW
     280/ 43.352 : 365                          PUSH    PSW
     281/ 43.353 : 306 100                      ADI     40H
     282/ 43.355 : 315 240 054          ASCII2  CALL    OUTCH     ; ECHO CHARACTER
     283/ 43.360 : 361                          POP     PSW
     284/ 43.361 : 376 055                      CPI     '-'       ; MINUS?
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 6 - 08/18/2024 03:18:17 PM


     285/ 43.363 : 053                          DCX     H         ; BACK UP POINTER
     286/ 43.364 : 312 261 043                  JZ      ASCII0    ; PRINT PREVIOUS DATA
     287/ 43.367 : 043                          INX     H         ; RESTORE POINTER
     288/ 43.370 : 376 057                      CPI     '/'       ; SLASH?
     289/ 43.372 : 312 024 044                  JZ      ASCII3    ; DELIMITER, NO CHANGE
     290/ 43.375 : 167                          MOV     M,A       ; STORE CHARACTER
     291/ 43.376 : 315 371 054                  CALL    ECHO      ; GET ANOTHER CHARACTER
     292/ 44.001 : 376 015                      CPI     0DH       ; CR?
     293/ 44.003 : 312 367 042                  JZ      START
     294/ 44.006 : 376 057                      CPI     '/'       ; SLASH?
     295/ 44.010 : 312 024 044                  JZ      ASCII3
     296/ 44.013 : 053                          DCX     H
     297/ 44.014 : 376 055                      CPI     '-'       ; BACK UP?
     298/ 44.016 : 312 261 043                  JZ      ASCII0
     299/ 44.021 : 303 152 054                  JMP     ERROR     ; BAD RESPONSE
     300/ 44.024 : 043                  ASCII3  INX     H         ; GET NEXT ADDRESS
     301/ 44.025 : 303 261 043                  JMP     ASCII0
     302/ 44.030 :                      
     303/ 44.030 :                      ; SET NUMBER BASE
     304/ 44.030 :                      
     305/ 44.030 : 041 305 067          BASE    LXI     H,ASE     ; COMPLETE COMMAND
     306/ 44.033 : 315 227 056                  CALL    PSTRNG
     307/ 44.036 : 315 371 054                  CALL    ECHO
     308/ 44.041 : 376 110                      CPI     'H'       ; WANT HEX?
     309/ 44.043 : 302 063 044                  JNZ     BASE0     ; NO, OCTAL
     310/ 44.046 : 041 000 070                  LXI     H,EX
     311/ 44.051 : 315 227 056                  CALL    PSTRNG    ; PRINT "HEX"
     312/ 44.054 : 257                          XRA     A
     313/ 44.055 : 062 276 056                  STA     BFLAG     ; SET FLAG FOR HEX
     314/ 44.060 : 303 367 042                  JMP     START
     315/ 44.063 : 376 117              BASE0   CPI     'O'       ; WANT OCTAL?
     316/ 44.065 : 302 152 054                  JNZ     ERROR     ; BAD ENTRY
     317/ 44.070 : 041 013 070                  LXI     H,CTAL
     318/ 44.073 : 315 227 056                  CALL    PSTRNG    ; PRINT "OCTAL"
     319/ 44.076 : 076 001                      MVI     A,1
     320/ 44.100 : 062 276 056                  STA     BFLAG     ; SET FLAG FOR OCTAL
     321/ 44.103 : 303 367 042                  JMP     START
     322/ 44.106 :                      
     323/ 44.106 :                      ; LETTER "C" COMMANDS
     324/ 44.106 :                      
     325/ 44.106 : 315 371 054          CCMD    CALL    ECHO      ; GET SECOND CHARACTER
     326/ 44.111 : 376 110                      CPI     'H'       ; CHANGE?
     327/ 44.113 : 312 126 044                  JZ      CHG
     328/ 44.116 : 376 117                      CPI     'O'       ; COMPARE?
     329/ 44.120 : 312 254 044                  JZ      COMP
     330/ 44.123 : 303 152 054                  JMP     ERROR     ; BAD ENTRY
     331/ 44.126 :                      
     332/ 44.126 :                      ; CHANGE MEMORY
     333/ 44.126 :                      
     334/ 44.126 : 041 311 067          CHG     LXI     H,NGE     ; COMPLETE COMMAND
     335/ 44.131 : 315 227 056                  CALL    PSTRNG
     336/ 44.134 : 015                          DCR     C         ; GET ONE PARAMETER
     337/ 44.135 : 315 106 054                  CALL    GETLN     ; GET COMMAND INFO
     338/ 44.140 : 315 017 055                  CALL    DATA
     339/ 44.143 : 315 132 054                  CALL    FIXIN     ; FIX INPUT MODE
     340/ 44.146 : 341                          POP     H         ; ADDRESS OF FIRST CHANGE
     341/ 44.147 : 315 012 055          CHG0    CALL    CRLF
     342/ 44.152 : 315 236 055                  CALL    PADR      ; PRINT CURRENT ADDRESS
     343/ 44.155 : 315 236 054                  CALL    SPACE     ; PRINT SPACES
     344/ 44.160 : 315 236 054                  CALL    SPACE
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 7 - 08/18/2024 03:18:17 PM


     345/ 44.163 : 176                          MOV     A,M
     346/ 44.164 : 315 257 055                  CALL    PBYTE     ; PRINT CURRENT BYTE
     347/ 44.167 : 076 057                      MVI     A,'/'
     348/ 44.171 : 315 240 054                  CALL    OUTCH     ; PRINT SLASH
     349/ 44.174 : 315 371 054                  CALL    ECHO      ; GET A CHARACTER
     350/ 44.177 : 376 055                      CPI     '-'       ; MINUS?
     351/ 44.201 : 053                          DCX     H         ; BACK UP POINTER
     352/ 44.202 : 312 147 044                  JZ      CHG0      ; SHOW PREVIOUS ADDRESS
     353/ 44.205 : 043                          INX     H         ; FIX POINTER
     354/ 44.206 : 315 000 056                  CALL    CHECK0    ; CHECK CHARACTER
     355/ 44.211 : 332 367 042                  JC      START     ; CR ENTERED, EXIT
     356/ 44.214 : 312 250 044                  JZ      CHG1      ; COMMA OR SPACE, NO CHANGE
     357/ 44.217 : 345                          PUSH    H         ; SAVE ADDR
     358/ 44.220 : 315 102 055                  CALL    CDATA     ; GET NEW VALUE
     359/ 44.223 : 321                          POP     D         ; VALUE
     360/ 44.224 : 341                          POP     H         ; ADDRESS
     361/ 44.225 : 163                          MOV     M,E       ; MAKE CHANGE
     362/ 44.226 : 173                          MOV     A,E
     363/ 44.227 : 276                          CMP     M
     364/ 44.230 : 302 152 054                  JNZ     ERROR     ; BAD RAM
     365/ 44.233 : 170                          MOV     A,B       ; GET DELIMITER
     366/ 44.234 : 376 055                      CPI     '-'       ; MINUS?
     367/ 44.236 : 053                          DCX     H         ; DCR POINTER
     368/ 44.237 : 312 147 044                  JZ      CHG0      ; GET PREVIOUS BYTE
     369/ 44.242 : 043                          INX     H         ; FIX POINTER
     370/ 44.243 : 376 015                      CPI     CR        ; CR ENTERED?
     371/ 44.245 : 312 367 042                  JZ      START     ; EXIT
     372/ 44.250 : 043                  CHG1    INX     H
     373/ 44.251 : 303 147 044                  JMP     CHG0
     374/ 44.254 :                      
     375/ 44.254 :                      ; COMPARE TWO BLOCKS OF MEMORY
     376/ 44.254 :                      
     377/ 44.254 : 041 316 067          COMP    LXI     H,MPAR
     378/ 44.257 : 315 227 056                  CALL    PSTRNG    ; COMPLETE NAME
     379/ 44.262 : 014                          INR     C         ; GET THREE PARAMETERS
     380/ 44.263 : 315 106 054                  CALL    GETLN     ; GET COMMAND INFO
     381/ 44.266 : 315 017 055                  CALL    DATA
     382/ 44.271 : 315 012 055                  CALL    CRLF
     383/ 44.274 : 301                          POP     B         ; BLOCK 2 START
     384/ 44.275 : 321                          POP     D         ; BLOCK 1 END
     385/ 44.276 : 341                          POP     H         ; BLOCK 1 START
     386/ 44.277 : 012                  COMP0   LDAX    B         ; GET BYTE FROM BLOCK 2
     387/ 44.300 : 276                          CMP     M         ; COMPARE WITH BLOCK 1
     388/ 44.301 : 312 316 044                  JZ      COMP1     ; MATCH
     389/ 44.304 : 345                          PUSH    H         ; SAVE HL
     390/ 44.305 : 140                          MOV     H,B       ; PUT BC IN HL
     391/ 44.306 : 151                          MOV     L,C
     392/ 44.307 : 315 236 055                  CALL    PADR      ; PRINT MISMATCH ADDRESS
     393/ 44.312 : 341                          POP     H         ; RESTORE HL
     394/ 44.313 : 315 012 055                  CALL    CRLF
     395/ 44.316 : 003                  COMP1   INX     B         ; INCREMENT BLOCK 2 POINTER
     396/ 44.317 : 315 224 055                  CALL    CPHD      ; END OF BLOCK?
     397/ 44.322 : 322 277 044                  JNC     COMP0     ; NO, CONTINUE
     398/ 44.325 : 303 367 042                  JMP     START     ; END, EXIT
     399/ 44.330 :                      
     400/ 44.330 :                      ; DISPLAY MEMORY ON CONSOLE
     401/ 44.330 :                      
     402/ 44.330 : 041 324 067          DISP    LXI     H,ISP     ; COMPLETE COMMAND
     403/ 44.333 : 315 227 056                  CALL    PSTRNG
     404/ 44.336 : 315 106 054                  CALL    GETLN
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 8 - 08/18/2024 03:18:17 PM


     405/ 44.341 : 315 017 055                  CALL    DATA      ; GET TWO ADDRESSES
     406/ 44.344 : 321                          POP     D         ; HIGH ADDRESS
     407/ 44.345 : 341                          POP     H         ; LOW ADDRESS
     408/ 44.346 : 315 012 055          DISP0   CALL    CRLF
     409/ 44.351 : 315 236 055                  CALL    PADR      ; PRINT CURRENT ADDRESS
     410/ 44.354 : 315 236 054                  CALL    SPACE
     411/ 44.357 : 315 236 054          DISP1   CALL    SPACE
     412/ 44.362 : 176                          MOV     A,M       ; GET CURRENT BYTE
     413/ 44.363 : 315 257 055                  CALL    PBYTE     ; PRINT IT
     414/ 44.366 : 315 224 055                  CALL    CPHD      ; TEST FOR COMPLETION
     415/ 44.371 : 332 367 042                  JC      START     ; DONE, EXIT
     416/ 44.374 : 072 276 056                  LDA     BFLAG     ; WHAT BASE?
     417/ 44.377 : 267                          ORA     A
     418/ 45.000 : 006 017                      MVI     B,0FH     ; HEX -- 16 BYTES/LINE
     419/ 45.002 : 312 007 045                  JZ      DISP2
     420/ 45.005 : 006 007                      MVI     B,07H     ; OCTAL -- 8 BYTES/LINE
     421/ 45.007 : 175                  DISP2   MOV     A,L
     422/ 45.010 : 240                          ANA     B         ; END OF LINE?
     423/ 45.011 : 302 357 044                  JNZ     DISP1     ; NO, CONTINUE
     424/ 45.014 : 303 346 044                  JMP     DISP0     ; START NEW LINE
     425/ 45.017 :                      
     426/ 45.017 :                      ; EXAMINE MEMORY BY DISASSEMBLING IT
     427/ 45.017 :                      
     428/ 45.017 : =>TRUE                       IF      INCLUDE
     429/ 45.017 :                              INCLUDE dis.acm
(1)    1/ 45.017 :                      ; 8080 DISASSEMBLER (DIS-8)
(1)    2/ 45.017 :                      ;
(1)    3/ 45.017 :                      ;        WRITTEN BY PATRICK SWAYNE  11-11-78
(1)    4/ 45.017 :                      ;        REVISED  3-27-79
(1)    5/ 45.017 :                      ;        VERSION 4.0 WRITTEN 6-21-80
(1)    6/ 45.017 :                      ;        RDT VERSION WRITTEN 11-14-80
(1)    7/ 45.017 :                      ;
(1)    8/ 45.017 : 041 333 067          EXAM    LXI     H,XAMIN
(1)    9/ 45.022 : 315 227 056                  CALL    PSTRNG    ; COMPLETE COMMAND
(1)   10/ 45.025 : 315 106 054                  CALL    GETLN     ; IN LINE MODE
(1)   11/ 45.030 : 315 017 055                  CALL    DATA      ; GET ADDRESSES
(1)   12/ 45.033 : 315 052 046                  CALL    CLRBF
(1)   13/ 45.036 : 321                          POP     D         ; GET END ADDRESS
(1)   14/ 45.037 : 341                          POP     H         ; GET START ADDRESS
(1)   15/ 45.040 : 325                          PUSH    D         ; SAVE END ADDRESS
(1)   16/ 45.041 : 315 012 055                  CALL    CRLF
(1)   17/ 45.044 : 315 123 046          DIS2    CALL    PADDR     ; PRINT ADDRESS
(1)   18/ 45.047 : 106                          MOV     B,M       ; GET INSTRUCTION
(1)   19/ 45.050 : 345                          PUSH    H         ; SAVE ADDRESS
(1)   20/ 45.051 :                      ;
(1)   21/ 45.051 :                      ;       PROCESS 1, 2, AND 3 BYTE INSTRUCTIONS
(1)   22/ 45.051 :                      ;
(1)   23/ 45.051 : 041 121 067                  LXI     H,TABL1   ; IS IT 2 BYTE
(1)   24/ 45.054 : 176                  DIS3    MOV     A,M       ; INSTRUCTION?
(1)   25/ 45.055 : 270                          CMP     B         ; 3 BYTES
(1)   26/ 45.056 : 312 142 045                  JZ      DIS6      ; 2 BYTE INST.
(1)   27/ 45.061 : 376 377                      CPI     0FFH
(1)   28/ 45.063 : 312 072 045                  JZ      DIS4      ; CHECK IF 3 BYTES
(1)   29/ 45.066 : 043                          INX     H
(1)   30/ 45.067 : 303 054 045                  JMP     DIS3
(1)   31/ 45.072 : 043                  DIS4    INX     H         ; IS IT 3 BYTE
(1)   32/ 45.073 : 176                          MOV     A,M       ; INSTRUCTION?
(1)   33/ 45.074 : 376 377                      CPI     0FFH
(1)   34/ 45.076 : 312 110 045                  JZ      DIS5      ; NO, 1 BYTE
(1)   35/ 45.101 : 270                          CMP     B
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dis.acm) - Page 9 - 08/18/2024 03:18:17 PM


(1)   36/ 45.102 : 312 227 045                  JZ      DIS7      ; YES, PRINT REST
(1)   37/ 45.105 : 303 072 045                  JMP     DIS4      ; OF INSTRUCTION
(1)   38/ 45.110 :                      ;
(1)   39/ 45.110 :                      ;       SINGLE BYTE INSTRUCTIONS
(1)   40/ 45.110 :                      ;
(1)   41/ 45.110 : 341                  DIS5    POP     H         ; RESTORE ADDR
(1)   42/ 45.111 : 345                          PUSH    H         ; SAVE AGAIN
(1)   43/ 45.112 : 021 210 067                  LXI     D,BUFF+9  ; POINT TO BUFFER
(1)   44/ 45.115 : 176                          MOV     A,M       ; GET BYTE
(1)   45/ 45.116 : 315 146 046                  CALL    ASC       ; PUT IN BUFFER
(1)   46/ 45.121 : 315 356 045                  CALL    MNEM      ; PUT IN MNEMONIC
(1)   47/ 45.124 : 021 261 067                  LXI     D,BUFF+50 ; PUT ; IN BUFF
(1)   48/ 45.127 : 076 052                      MVI     A,'*'
(1)   49/ 45.131 : 022                          STAX    D
(1)   50/ 45.132 : 023                          INX     D
(1)   51/ 45.133 : 341                          POP     H         ; RESTORE ADDR
(1)   52/ 45.134 : 315 105 046                  CALL    COM2      ; PRINT COMMENT
(1)   53/ 45.137 : 303 325 045                  JMP     PAGE      ; CK END OF PAGE
(1)   54/ 45.142 :                      ;
(1)   55/ 45.142 :                      ;       2 BYTE INSTRUCTIONS
(1)   56/ 45.142 :                      ;
(1)   57/ 45.142 : 341                  DIS6    POP     H         ; RESTORE ADDR
(1)   58/ 45.143 : 345                          PUSH    H         ; SAVE AGAIN
(1)   59/ 45.144 : 021 210 067                  LXI     D,BUFF+9  ; POINT TO BUFFER
(1)   60/ 45.147 : 176                          MOV     A,M       ; GET BYTE
(1)   61/ 45.150 : 315 146 046                  CALL    ASC       ; PUT IT IN BUFF
(1)   62/ 45.153 : 023                          INX     D         ; SPACE
(1)   63/ 45.154 : 043                          INX     H         ; NEXT BYTE
(1)   64/ 45.155 : 176                          MOV     A,M
(1)   65/ 45.156 : 315 146 046                  CALL    ASC       ; PUT IT IN BUFF
(1)   66/ 45.161 : 315 356 045                  CALL    MNEM      ; PRINT MNEMONIC
(1)   67/ 45.164 : 341                          POP     H
(1)   68/ 45.165 : 043                          INX     H         ; PRINT NEXT BYTE
(1)   69/ 45.166 : 176                          MOV     A,M       ; OF 2 BYTE INST.
(1)   70/ 45.167 : 315 146 046                  CALL    ASC
(1)   71/ 45.172 : 072 276 056                  LDA     BFLAG
(1)   72/ 45.175 : 267                          ORA     A         ; CHECK BASE
(1)   73/ 45.176 : 312 206 045                  JZ      XDIS0
(1)   74/ 45.201 : 076 121                      MVI     A,'Q'
(1)   75/ 45.203 : 303 210 045                  JMP     XDIS1
(1)   76/ 45.206 : 076 110              XDIS0   MVI     A,'H'
(1)   77/ 45.210 : 022                  XDIS1   STAX    D
(1)   78/ 45.211 : 021 261 067                  LXI     D,BUFF+50
(1)   79/ 45.214 : 076 052                      MVI     A,'*'
(1)   80/ 45.216 : 022                          STAX    D
(1)   81/ 45.217 : 023                          INX     D
(1)   82/ 45.220 : 053                          DCX     H         ; BACK UP
(1)   83/ 45.221 : 315 077 046                  CALL    COM1      ; PRINT COMMENT
(1)   84/ 45.224 : 303 325 045                  JMP     PAGE      ; CK END OF PAGE
(1)   85/ 45.227 :                      ;
(1)   86/ 45.227 :                      ;        3 BYTE INSTRUCTIONS
(1)   87/ 45.227 :                      ;
(1)   88/ 45.227 : 341                  DIS7    POP     H         ; RESTORE ADDR
(1)   89/ 45.230 : 345                          PUSH    H         ; SAVE AGAIN
(1)   90/ 45.231 : 021 210 067                  LXI     D,BUFF+9  ; POINT TO BUFF
(1)   91/ 45.234 : 176                          MOV     A,M       ; GET BYTE
(1)   92/ 45.235 : 315 146 046                  CALL    ASC       ; PUT IT IN BUFF
(1)   93/ 45.240 : 023                          INX     D         ; SPACE
(1)   94/ 45.241 : 043                          INX     H         ; NEXT BYTE
(1)   95/ 45.242 : 176                          MOV     A,M
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dis.acm) - Page 10 - 08/18/2024 03:18:17 PM


(1)   96/ 45.243 : 315 146 046                  CALL    ASC       ; PUT IT IN BUFF
(1)   97/ 45.246 : 023                          INX     D
(1)   98/ 45.247 : 043                          INX     H
(1)   99/ 45.250 : 176                          MOV     A,M
(1)  100/ 45.251 : 315 146 046                  CALL    ASC       ; 3RD BYTE IN BUFF
(1)  101/ 45.254 : 315 356 045                  CALL    MNEM      ; PRINT MNEMONIC
(1)  102/ 45.257 : 341                          POP     H
(1)  103/ 45.260 : 043                          INX     H
(1)  104/ 45.261 : 043                          INX     H         ; PRINT NEXT
(1)  105/ 45.262 : 176                          MOV     A,M       ; 2 BYTES OF
(1)  106/ 45.263 : 315 146 046                  CALL    ASC       ; 3 BYTE INST.
(1)  107/ 45.266 : 053                          DCX     H
(1)  108/ 45.267 : 176                          MOV     A,M
(1)  109/ 45.270 : 315 146 046                  CALL    ASC       ; PRINT NXT BYTE
(1)  110/ 45.273 : 072 276 056                  LDA     BFLAG
(1)  111/ 45.276 : 267                          ORA     A         ; CHECK BASE
(1)  112/ 45.277 : 312 307 045                  JZ      XDIS2
(1)  113/ 45.302 : 076 101                      MVI     A,'A'
(1)  114/ 45.304 : 303 311 045                  JMP     XDIS3
(1)  115/ 45.307 : 076 110              XDIS2   MVI     A,'H'
(1)  116/ 45.311 : 022                  XDIS3   STAX    D
(1)  117/ 45.312 : 021 261 067                  LXI     D,BUFF+50
(1)  118/ 45.315 : 076 052                      MVI     A,'*'
(1)  119/ 45.317 : 022                          STAX    D
(1)  120/ 45.320 : 023                          INX     D
(1)  121/ 45.321 : 053                          DCX     H
(1)  122/ 45.322 : 315 071 046                  CALL    COM       ; PRINT COMMENTS
(1)  123/ 45.325 :                      ;
(1)  124/ 45.325 :                      ;        END OF PAGE CHECK
(1)  125/ 45.325 :                      ;
(1)  126/ 45.325 : 345                  PAGE    PUSH    H
(1)  127/ 45.326 : 041 177 067                  LXI     H,BUFF    ; PRINT CONTENTS
(1)  128/ 45.331 : 315 244 046                  CALL    PSTRG     ; OF BUFFER
(1)  129/ 45.334 : 315 052 046                  CALL    CLRBF
(1)  130/ 45.337 : 341                          POP     H
(1)  131/ 45.340 : 315 012 055                  CALL    CRLF
(1)  132/ 45.343 : 321                          POP     D         ; RESTORE END ADDRESS
(1)  133/ 45.344 : 315 224 055                  CALL    CPHD      ; END OF DISASSEMBLY?
(1)  134/ 45.347 : 332 367 042                  JC      START     ; IF SO, EXIT
(1)  135/ 45.352 : 325                          PUSH    D         ; SAVE DE AGAIN
(1)  136/ 45.353 : 303 044 045                  JMP     DIS2      ; CONTINUE
(1)  137/ 45.356 :                      ;
(1)  138/ 45.356 :                      ;        PRINT MNEMONICS
(1)  139/ 45.356 :                      ;
(1)  140/ 45.356 : 041 364 057          MNEM    LXI     H,TABLA   ; LOOK UP OPCODE
(1)  141/ 45.361 : 176                  MNEM0   MOV     A,M       ; IN TABLE
(1)  142/ 45.362 : 270                          CMP     B         ; IS THIS IT?
(1)  143/ 45.363 : 312 001 046                  JZ      MNEM2     ; YES, PUT IN BUFF
(1)  144/ 45.366 : 043                  MNEM1   INX     H         ; NO, GET NEXT
(1)  145/ 45.367 : 176                          MOV     A,M       ; OPCODE
(1)  146/ 45.370 : 376 004                      CPI     4
(1)  147/ 45.372 : 302 366 045                  JNZ     MNEM1
(1)  148/ 45.375 : 043                          INX     H
(1)  149/ 45.376 : 303 361 045                  JMP     MNEM0     ; TRY AGAIN
(1)  150/ 46.001 : 043                  MNEM2   INX     H         ; SKIP OVER OPCODE
(1)  151/ 46.002 : 021 230 067                  LXI     D,BUFF+25 ; POINT TO BUFFER
(1)  152/ 46.005 : 176                          MOV     A,M       ; GET FIRST CHAR.
(1)  153/ 46.006 : 022                  MNEM3   STAX    D         ; PUT IT IN BUFF
(1)  154/ 46.007 : 043                          INX     H         ; GET NEXT CHAR
(1)  155/ 46.010 : 023                          INX     D
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dis.acm) - Page 11 - 08/18/2024 03:18:17 PM


(1)  156/ 46.011 : 176                          MOV     A,M
(1)  157/ 46.012 : 376 010                      CPI     8         ; CHECK FOR SPACES
(1)  158/ 46.014 : 314 037 046                  CZ      SPAC
(1)  159/ 46.017 : 376 007                      CPI     7
(1)  160/ 46.021 : 314 037 046                  CZ      SPAC
(1)  161/ 46.024 : 376 006                      CPI     6
(1)  162/ 46.026 : 314 037 046                  CZ      SPAC
(1)  163/ 46.031 : 376 004                      CPI     4         ; END OF MNEM.?
(1)  164/ 46.033 : 302 006 046                  JNZ     MNEM3     ; NO, CONTINUE
(1)  165/ 46.036 : 311                          RET               ;   YES, RETURN
(1)  166/ 46.037 :                      ;
(1)  167/ 46.037 :                      ;        PRINT SPACES
(1)  168/ 46.037 :                      ;
(1)  169/ 46.037 : 305                  SPAC    PUSH    B
(1)  170/ 46.040 : 117                          MOV     C,A       ; NO OF SPACES
(1)  171/ 46.041 : 023                  SPACE1  INX     D         ; "PRINT" A SPACE
(1)  172/ 46.042 : 015                          DCR     C         ; END OF SPACES?
(1)  173/ 46.043 : 302 041 046                  JNZ     SPACE1    ; NO, CONTINUE
(1)  174/ 46.046 : 301                          POP     B         ; YES,
(1)  175/ 46.047 : 043                          INX     H         ; GET NEXT CHAR
(1)  176/ 46.050 : 176                          MOV     A,M
(1)  177/ 46.051 : 311                          RET               ; RETURN
(1)  178/ 46.052 :                      ;
(1)  179/ 46.052 :                      ;        CLEAR BUFFER
(1)  180/ 46.052 :                      ;
(1)  181/ 46.052 : 026 066              CLRBF   MVI     D,54      ; SIZE OF BUFFER - 1
(1)  182/ 46.054 : =46.053O             BSIZE   EQU     $-1
(1)  183/ 46.054 : 041 177 067                  LXI     H,BUFF
(1)  184/ 46.057 : 066 040              CLRB1   MVI     M,20H     ; PUT SPACE IN BUFFER
(1)  185/ 46.061 : 043                          INX     H
(1)  186/ 46.062 : 025                          DCR     D
(1)  187/ 46.063 : 302 057 046                  JNZ     CLRB1
(1)  188/ 46.066 : 066 004                      MVI     M,4
(1)  189/ 46.070 : 311                          RET
(1)  190/ 46.071 :                      ;
(1)  191/ 46.071 :                      ;        PRINT ASCII COMMENTS
(1)  192/ 46.071 :                      ;
(1)  193/ 46.071 : 176                  COM     MOV     A,M       ; GET 1ST BYTE
(1)  194/ 46.072 : 315 106 046                  CALL    COMA      ; PRINT IT
(1)  195/ 46.075 : 043                          INX     H
(1)  196/ 46.076 : 023                          INX     D
(1)  197/ 46.077 : 176                  COM1    MOV     A,M       ; GET BYTE
(1)  198/ 46.100 : 315 106 046                  CALL    COMA      ; PRINT IT
(1)  199/ 46.103 : 043                          INX     H
(1)  200/ 46.104 : 023                          INX     D
(1)  201/ 46.105 : 176                  COM2    MOV     A,M       ; GET BYTE
(1)  202/ 46.106 : 346 177              COMA    ANI     7FH       ; NO PARITY
(1)  203/ 46.110 : 365                          PUSH    PSW
(1)  204/ 46.111 : 326 041                      SUI     21H       ; CONTROL CHARS?
(1)  205/ 46.113 : 362 120 046                  JP      COMA2
(1)  206/ 46.116 : 361                          POP     PSW       ; IF SO, DON'T
(1)  207/ 46.117 : 311                          RET               ;   PRINT THEM
(1)  208/ 46.120 : 361                  COMA2   POP     PSW
(1)  209/ 46.121 : 022                          STAX    D         ; PUT IT IN BUFF
(1)  210/ 46.122 : 311                          RET
(1)  211/ 46.123 :                      ;
(1)  212/ 46.123 :                      ;
(1)  213/ 46.123 :                      ;        PRINT ADDRESS
(1)  214/ 46.123 :                      ;
(1)  215/ 46.123 : 174                  PADDR   MOV     A,H       ; GET ADDR HI BYTE
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dis.acm) - Page 12 - 08/18/2024 03:18:17 PM


(1)  216/ 46.124 : 021 177 067                  LXI     D,BUFF
(1)  217/ 46.127 : 315 146 046                  CALL    ASC       ; PRINT IT
(1)  218/ 46.132 : 072 276 056                  LDA     BFLAG
(1)  219/ 46.135 : 267                          ORA     A         ; TEST BASE
(1)  220/ 46.136 : 312 145 046                  JZ      PADDR0    ; HEX, NO PERIOD
(1)  221/ 46.141 : 076 056                      MVI     A,'.'     ; PRINT A PERIOD
(1)  222/ 46.143 : 022                          STAX    D
(1)  223/ 46.144 : 023                          INX     D
(1)  224/ 46.145 : 175                  PADDR0  MOV     A,L       ; GET LOW BYTE
(1)  225/ 46.146 :                      ;       JMP     ASC       ; PRINT IT
(1)  226/ 46.146 :                      ;
(1)  227/ 46.146 :                      ;        BINARY TO ASCII CONVERSION ROUTINE
(1)  228/ 46.146 :                      ;
(1)  229/ 46.146 : 365                  ASC     PUSH    PSW       ; SAVE BYTE
(1)  230/ 46.147 : 072 276 056                  LDA     BFLAG
(1)  231/ 46.152 : 267                          ORA     A         ; TEST BASE
(1)  232/ 46.153 : 302 205 046                  JNZ     OASC      ; OCTAL
(1)  233/ 46.156 : 361                          POP     PSW       ; RESTORE BYTE
(1)  234/ 46.157 : 365                          PUSH    PSW       ; SAVE AGAIN
(1)  235/ 46.160 : 017                          RRC               ;   MOVE HIGH NIBBLE
(1)  236/ 46.161 : 017                          RRC               ;    DOWN
(1)  237/ 46.162 : 017                          RRC
(1)  238/ 46.163 : 017                          RRC
(1)  239/ 46.164 : 346 017                      ANI     0FH       ; STRIP LOW NIBBLE
(1)  240/ 46.166 : 315 174 046                  CALL    HASC      ; CONVERT TO ASCII
(1)  241/ 46.171 : 361                          POP     PSW       ; RESTORE BYTE
(1)  242/ 46.172 : 346 017                      ANI     0FH       ; STRIP HIGH NIBBLE
(1)  243/ 46.174 : 306 220              HASC    ADI     90H       ; ASCII CONVERSION
(1)  244/ 46.176 : 047                          DAA               ;    ROUTINE
(1)  245/ 46.177 : 316 100                      ACI     40H
(1)  246/ 46.201 : 047                          DAA
(1)  247/ 46.202 : 022                          STAX    D
(1)  248/ 46.203 : 023                          INX     D
(1)  249/ 46.204 : 311                          RET
(1)  250/ 46.205 : 361                  OASC    POP     PSW       ; RESTORE BYTE
(1)  251/ 46.206 : 365                          PUSH    PSW       ; SAVE AGAIN
(1)  252/ 46.207 : 017                          RRC               ;   MOVE MOST
(1)  253/ 46.210 : 017                          RRC               ;   SIGNIFICANT BITS
(1)  254/ 46.211 : 017                          RRC               ;   DOWN
(1)  255/ 46.212 : 017                          RRC
(1)  256/ 46.213 : 017                          RRC
(1)  257/ 46.214 : 017                          RRC
(1)  258/ 46.215 : 346 003                      ANI     3         ; STRIP OTHER BITS
(1)  259/ 46.217 : 315 237 046                  CALL    OASC0     ; CONVERT TO ASCII
(1)  260/ 46.222 : 361                          POP     PSW       ; RESTORE BYTE
(1)  261/ 46.223 : 365                          PUSH    PSW       ; SAVE IT
(1)  262/ 46.224 : 017                          RRC               ;   MOVE 3 MIDDLE BITS
(1)  263/ 46.225 : 017                          RRC               ;   DOWN
(1)  264/ 46.226 : 017                          RRC
(1)  265/ 46.227 : 346 007                      ANI     7         ; STRIP OTHER BITS
(1)  266/ 46.231 : 315 237 046                  CALL    OASC0     ; CONVERT TO ASCII
(1)  267/ 46.234 : 361                          POP     PSW       ; RESTORE BYTE
(1)  268/ 46.235 : 346 007                      ANI     7         ; STRIP HIGH BITS
(1)  269/ 46.237 : 306 060              OASC0   ADI     30H       ; ADD ASCII BIAS
(1)  270/ 46.241 : 022                          STAX    D         ; PUT CHAR IN BUFF
(1)  271/ 46.242 : 023                          INX     D
(1)  272/ 46.243 : 311                          RET
(1)  273/ 46.244 :                      ;
(1)  274/ 46.244 :                      ;        STRING PRINTING ROUTINE
(1)  275/ 46.244 :                      ;
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dis.acm) - Page 13 - 08/18/2024 03:18:17 PM


(1)  276/ 46.244 : 176                  PSTRG   MOV     A,M       ; POINT TO STRING
(1)  277/ 46.245 : 376 004                      CPI     4         ; END OF STRING?
(1)  278/ 46.247 : 310                          RZ                ; YES, RETURN
(1)  279/ 46.250 : 315 240 054                  CALL    OUTCH     ;   NO, PRINT CHAR
(1)  280/ 46.253 : 043                          INX     H         ; MOVE TO NEXT CHAR
(1)  281/ 46.254 : 303 244 046                  JMP     PSTRG
(1)  282/ 46.257 :                      
     430/ 46.257 : [1.172]                      ENDIF
     431/ 46.257 :                      
     432/ 46.257 :                      ; FILL RAM MEMORY WITH A CONSTANT
     433/ 46.257 :                      
     434/ 46.257 : 041 342 067          FILL    LXI     H,ILL     ; COMPLETE COMMAND
     435/ 46.262 : 315 227 056                  CALL    PSTRNG
     436/ 46.265 : 014                          INR     C         ; GET THREE PARAMETERS
     437/ 46.266 : 315 106 054                  CALL    GETLN     ; GET COMMAND INFO
     438/ 46.271 : 315 017 055                  CALL    DATA
     439/ 46.274 : 301                          POP     B         ; CONSTANT IN C
     440/ 46.275 : 321                          POP     D         ; HIGH ADDRESS
     441/ 46.276 : 341                          POP     H         ; LOW ADDRESS
     442/ 46.277 : 161                  FILL0   MOV     M,C       ; INSERT NEW DATA
     443/ 46.300 : 171                          MOV     A,C
     444/ 46.301 : 276                          CMP     M         ; CHECK RAM
     445/ 46.302 : 302 152 054                  JNZ     ERROR     ; BAD RAM
     446/ 46.305 : 315 224 055                  CALL    CPHD      ; END OF BLOCK?
     447/ 46.310 : 322 277 046                  JNC     FILL0     ; NO, CONTINUE
     448/ 46.313 : 303 367 042                  JMP     START     ; EXIT
     449/ 46.316 :                      
     450/ 46.316 :                      ; GO TO USER PROGRAM
     451/ 46.316 :                      ; OPTIONALLY SET BREAKPOINTS
     452/ 46.316 :                      
     453/ 46.316 : 041 346 067          GO      LXI     H,OTO     ; COMPLETE COMMAND
     454/ 46.321 : 315 227 056                  CALL    PSTRNG
     455/ 46.324 : 315 106 054          SSGO    CALL    GETLN     ; GET COMMAND INFO
     456/ 46.327 : 315 375 055                  CALL    CHECK     ; GET A CHARACTER
     457/ 46.332 : 332 027 047                  JC      GO2       ; CR ENTERED, EXIT TO PGM
     458/ 46.335 : 312 361 046                  JZ      GO0       ; SET BREAKPOINTS
     459/ 46.340 : 315 102 055                  CALL    CDATA     ; GET NEW PC VALUE
     460/ 46.343 : 321                          POP     D         ; NEW VALUE
     461/ 46.344 : 041 023 000                  LXI     H,PCTR
     462/ 46.347 : 071                          DAD     SP        ; LOCATE "PC" ADDRESS
     463/ 46.350 : 162                          MOV     M,D
     464/ 46.351 : 053                          DCX     H
     465/ 46.352 : 163                          MOV     M,E       ; STORE VALUE
     466/ 46.353 : 170                          MOV     A,B       ; GET DELIMITER
     467/ 46.354 : 376 015                      CPI     CR        ; SET BREAKPOINTS?
     468/ 46.356 : 312 027 047                  JZ      GO2       ; NO, EXECUTE USER PGM
     469/ 46.361 : 026 002              GO0     MVI     D,2       ; SET 1 OR 2 BREAKPOINTS
     470/ 46.363 : 041 024 000                  LXI     H,TRAP
     471/ 46.366 : 071                          DAD     SP        ; LOCATE TRAP ADDRESS
     472/ 46.367 : 345                  GO1     PUSH    H         ; SAVE TRAP ADDRESS
     473/ 46.370 : 325                          PUSH    D         ; SAVE DE
     474/ 46.371 : 016 001                      MVI     C,1
     475/ 46.373 : 315 017 055                  CALL    DATA      ; GET A BREAKPOINT ADDR
     476/ 46.376 : 170                          MOV     A,B       ; SAVE DELIMITER
     477/ 46.377 : 301                          POP     B         ; BREAKPOINT ADDRESS
     478/ 47.000 : 321                          POP     D         ; RESTORE DE
     479/ 47.001 : 137                          MOV     E,A       ; DELIMITER IN E
     480/ 47.002 : 341                          POP     H         ; PLACE TO STORE IT
     481/ 47.003 : 161                          MOV     M,C       ; STORE ADDRESS
     482/ 47.004 : 043                          INX     H
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 14 - 08/18/2024 03:18:17 PM


     483/ 47.005 : 160                          MOV     M,B
     484/ 47.006 : 043                          INX     H
     485/ 47.007 : 012                          LDAX    B         ; GET OPCODE
     486/ 47.010 : 167                          MOV     M,A       ; STORE IT
     487/ 47.011 : 043                          INX     H
     488/ 47.012 : 076 327                      MVI     A,RST20   ; RESTART 2
     489/ 47.014 : 002                          STAX    B         ; PUT IN OPCODE'S PLACE
     490/ 47.015 : 173                          MOV     A,E       ; TEST DELIMITER
     491/ 47.016 : 376 015                      CPI     CR
     492/ 47.020 : 312 027 047                  JZ      GO2       ; DONE, EXIT TO PGM
     493/ 47.023 : 025                          DCR     D         ; SET ANOTHER BREAKPOINT?
     494/ 47.024 : 302 367 046                  JNZ     GO1       ; YES, GET IT
     495/ 47.027 : 072 277 056          GO2     LDA     CONFLG    ; GET CONSOLE MODE FLAG
     496/ 47.032 : 267                          ORA     A         ; LINE MODE?
     497/ 47.033 : 312 044 047                  JZ      GO3
     498/ 47.036 : 257                          XRA     A
     499/ 47.037 : 001 201 201                  LXI     B,8181H
     500/ 47.042 : (MACRO)                      SCALL   DCONSL    ; SET CONSOLE FOR CHAR MODE
     500/ 47.042 : 377                          RST     7
     500/ 47.043 : 006                          DB      DCONSL
     501/ 47.044 : 072 303 056          GO3     LDA     SSFLAG
     502/ 47.047 : 267                          ORA     A         ; IN SINGLE STEP MODE?
     503/ 47.050 : 302 325 053                  JNZ     SSTEP0    ; IF SO, GO TO STEPPER
     504/ 47.053 : (MACRO)                      SCALL   DCLRCO
     504/ 47.053 : 377                          RST     7
     504/ 47.054 : 007                          DB      DCLRCO
     505/ 47.055 : 257                          XRA     A
     506/ 47.056 : 062 274 056                  STA     MMFLAG    ; IN USER MODE
     507/ 47.061 : 303 122 071                  JMP     EXIT      ; GO TO USER PGM
     508/ 47.064 :                      
     509/ 47.064 :                      ; SET CHARACTER INPUT MODE
     510/ 47.064 :                      
     511/ 47.064 : 041 353 067          INPUT   LXI     H,NPUT
     512/ 47.067 : 315 227 056                  CALL    PSTRNG    ; COMPLETE COMMAND
     513/ 47.072 : 315 371 054                  CALL    ECHO      ; GET RESPONSE
     514/ 47.075 : 006 000                      MVI     B,0
     515/ 47.077 : 376 114                      CPI     'L'       ; LINE MODE?
     516/ 47.101 : 312 123 047                  JZ      LINE
     517/ 47.104 : 376 103                      CPI     'C'       ; CHAR MODE?
     518/ 47.106 : 302 152 054                  JNZ     ERROR     ; BAD ENTRY
     519/ 47.111 : 004                          INR     B
     520/ 47.112 : 041 365 067                  LXI     H,CHAR
     521/ 47.115 : 315 227 056                  CALL    PSTRNG    ; PRINT "CHARACTER"
     522/ 47.120 : 303 131 047                  JMP     SETIN     ; SET THE FLAG
     523/ 47.123 : 041 375 067          LINE    LXI     H,LINEM
     524/ 47.126 : 315 227 056                  CALL    PSTRNG    ; PRINT "LINE"
     525/ 47.131 : 170                  SETIN   MOV     A,B
     526/ 47.132 : 062 277 056                  STA     CONFLG    ; SET THE CONSOLE FLAG
     527/ 47.135 : 303 367 042                  JMP     START
     528/ 47.140 :                      
     529/ 47.140 :                      ; CONVERT OCTAL TO HEX
     530/ 47.140 :                      
     531/ 47.140 : 041 000 070          HEX     LXI     H,EX      ; COMPLETE COMMAND
     532/ 47.143 : 315 227 056                  CALL    PSTRNG
     533/ 47.146 : 015                          DCR     C         ; GET ONE NUMBER
     534/ 47.147 : 315 106 054                  CALL    GETLN
     535/ 47.152 : 315 123 055                  CALL    ODATA     ; IN OCTAL
     536/ 47.155 : 315 012 055                  CALL    CRLF
     537/ 47.160 : 341                          POP     H         ; NUMBER TO CONVERT
     538/ 47.161 : 174                          MOV     A,H
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 15 - 08/18/2024 03:18:17 PM


     539/ 47.162 : 315 270 055                  CALL    HBYTE     ; CONVERT HIGH BYTE
     540/ 47.165 : 175                          MOV     A,L
     541/ 47.166 : 315 270 055                  CALL    HBYTE     ; CONVERT LOW BYTE
     542/ 47.171 : 303 367 042                  JMP     START
     543/ 47.174 :                      
     544/ 47.174 :                      ; LOAD A FILE FROM DISK
     545/ 47.174 :                      
     546/ 47.174 : 041 003 070          LOAD    LXI     H,OAD
     547/ 47.177 : 315 227 056                  CALL    PSTRNG    ; COMPLETE COMMAND
     548/ 47.202 : 315 106 054                  CALL    GETLN     ; LINE INPUT MODE
     549/ 47.205 : 315 127 050                  CALL    GETNAM    ; GET FILE NAME
     550/ 47.210 : 076 001                      MVI     A,1
     551/ 47.212 : 021 312 056                  LXI     D,DEFALT
     552/ 47.215 : 041 340 056                  LXI     H,FNAME
     553/ 47.220 : (MACRO)                      SCALL   DOPENR    ; OPEN THE FILE
     553/ 47.220 : 377                          RST     7
     553/ 47.221 : 042                          DB      DOPENR
     554/ 47.222 : 332 176 054                  JC      IOERR
     555/ 47.225 : 076 001                      MVI     A,1
     556/ 47.227 : 062 301 056                  STA     FSTAT     ; FLAG FILE OPEN
     557/ 47.232 : 001 000 001                  LXI     B,256     ; READ ONE SECTOR
     558/ 47.235 : 021 170 042                  LXI     D,FSTART  ; PUT IT HERE
     559/ 47.240 : (MACRO)                      SCALL   DREAD
     559/ 47.240 : 377                          RST     7
     559/ 47.241 : 004                          DB      DREAD
     560/ 47.242 : 322 252 047                  JNC     LOAD0
     561/ 47.245 : 376 001                      CPI     1
     562/ 47.247 : 302 176 054                  JNZ     IOERR
     563/ 47.252 : 076 001              LOAD0   MVI     A,1
     564/ 47.254 : 315 077 050                  CALL    CLOSE     ; FLAG FILE CLOSED
     565/ 47.257 : (MACRO)                      SCALL   DCLOSE    ; CLOSE THE FILE
     565/ 47.257 : 377                          RST     7
     565/ 47.260 : 046                          DB      DCLOSE
     566/ 47.261 : 332 176 054                  JC      IOERR
     567/ 47.264 : 052 170 042                  LHLD    FSTART    ; GET ID CODE
     568/ 47.267 : 175                          MOV     A,L
     569/ 47.270 : 376 377                      CPI     0FFH      ; IS IT MACHINE FILE?
     570/ 47.272 : 302 105 050                  JNZ     TERROR    ; TYPE ERROR
     571/ 47.275 : 174                          MOV     A,H
     572/ 47.276 : 267                          ORA     A
     573/ 47.277 : 302 105 050                  JNZ     TERROR
     574/ 47.302 : 052 172 042                  LHLD    FSTART+2  ; GET FILE START
     575/ 47.305 : 353                          XCHG              ; IN DE
     576/ 47.306 : 052 174 042                  LHLD    FSTART+4  ; GET FILE SIZE
     577/ 47.311 : 031                          DAD     D         ; ADD TO START
     578/ 47.312 : 042 310 056                  SHLD    FEND      ; STORE TOP OF FILE
     579/ 47.315 : 353                          XCHG              ; TOP OF FILE IN DE
     580/ 47.316 : 024                          INR     D         ; ADD 256
     581/ 47.317 : 052 304 056                  LHLD    TOP       ; GET TOP OF AVAILABLE RAM
     582/ 47.322 : 353                          XCHG              ; RAM TOP IN DE, FILE TOP IN HL
     583/ 47.323 : 315 224 055                  CALL    CPHD      ; CHECK IF ENOUGH RAM
     584/ 47.326 : 332 116 050                  JC      TOOBIG    ; FILE TOO BIG
     585/ 47.331 : 052 176 042                  LHLD    FSTART+6  ; GET PC START ADDR
     586/ 47.334 : 353                          XCHG              ; IN DE
     587/ 47.335 : 041 023 000                  LXI     H,PCTR
     588/ 47.340 : 071                          DAD     SP        ; LOCATE USER PC
     589/ 47.341 : 162                          MOV     M,D       ; SET TO PROGRAM START
     590/ 47.342 : 053                          DCX     H
     591/ 47.343 : 163                          MOV     M,E
     592/ 47.344 : 076 001                      MVI     A,1
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 16 - 08/18/2024 03:18:17 PM


     593/ 47.346 : 021 312 056                  LXI     D,DEFALT
     594/ 47.351 : 041 340 056                  LXI     H,FNAME
     595/ 47.354 : (MACRO)                      SCALL   DOPENR    ; OPEN THE FILE
     595/ 47.354 : 377                          RST     7
     595/ 47.355 : 042                          DB      DOPENR
     596/ 47.356 : 332 176 054                  JC      IOERR
     597/ 47.361 : 052 172 042                  LHLD    FSTART+2  ; GET PROGRAM START
     598/ 47.364 : 026 377                      MVI     D,0FFH
     599/ 47.366 : 036 370                      MVI     E,0F8H    ; -8 IN DE
     600/ 47.370 : 031                          DAD     D         ; SUBTRACT 8
     601/ 47.371 : 042 306 056                  SHLD    FBGN      ; STORE FILE BEGINNING
     602/ 47.374 : 315 150 053                  CALL    NEG       ; MAKE IT NEGATIVE
     603/ 47.377 : 052 304 056                  LHLD    TOP       ; GET TOP OF RAM
     604/ 50.002 : 031                          DAD     D         ; SUBTRACT BEGINNING
     605/ 50.003 : 104                          MOV     B,H       ; HIGH BYTE IN B
     606/ 50.004 : 005                          DCR     B
     607/ 50.005 : 016 000                      MVI     C,0       ; MULTIPLE OF 256
     608/ 50.007 : 052 306 056                  LHLD    FBGN      ; GET BEGINNING
     609/ 50.012 : 353                          XCHG              ; PUT IT IN DE
     610/ 50.013 : 076 001                      MVI     A,1
     611/ 50.015 : 062 301 056                  STA     FSTAT     ; FLAG FILE OPEN
     612/ 50.020 : (MACRO)                      SCALL   DREAD     ; READ IN THE FILE
     612/ 50.020 : 377                          RST     7
     612/ 50.021 : 004                          DB      DREAD
     613/ 50.022 : 322 032 050                  JNC     LOAD1
     614/ 50.025 : 376 001                      CPI     1
     615/ 50.027 : 302 176 054                  JNZ     IOERR
     616/ 50.032 : 076 001              LOAD1   MVI     A,1
     617/ 50.034 : 315 077 050                  CALL    CLOSE     ; FLAG FILE CLOSED
     618/ 50.037 : (MACRO)                      SCALL   DCLOSE    ; CLOSE THE FILE
     618/ 50.037 : 377                          RST     7
     618/ 50.040 : 046                          DB      DCLOSE
     619/ 50.041 : 332 176 054                  JC      IOERR
     620/ 50.044 : 041 201 070                  LXI     H,STARTS
     621/ 50.047 : 315 227 056                  CALL    PSTRNG    ; PRINT "STARTS"
     622/ 50.052 : 052 172 042                  LHLD    FSTART+2
     623/ 50.055 : 315 236 055                  CALL    PADR      ; PRINT START ADDRESS
     624/ 50.060 : 041 212 070                  LXI     H,ENDS
     625/ 50.063 : 315 227 056                  CALL    PSTRNG    ; PRINT "ENDS"
     626/ 50.066 : 052 310 056                  LHLD    FEND      ; GET FILE END
     627/ 50.071 : 315 236 055                  CALL    PADR      ; PRINT END ADDRESS
     628/ 50.074 : 303 367 042                  JMP     START
     629/ 50.077 :                      
     630/ 50.077 : 075                  CLOSE   DCR     A
     631/ 50.100 : 062 301 056                  STA     FSTAT     ; FLAG FILE CLOSED
     632/ 50.103 : 074                          INR     A         ; FIX A
     633/ 50.104 : 311                          RET
     634/ 50.105 :                      
     635/ 50.105 : 041 113 070          TERROR  LXI     H,TYPE    ; GET TYPE ERROR MSG
     636/ 50.110 : 315 227 056                  CALL    PSTRNG    ; PRINT IT
     637/ 50.113 : 303 367 042                  JMP     START
     638/ 50.116 : 041 154 070          TOOBIG  LXI     H,TBIG    ; GET TOO BIG MSG
     639/ 50.121 : 315 227 056                  CALL    PSTRNG
     640/ 50.124 : 303 367 042                  JMP     START
     641/ 50.127 :                      
     642/ 50.127 :                      ; GET DISK FILE NAMES
     643/ 50.127 :                      
     644/ 50.127 : 041 340 056          GETNAM  LXI     H,FNAME   ; POINT TO BUFFER
     645/ 50.132 : 315 261 054          GETNA0  CALL    INCH      ; GET A CHARACTER
     646/ 50.135 : 167                          MOV     M,A       ; STORE CHARACTER
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 17 - 08/18/2024 03:18:17 PM


     647/ 50.136 : 043                          INX     H         ; INCR POINTER
     648/ 50.137 : 376 015                      CPI     CR        ; CR?
     649/ 50.141 : 312 151 050                  JZ      GETNA1    ; GET CHARACTERS UNTIL CR
     650/ 50.144 : 376 054                      CPI     ','       ; COMMA?
     651/ 50.146 : 302 132 050                  JNZ     GETNA0    ; COMMA CAN END FILE ALSO
     652/ 50.151 : 053                  GETNA1  DCX     H         ; DCR POINTER
     653/ 50.152 : 066 000                      MVI     M,0       ; TERMINATE NAME WITH ZERO
     654/ 50.154 : 311                          RET
     655/ 50.155 :                      
     656/ 50.155 :                      ; CASSETTE TAPE COMMAND PROCESSOR
     657/ 50.155 :                      
     658/ 50.155 : 315 371 054          TCMD    CALL    ECHO      ; GET SECOND CHARACTER
     659/ 50.160 : 376 114                      CPI     'L'       ; LOAD?
     660/ 50.162 : 312 200 050                  JZ      TLOAD
     661/ 50.165 : 376 123                      CPI     'S'       ; SAVE?
     662/ 50.167 : 312 366 053                  JZ      TSAVE
     663/ 50.172 : 315 240 054                  CALL    OUTCH
     664/ 50.175 : 303 152 054                  JMP     ERROR     ; BAD COMMAND
     665/ 50.200 :                      
     666/ 50.200 :                      ; LOAD CASSETTE TAPE
     667/ 50.200 :                      
     668/ 50.200 : 041 003 070          TLOAD   LXI     H,OAD     ; COMPLETE COMMAND
     669/ 50.203 : 315 227 056                  CALL    PSTRNG
     670/ 50.206 : 315 375 055                  CALL    CHECK     ; GET CHARACTER
     671/ 50.211 : 322 152 054                  JNC     ERROR     ; NOT A CR, EXIT
     672/ 50.214 : 315 012 055                  CALL    CRLF
     673/ 50.217 : 041 152 054                  LXI     H,ERROR
     674/ 50.222 : 042 031 040                  SHLD    TPERRX    ; SET UP ERROR EXIT
     675/ 50.225 : 041 367 042                  LXI     H,START   ; GET "RETURN" ADDRESS
     676/ 50.230 : 345                          PUSH    H         ; PUT IT ON STACK
     677/ 50.231 : 006 376                      MVI     B,376Q    ; TYPE AND NUMBER
     678/ 50.233 : 016 000                      MVI     C,0       ; IN BC
     679/ 50.235 : 315 265 002                  CALL    SRS       ; FIND START OF RECORD
     680/ 50.240 : 157                          MOV     L,A       ; HL = COUNT
     681/ 50.241 : 353                          XCHG              ; DE = COUNT, HL = TYPE
     682/ 50.242 : 015                          DCR     C         ; C = NEXT NO.
     683/ 50.243 : 011                          DAD     B
     684/ 50.244 : 174                          MOV     A,H
     685/ 50.245 : 305                          PUSH    B         ; SAVE TYPE AND NO.
     686/ 50.246 : 365                          PUSH    PSW       ; SAVE TYPE CODE
     687/ 50.247 : 346 177                      ANI     7FH       ; CLEAR FLAG BIT
     688/ 50.251 : 265                          ORA     L
     689/ 50.252 : 302 152 054                  JNZ     ERROR     ; SEQ. ERROR
     690/ 50.255 : 315 325 002                  CALL    RNP
     691/ 50.260 : 104                          MOV     B,H
     692/ 50.261 : 117                          MOV     C,A       ; BC = PGM COUNTER
     693/ 50.262 : 041 031 000                  LXI     H,PCTR+6  ; GET RDT PC
     694/ 50.265 : 071                          DAD     SP        ; STORAGE ADDR
     695/ 50.266 : 160                          MOV     M,B
     696/ 50.267 : 053                          DCX     H
     697/ 50.270 : 161                          MOV     M,C       ; STORE PC
     698/ 50.271 : 303 333 001                  JMP     PLOAD     ; CALL PAM-8 LOAD
     699/ 50.274 :                      
     700/ 50.274 :                      ; MOVE A BLOCK OF MEMORY
     701/ 50.274 :                      
     702/ 50.274 : 041 007 070          MOVE    LXI     H,OVE     ; COMPLETE COMMAND
     703/ 50.277 : 315 227 056                  CALL    PSTRNG
     704/ 50.302 : 014                          INR     C         ; GET THREE PARAMETERS
     705/ 50.303 : 315 106 054                  CALL    GETLN
     706/ 50.306 : 315 017 055                  CALL    DATA
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 18 - 08/18/2024 03:18:17 PM


     707/ 50.311 : 301                          POP     B         ; DESTINATION
     708/ 50.312 : 321                          POP     D         ; SOURCE END
     709/ 50.313 : 341                          POP     H         ; SOURCE BEGINNING
     710/ 50.314 : 176                  MOVE0   MOV     A,M       ; GET DATA BYTE
     711/ 50.315 : 002                          STAX    B         ; STORE AT DESTINATION
     712/ 50.316 : 003                          INX     B         ; MOVE DESTINATION POINTER
     713/ 50.317 : 315 224 055                  CALL    CPHD      ; TEST FOR COMPLETION
     714/ 50.322 : 322 314 050                  JNC     MOVE0     ; NOT FINISHED
     715/ 50.325 : 303 367 042                  JMP     START     ; EXIT
     716/ 50.330 :                      
     717/ 50.330 :                      ; CONVERT HEX TO OCTAL
     718/ 50.330 :                      
     719/ 50.330 : 041 013 070          OCT     LXI     H,CTAL    ; COMPLETE COMMAND
     720/ 50.333 : 315 227 056                  CALL    PSTRNG
     721/ 50.336 : 015                          DCR     C         ; GET ONE NUMBER
     722/ 50.337 : 315 106 054                  CALL    GETLN
     723/ 50.342 : 315 026 055                  CALL    HDATA
     724/ 50.345 : 315 012 055                  CALL    CRLF
     725/ 50.350 : 341                          POP     H         ; NUMBER TO CONVERT
     726/ 50.351 : 174                          MOV     A,H       ; GET FIRST BYTE
     727/ 50.352 : 315 317 055                  CALL    OBYTE     ; CONVERT IT
     728/ 50.355 : 076 056                      MVI     A,'.'
     729/ 50.357 : 315 240 054                  CALL    OUTCH     ; PRINT "." BETWEEN BYTES
     730/ 50.362 : 175                          MOV     A,L       ; GET SECOND BYTE
     731/ 50.363 : 315 317 055                  CALL    OBYTE     ; CONVERT IT
     732/ 50.366 : 303 367 042                  JMP     START
     733/ 50.371 :                      
     734/ 50.371 :                      ; PROCESS P COMMANDS
     735/ 50.371 :                      
     736/ 50.371 : 315 371 054          PCMD    CALL    ECHO      ; GET NEXT CHARACTER
     737/ 50.374 : 376 117                      CPI     'O'
     738/ 50.376 : 312 011 051                  JZ      PORT
     739/ 51.001 : 376 122                      CPI     'R'
     740/ 51.003 : 312 177 051                  JZ      PRINT
     741/ 51.006 : 303 152 054                  JMP     ERROR     ; BAD ENTRY
     742/ 51.011 :                      
     743/ 51.011 :                      ; PORT COMMANDS
     744/ 51.011 :                      
     745/ 51.011 : 041 020 070          PORT    LXI     H,RT
     746/ 51.014 : 315 227 056                  CALL    PSTRNG    ; COMPLETE COMMAND
     747/ 51.017 : 315 371 054                  CALL    ECHO      ; GET RESPONSE
     748/ 51.022 : 376 117                      CPI     'O'
     749/ 51.024 : 312 105 051                  JZ      OUT
     750/ 51.027 : 376 111                      CPI     'I'
     751/ 51.031 : 302 152 054                  JNZ     ERROR
     752/ 51.034 :                      
     753/ 51.034 :                      ; INPUT FROM PORT
     754/ 51.034 :                      
     755/ 51.034 : 041 023 070                  LXI     H,IN
     756/ 51.037 : 315 227 056                  CALL    PSTRNG
     757/ 51.042 : 315 106 054                  CALL    GETLN
     758/ 51.045 : 015                          DCR     C
     759/ 51.046 : 315 017 055                  CALL    DATA      ; GET PORT ADDRESS
     760/ 51.051 : 341                          POP     H
     761/ 51.052 : 175                          MOV     A,L
     762/ 51.053 : 062 065 051                  STA     INPORT
     763/ 51.056 : 315 132 054                  CALL    FIXIN     ; FIX INPUT MODE (CHAR)
     764/ 51.061 : 315 012 055          IN0     CALL    CRLF
     765/ 51.064 : 333 000                      IN      0
     766/ 51.066 : =51.065O             INPORT  EQU     $-1
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 19 - 08/18/2024 03:18:17 PM


     767/ 51.066 : 315 257 055                  CALL    PBYTE     ; PRINT DATA AT PORT
     768/ 51.071 : 315 375 055                  CALL    CHECK     ; GET A CHARACTER
     769/ 51.074 : 332 367 042                  JC      START     ; CR, EXIT
     770/ 51.077 : 312 061 051                  JZ      IN0       ; DELIMITER, CONTINUE
     771/ 51.102 : 303 152 054                  JMP     ERROR
     772/ 51.105 :                      
     773/ 51.105 :                      ; OUTPUT TO PORT
     774/ 51.105 :                      
     775/ 51.105 : 041 025 070          OUT     LXI     H,UT
     776/ 51.110 : 315 227 056                  CALL    PSTRNG
     777/ 51.113 : 315 106 054                  CALL    GETLN
     778/ 51.116 : 015                          DCR     C
     779/ 51.117 : 315 017 055                  CALL    DATA      ; GET PORT ADDRESS
     780/ 51.122 : 341                          POP     H
     781/ 51.123 : 175                          MOV     A,L
     782/ 51.124 : 062 161 051                  STA     OUTPORT
     783/ 51.127 : 315 132 054                  CALL    FIXIN     ; FIX INPUT MODE (CHAR)
     784/ 51.132 : 315 012 055          OUT0    CALL    CRLF
     785/ 51.135 : 076 075                      MVI     A,'='
     786/ 51.137 : 315 240 054                  CALL    OUTCH     ; PRINT "="
     787/ 51.142 : 315 236 054                  CALL    SPACE     ; SPACE AFTER
     788/ 51.145 : 315 375 055                  CALL    CHECK     ; CHECK RESPONSE
     789/ 51.150 : 332 367 042                  JC      START     ; CR, EXIT
     790/ 51.153 : 315 102 055                  CALL    CDATA     ; GET DATA
     791/ 51.156 : 341                          POP     H
     792/ 51.157 : 175                          MOV     A,L
     793/ 51.160 : 323 000                      OUT     0         ; SEND DATA TO PORT
     794/ 51.162 : =51.161O             OUTPORT EQU     $-1
     795/ 51.162 : 170                          MOV     A,B       ; GET DELIMITER
     796/ 51.163 : 315 000 056                  CALL    CHECK0    ; CHECK IT
     797/ 51.166 : 332 367 042                  JC      START     ; CR, EXIT
     798/ 51.171 : 312 132 051                  JZ      OUT0      ; DELIMITER, CONTINUE
     799/ 51.174 : 303 152 054                  JMP     ERROR
     800/ 51.177 :                      
     801/ 51.177 :                      ; PRINTER CONTROL
     802/ 51.177 :                      
     803/ 51.177 : 041 030 070          PRINT   LXI     H,RINTER  ; COMPLETE COMMAND
     804/ 51.202 : 315 227 056                  CALL    PSTRNG
     805/ 51.205 : 315 371 054                  CALL    ECHO      ; GET RESPONSE
     806/ 51.210 : 376 116                      CPI     'N'
     807/ 51.212 : 312 301 051                  JZ      NOPRNT
     808/ 51.215 : 376 131                      CPI     'Y'
     809/ 51.217 : 302 152 054                  JNZ     ERROR
     810/ 51.222 :                      
     811/ 51.222 :                      ; TURN PRINTER ON
     812/ 51.222 :                      
     813/ 51.222 : 072 323 056                  LDA     PFLAG     ; GET PRINTER FLAG
     814/ 51.225 : 267                          ORA     A         ; IS IT SET
     815/ 51.226 : 302 367 042                  JNZ     START     ; PRINTER ALREADY ON
     816/ 51.231 : 006 000                      MVI     B,0
     817/ 51.233 : 110                          MOV     C,B       ; C IS A COUNTER
     818/ 51.234 : 041 364 056                  LXI     H,PBUFF
     819/ 51.237 : 042 320 056                  SHLD    PBPTR
     820/ 51.242 : 160                  PLOOP   MOV     M,B       ; CLEAR PRINTER BUFFER
     821/ 51.243 : 043                          INX     H
     822/ 51.244 : 015                          DCR     C         ; DCR COUNTER
     823/ 51.245 : 302 242 051                  JNZ     PLOOP     ; LOOP UNTIL DONE
     824/ 51.250 : 076 002                      MVI     A,2
     825/ 51.252 : 021 325 056                  LXI     D,PDFLT
     826/ 51.255 : 041 333 056                  LXI     H,PNAME
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 20 - 08/18/2024 03:18:17 PM


     827/ 51.260 : (MACRO)                      SCALL   DOPENW    ; OPEN THE DRIVER
     827/ 51.260 : 377                          RST     7
     827/ 51.261 : 043                          DB      DOPENW
     828/ 51.262 : 332 176 054                  JC      IOERR
     829/ 51.265 : 076 002                      MVI     A,2
     830/ 51.267 : 062 323 056                  STA     PFLAG     ; FLAG PRINTER ON
     831/ 51.272 : 075                          DCR     A
     832/ 51.273 : 062 322 056                  STA     PNCTR     ; SET PRINT COUNTER
     833/ 51.276 : 303 367 042                  JMP     START
     834/ 51.301 :                      
     835/ 51.301 :                      ;TURN PRINTER OFF
     836/ 51.301 :                      
     837/ 51.301 : 072 323 056          NOPRNT  LDA     PFLAG     ; GET PRINTER FLAG
     838/ 51.304 : 267                          ORA     A         ; IS IT SET?
     839/ 51.305 : 312 367 042                  JZ      START     ; PRINTER ALREADY OFF
     840/ 51.310 : 076 012                      MVI     A,0AH
     841/ 51.312 : 315 336 051                  CALL    LPRINT    ; PRINT CRLF
     842/ 51.315 : 315 003 052                  CALL    RESET     ; EMPTY THE BUFFER
     843/ 51.320 : 076 002                      MVI     A,2
     844/ 51.322 : (MACRO)                      SCALL   DCLOSE    ; CLOSE THE DRIVER
     844/ 51.322 : 377                          RST     7
     844/ 51.323 : 046                          DB      DCLOSE
     845/ 51.324 : 332 176 054                  JC      IOERR
     846/ 51.327 : 257                          XRA     A
     847/ 51.330 : 062 323 056                  STA     PFLAG     ; FLAG PRINTER OFF
     848/ 51.333 : 303 367 042                  JMP     START
     849/ 51.336 :                      
     850/ 51.336 :                      ; LPRINT -- SEND CHARACTERS TO A HARDCOPY DEVICE
     851/ 51.336 :                      ; THIS ROUTINE IS CALLED EACH TIME A CHARACTER
     852/ 51.336 :                      ; IS SENT TO THE CONSOLE IF "PFLAG" IS SET.
     853/ 51.336 :                      ; IT PUTS THE CHARACTER INTO A BUFFER, AND WHEN IT
     854/ 51.336 :                      ; IS FULL, IT SENDS THE BUFFER TO THE PRINTER.
     855/ 51.336 :                      
     856/ 51.336 : 345                  LPRINT  PUSH    H
     857/ 51.337 : 325                          PUSH    D
     858/ 51.340 : 305                          PUSH    B         ; SAVE ALL REGISTERS
     859/ 51.341 : 365                          PUSH    PSW       ; SAVE CHARACTER
     860/ 51.342 : 072 324 056                  LDA     RFLAG
     861/ 51.345 : 267                          ORA     A         ; BUFFER FULL?
     862/ 51.346 : 314 003 052                  CZ      RESET     ; IF SO, PRINT
     863/ 51.351 : 361                          POP     PSW       ; RESTORE CHAR
     864/ 51.352 : 052 320 056                  LHLD    PBPTR
     865/ 51.355 : 167                          MOV     M,A       ; STORE CHARACTER IN BUFFER
     866/ 51.356 : 043                          INX     H
     867/ 51.357 : 042 320 056                  SHLD    PBPTR
     868/ 51.362 : 072 322 056                  LDA     PNCTR
     869/ 51.365 : 075                          DCR     A         ; DECREMENT COUNTER
     870/ 51.366 : 062 322 056                  STA     PNCTR
     871/ 51.371 : 302 377 051                  JNZ     LPEXIT
     872/ 51.374 : 062 324 056                  STA     RFLAG     ; FLAG BUFFER FULL
     873/ 51.377 : 301                  LPEXIT  POP     B         ; RESTORE REGISTERS
     874/ 52.000 : 321                          POP     D
     875/ 52.001 : 341                          POP     H
     876/ 52.002 : 311                          RET
     877/ 52.003 :                      
     878/ 52.003 : 076 002              RESET   MVI     A,2
     879/ 52.005 : 001 000 001                  LXI     B,256
     880/ 52.010 : 021 364 056                  LXI     D,PBUFF
     881/ 52.013 : (MACRO)                      SCALL   DWRITE    ; PRINT BUFFER CONTENTS
     881/ 52.013 : 377                          RST     7
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 21 - 08/18/2024 03:18:17 PM


     881/ 52.014 : 005                          DB      DWRITE
     882/ 52.015 : 332 176 054                  JC      IOERR
     883/ 52.020 : 006 000                      MVI     B,0
     884/ 52.022 : 110                          MOV     C,B
     885/ 52.023 : 041 364 056                  LXI     H,PBUFF
     886/ 52.026 : 042 320 056                  SHLD    PBPTR
     887/ 52.031 : 160                  RESLP   MOV     M,B       ; CLEAR BUFFER
     888/ 52.032 : 043                          INX     H
     889/ 52.033 : 015                          DCR     C         ; DECREMENT COUNTER
     890/ 52.034 : 302 031 052                  JNZ     RESLP
     891/ 52.037 : 076 001                      MVI     A,1
     892/ 52.041 : 062 324 056                  STA     RFLAG     ; FLAG BUFFER EMPTY
     893/ 52.044 : 311                          RET
     894/ 52.045 :                      
     895/ 52.045 :                      ; EXAMINE AND MODIFY CPU REGISTERS
     896/ 52.045 :                      
     897/ 52.045 : 041 050 070          REG     LXI     H,EGIS    ; COMPLETE COMMAND
     898/ 52.050 : 315 227 056                  CALL    PSTRNG
     899/ 52.053 : 315 371 054                  CALL    ECHO      ; GET REGISTER IDENTIFIER
     900/ 52.056 : 041 245 056                  LXI     H,TABLE   ; POINT TO REG TABLE
     901/ 52.061 : 376 015                      CPI     CR        ; DISPLAY ALL REGISTERS?
     902/ 52.063 : 302 077 052                  JNZ     REG0      ; NO, GET SINGLE REGISTER
     903/ 52.066 : 315 012 055                  CALL    CRLF
     904/ 52.071 : 315 234 052                  CALL    REG6      ; PRINT ALL REGISTERS
     905/ 52.074 : 303 367 042                  JMP     START     ; EXIT
     906/ 52.077 : 276                  REG0    CMP     M         ; FOUND REG IN TABLE?
     907/ 52.100 : 043                          INX     H
     908/ 52.101 : 312 120 052                  JZ      REG1      ; YES, DISPLAY VALUE
     909/ 52.104 : 365                          PUSH    PSW       ; SAVE CHARACTER
     910/ 52.105 : 176                          MOV     A,M       ; TEST FOR END OF TABLE
     911/ 52.106 : 267                          ORA     A
     912/ 52.107 : 372 152 054                  JM      ERROR     ; BAD ENTRY
     913/ 52.112 : 361                          POP     PSW       ; RESTORE CHARACTER
     914/ 52.113 : 043                          INX     H
     915/ 52.114 : 043                          INX     H
     916/ 52.115 : 303 077 052                  JMP     REG0      ; TRY NEXT TABLE REG
     917/ 52.120 : 315 236 054          REG1    CALL    SPACE
     918/ 52.123 : 315 106 054                  CALL    GETLN     ; GET INFO
     919/ 52.126 : 176                          MOV     A,M       ; DISPLACEMENT POINTER
     920/ 52.127 : 353                          XCHG              ; SAVE POINTER
     921/ 52.130 : 157                          MOV     L,A
     922/ 52.131 : 046 000                      MVI     H,0
     923/ 52.133 : 071                          DAD     SP        ; LOCATE REGISTER VALUE
     924/ 52.134 : 353                          XCHG              ; RESTORE POINTER
     925/ 52.135 : 043                          INX     H
     926/ 52.136 : 106                          MOV     B,M       ; GET BYTE COUNT
     927/ 52.137 : 043                          INX     H         ; POINT TO NEXT REG
     928/ 52.140 : 032                          LDAX    D         ; GET VALUE FOR DISPLAY
     929/ 52.141 : 315 257 055                  CALL    PBYTE     ; DISPLAY 8 BITS
     930/ 52.144 : 005                          DCR     B         ; 16 - BIT REGISTER?
     931/ 52.145 : 312 171 052                  JZ      REG3      ; NO
     932/ 52.150 : 072 276 056                  LDA     BFLAG
     933/ 52.153 : 267                          ORA     A         ; HEX OR OCTAL?
     934/ 52.154 : 312 164 052                  JZ      REG2      ; HEX
     935/ 52.157 : 076 056                      MVI     A,'.'     ; OCTAL, PRINT PERIOD
     936/ 52.161 : 315 240 054                  CALL    OUTCH     ; BETWEEN BYTES
     937/ 52.164 : 033                  REG2    DCX     D
     938/ 52.165 : 032                          LDAX    D         ; GET REST OF REG
     939/ 52.166 : 315 257 055                  CALL    PBYTE     ; DISPLAY IT
     940/ 52.171 : 004                  REG3    INR     B         ; RESTORE COUNT
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 22 - 08/18/2024 03:18:17 PM


     941/ 52.172 : 076 057                      MVI     A,'/'
     942/ 52.174 : 315 240 054                  CALL    OUTCH     ; PRINT SLASH
     943/ 52.177 : 315 375 055                  CALL    CHECK     ; WANT TO MODIFY?
     944/ 52.202 : 332 367 042                  JC      START     ; CR ENTERED, EXIT
     945/ 52.205 : 312 152 054                  JZ      ERROR     ; BAD ENTRY
     946/ 52.210 : 305                          PUSH    B         ; SAVE COUNT
     947/ 52.211 : 325                          PUSH    D         ; SAVE REG VALUE ADDR
     948/ 52.212 : 315 102 055                  CALL    CDATA     ; GET NEW VALUE
     949/ 52.215 : 341                          POP     H         ; NEW VALUE
     950/ 52.216 : 321                          POP     D         ; VALUE ADDR
     951/ 52.217 : 175                          MOV     A,L       ; GET NEW VALUE LSB
     952/ 52.220 : 022                          STAX    D         ; STORE IT
     953/ 52.221 : 301                          POP     B         ; COUNT
     954/ 52.222 : 005                          DCR     B         ; 2 - BYTE REGISTER?
     955/ 52.223 : 312 231 052                  JZ      REG4      ; YES
     956/ 52.226 : 023                          INX     D         ; NO
     957/ 52.227 : 174                          MOV     A,H       ; GET MSB
     958/ 52.230 : 022                          STAX    D         ; STORE IT
     959/ 52.231 : 303 367 042          REG4    JMP     START
     960/ 52.234 : 315 012 055          REG6    CALL    CRLF      ; START FULL REG DISPLAY
     961/ 52.237 : 315 236 054          REG7    CALL    SPACE     ; SPACE BETWEEN REGISTERS
     962/ 52.242 : 176                          MOV     A,M       ; GET REG CHARACTER
     963/ 52.243 : 043                          INX     H         ; POINT TO DISPLACEMENT
     964/ 52.244 : 267                          ORA     A         ; DONE?
     965/ 52.245 : 370                          RM                ; YES, EXIT
     966/ 52.246 : 315 240 054                  CALL    OUTCH     ; PRINT REG NAME
     967/ 52.251 : 076 075                      MVI     A,'='
     968/ 52.253 : 315 240 054                  CALL    OUTCH     ; PRINT EQUAL SIGN
     969/ 52.256 : 176                          MOV     A,M       ; GET DISPLACEMENT
     970/ 52.257 : 043                          INX     H         ; POINT TO COUNT
     971/ 52.260 : 353                          XCHG              ; SAVE POINTER
     972/ 52.261 : 074                          INR     A         ; CORRECT POINTER FOR
     973/ 52.262 : 074                          INR     A         ;   ONE STACK USAGE
     974/ 52.263 : 157                          MOV     L,A
     975/ 52.264 : 046 000                      MVI     H,0       ; GET ADDRESS
     976/ 52.266 : 071                          DAD     SP        ; OF REGISTER VALUE
     977/ 52.267 : 353                          XCHG              ; HL = POINTER, DE = ADDR
     978/ 52.270 : 106                          MOV     B,M       ; GET COUNT
     979/ 52.271 : 043                          INX     H         ; POINT TO NEXT REG
     980/ 52.272 : 032                          LDAX    D         ; GET LSB OF REGISTER
     981/ 52.273 : 315 257 055                  CALL    PBYTE     ; DISPLAY IT
     982/ 52.276 : 005                          DCR     B         ; 2 - BYTE REGISTER?
     983/ 52.277 : 312 237 052                  JZ      REG7      ; NO, GET NEXT REGISTER
     984/ 52.302 : 072 276 056                  LDA     BFLAG
     985/ 52.305 : 267                          ORA     A         ; HEX OR OCTAL?
     986/ 52.306 : 312 316 052                  JZ      REG8      ; HEX
     987/ 52.311 : 076 056                      MVI     A,'.'     ; OCTAL, PRINT PERIOD
     988/ 52.313 : 315 240 054                  CALL    OUTCH     ; BETWEEN BYTES
     989/ 52.316 : 033                  REG8    DCX     D         ; POINT TO MSB
     990/ 52.317 : 032                          LDAX    D         ; GET IT
     991/ 52.320 : 315 257 055                  CALL    PBYTE     ; DISPLAY IT
     992/ 52.323 : 303 237 052                  JMP     REG7      ; CONTINUE
     993/ 52.326 :                      
     994/ 52.326 :                      ; LETTER S COMMANDS
     995/ 52.326 :                      
     996/ 52.326 : 315 371 054          SCMD    CALL    ECHO      ; GET SECOND CHARACTER
     997/ 52.331 : 376 101                      CPI     'A'       ; SAVE?
     998/ 52.333 : 312 353 052                  JZ      SAVE
     999/ 52.336 : 376 105                      CPI     'E'       ; SEARCH?
    1000/ 52.340 : 312 160 053                  JZ      SERCH
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 23 - 08/18/2024 03:18:17 PM


    1001/ 52.343 : 376 111                      CPI     'I'       ; SINGLE STEP?
    1002/ 52.345 : 312 307 053                  JZ      SSTEP
    1003/ 52.350 : 303 152 054                  JMP     ERROR
    1004/ 52.353 :                      
    1005/ 52.353 :                      ; SAVE FILE TO DISK
    1006/ 52.353 :                      
    1007/ 52.353 : 041 076 070          SAVE    LXI     H,AVE+1
    1008/ 52.356 : 315 227 056                  CALL    PSTRNG    ; COMPLETE COMMAND
    1009/ 52.361 : 315 106 054                  CALL    GETLN     ; LINE INPUT MODE
    1010/ 52.364 : 315 127 050                  CALL    GETNAM    ; GET FILE NAME
    1011/ 52.367 : 014                          INR     C         ; GET 3 PARAMETERS
    1012/ 52.370 : 315 017 055                  CALL    DATA
    1013/ 52.373 : 076 001                      MVI     A,1
    1014/ 52.375 : 021 312 056                  LXI     D,DEFALT
    1015/ 53.000 : 041 340 056                  LXI     H,FNAME
    1016/ 53.003 : (MACRO)                      SCALL   DOPENW    ; OPEN THE FILE
    1016/ 53.003 : 377                          RST     7
    1016/ 53.004 : 043                          DB      DOPENW
    1017/ 53.005 : 332 176 054                  JC      IOERR
    1018/ 53.010 : 301                          POP     B         ; GET PC
    1019/ 53.011 : 341                          POP     H         ; GET FILE END
    1020/ 53.012 : 042 310 056                  SHLD    FEND
    1021/ 53.015 : 341                          POP     H         ; GET FILE BEGINNING
    1022/ 53.016 : 042 306 056                  SHLD    FBGN      ; STORE IT
    1023/ 53.021 : 124                          MOV     D,H       ; BEGINNING IN DE
    1024/ 53.022 : 135                          MOV     E,L
    1025/ 53.023 : 325                          PUSH    D         ; SAVE DE
    1026/ 53.024 : 026 377                      MVI     D,0FFH    ; -8 IN DE
    1027/ 53.026 : 036 370                      MVI     E,0F8H
    1028/ 53.030 : 031                          DAD     D         ; SUBTRACT 8 FROM START
    1029/ 53.031 : 321                          POP     D         ; RESTORE DE
    1030/ 53.032 : 066 377                      MVI     M,0FFH    ; INSERT ID CODE
    1031/ 53.034 : 043                          INX     H
    1032/ 53.035 : 066 000                      MVI     M,0
    1033/ 53.037 : 043                          INX     H
    1034/ 53.040 : 163                          MOV     M,E       ; INSERT START ADDR
    1035/ 53.041 : 043                          INX     H
    1036/ 53.042 : 162                          MOV     M,D
    1037/ 53.043 : 043                          INX     H
    1038/ 53.044 : 043                          INX     H
    1039/ 53.045 : 043                          INX     H
    1040/ 53.046 : 161                          MOV     M,C       ; INSERT PC VALUE
    1041/ 53.047 : 043                          INX     H
    1042/ 53.050 : 160                          MOV     M,B
    1043/ 53.051 : 052 306 056                  LHLD    FBGN      ; GET FILE BEGINNING
    1044/ 53.054 : 315 150 053                  CALL    NEG       ; MAKE IT NEGATIVE
    1045/ 53.057 : 052 310 056                  LHLD    FEND      ; GET FILE END
    1046/ 53.062 : 031                          DAD     D         ; SUBTRACT BEGINNING
    1047/ 53.063 : 104                          MOV     B,H       ; RESULT IN BC
    1048/ 53.064 : 115                          MOV     C,L
    1049/ 53.065 : 052 306 056                  LHLD    FBGN      ; GET FILE BEGINNING
    1050/ 53.070 : 053                          DCX     H         ; MOVE TO SIZE STORAGE
    1051/ 53.071 : 053                          DCX     H
    1052/ 53.072 : 053                          DCX     H
    1053/ 53.073 : 160                          MOV     M,B       ; STORE SIZE
    1054/ 53.074 : 053                          DCX     H
    1055/ 53.075 : 161                          MOV     M,C
    1056/ 53.076 : 140                          MOV     H,B       ; SIZE IN HL
    1057/ 53.077 : 151                          MOV     L,C
    1058/ 53.100 : 001 010 000                  LXI     B,8
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 24 - 08/18/2024 03:18:17 PM


    1059/ 53.103 : 011                          DAD     B         ; ADD 8
    1060/ 53.104 : 104                          MOV     B,H       ; CORRECT SIZE IN BC
    1061/ 53.105 : 004                          INR     B         ; MAKE MULTIPLE OF 256
    1062/ 53.106 : 016 000                      MVI     C,0
    1063/ 53.110 : 052 306 056                  LHLD    FBGN      ; GET FILE BEGINNING
    1064/ 53.113 : 026 377                      MVI     D,0FFH
    1065/ 53.115 : 036 370                      MVI     E,0F8H    ; -8 IN DE
    1066/ 53.117 : 031                          DAD     D         ; SUBTRACT 8
    1067/ 53.120 : 353                          XCHG              ; BEGINNING IN DE
    1068/ 53.121 : 076 001                      MVI     A,1
    1069/ 53.123 : 062 301 056                  STA     FSTAT     ; FLAG FILE OPEN
    1070/ 53.126 : (MACRO)                      SCALL   DWRITE    ; WRITE THE FILE
    1070/ 53.126 : 377                          RST     7
    1070/ 53.127 : 005                          DB      DWRITE
    1071/ 53.130 : 332 176 054                  JC      IOERR
    1072/ 53.133 : 076 001                      MVI     A,1
    1073/ 53.135 : 315 077 050                  CALL    CLOSE     ; FLAG FILE CLOSED
    1074/ 53.140 : (MACRO)                      SCALL   DCLOSE    ; CLOSE THE FILE
    1074/ 53.140 : 377                          RST     7
    1074/ 53.141 : 046                          DB      DCLOSE
    1075/ 53.142 : 332 176 054                  JC      IOERR
    1076/ 53.145 : 303 367 042                  JMP     START
    1077/ 53.150 :                      
    1078/ 53.150 :                      ; MAKE HL NEGATIVE -- RESULT IN DE
    1079/ 53.150 :                      
    1080/ 53.150 : 175                  NEG     MOV     A,L
    1081/ 53.151 : 057                          CMA               ; COMPLEMENT L
    1082/ 53.152 : 137                          MOV     E,A
    1083/ 53.153 : 174                          MOV     A,H
    1084/ 53.154 : 057                          CMA               ; COMPLEMENT H
    1085/ 53.155 : 127                          MOV     D,A
    1086/ 53.156 : 023                          INX     D         ; CORRECT RESULT
    1087/ 53.157 : 311                          RET
    1088/ 53.160 :                      
    1089/ 53.160 :                      ; SEARCH MEMORY FOR A BYTE OR WORD
    1090/ 53.160 :                      
    1091/ 53.160 : 041 060 070          SERCH   LXI     H,ARCH    ; COMPLETE COMMAND
    1092/ 53.163 : 315 227 056                  CALL    PSTRNG
    1093/ 53.166 : 315 371 054                  CALL    ECHO      ; GET A CHARACTER
    1094/ 53.171 : 376 102                      CPI     'B'       ; BYTE SEARCH?
    1095/ 53.173 : 006 000                      MVI     B,0       ; SET FLAG
    1096/ 53.175 : 302 211 053                  JNZ     SERCH0    ; WORD SEARCH
    1097/ 53.200 : 041 065 070                  LXI     H,YTE
    1098/ 53.203 : 315 227 056                  CALL    PSTRNG    ; PRINT "BYTE"
    1099/ 53.206 : 303 225 053                  JMP     SERCH1
    1100/ 53.211 : 376 127              SERCH0  CPI     'W'       ; WORD SEARCH?
    1101/ 53.213 : 302 152 054                  JNZ     ERROR     ; BAD ENTRY
    1102/ 53.216 : 041 071 070                  LXI     H,ORD
    1103/ 53.221 : 315 227 056                  CALL    PSTRNG    ; PRINT "WORD"
    1104/ 53.224 : 004                          INR     B         ; SET FLAG
    1105/ 53.225 : 170                  SERCH1  MOV     A,B
    1106/ 53.226 : 062 302 056                  STA     STYPE     ; STORE FLAG
    1107/ 53.231 : 014                          INR     C         ; GET THREE PARAMETERS
    1108/ 53.232 : 315 106 054                  CALL    GETLN     ; LINE INPUT
    1109/ 53.235 : 315 017 055                  CALL    DATA
    1110/ 53.240 : 301                          POP     B         ; SEARCH VALUE
    1111/ 53.241 : 321                          POP     D         ; END OF SEARCH AREA
    1112/ 53.242 : 341                          POP     H         ; START OF SEARCH AREA
    1113/ 53.243 : 176                  SERCH2  MOV     A,M       ; LOOK FOR MATCH
    1114/ 53.244 : 271                          CMP     C         ; GOT ONE?
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 25 - 08/18/2024 03:18:17 PM


    1115/ 53.245 : 314 261 053                  CZ      SERCH3    ; PROCESS MATCH
    1116/ 53.250 : 315 224 055                  CALL    CPHD      ; TEST FOR COMPLETION
    1117/ 53.253 : 322 243 053                  JNC     SERCH2    ; CONTINUE
    1118/ 53.256 : 303 367 042                  JMP     START     ; DONE, EXIT
    1119/ 53.261 : 072 302 056          SERCH3  LDA     STYPE     ; GET FLAG
    1120/ 53.264 : 267                          ORA     A         ; BYTE SEARCH?
    1121/ 53.265 : 302 277 053                  JNZ     SERCH5    ; NO, WORD
    1122/ 53.270 : 315 012 055          SERCH4  CALL    CRLF
    1123/ 53.273 : 315 236 055                  CALL    PADR      ; PRINT ADDRESS OF MATCH
    1124/ 53.276 : 311                          RET
    1125/ 53.277 : 043                  SERCH5  INX     H         ; CHECK NEXT BYTE FOR
    1126/ 53.300 : 176                          MOV     A,M       ; MATCH ALSO
    1127/ 53.301 : 270                          CMP     B
    1128/ 53.302 : 053                          DCX     H         ; BACK UP
    1129/ 53.303 : 300                          RNZ               ; NOT A MATCH
    1130/ 53.304 : 303 270 053                  JMP     SERCH4    ; PRINT ADDRESS OF MATCH
    1131/ 53.307 :                      
    1132/ 53.307 :                      ; SINGLE STEP COMMAND
    1133/ 53.307 :                      
    1134/ 53.307 : 041 101 070          SSTEP   LXI     H,NGLE
    1135/ 53.312 : 315 227 056                  CALL    PSTRNG    ; COMPLETE COMMAND
    1136/ 53.315 : 076 001                      MVI     A,1
    1137/ 53.317 : 062 303 056                  STA     SSFLAG    ; PRIME SINGLE STEP FLAG
    1138/ 53.322 : 303 324 046                  JMP     SSGO      ; GET ADDRESSES AND GO
    1139/ 53.325 : 041 024 000          SSTEP0  LXI     H,TRAP    ; FIND WHERE COUNT IS STORED
    1140/ 53.330 : 071                          DAD     SP
    1141/ 53.331 : 176                          MOV     A,M       ; GET COUNT
    1142/ 53.332 : 062 303 056                  STA     SSFLAG    ; STORE IN SSFLAG
    1143/ 53.335 : 072 303 056          SSTEP1  LDA     SSFLAG    ; GET STEP COUNT
    1144/ 53.340 : 075                          DCR     A         ; DECREMENT IT
    1145/ 53.341 : 062 303 056                  STA     SSFLAG    ; STORE NEW COUNT
    1146/ 53.344 : 257                          XRA     A
    1147/ 53.345 : 062 274 056                  STA     MMFLAG    ; IN USER MODE
    1148/ 53.350 : 363                          DI                ; DISABLE INTERRUPTS
    1149/ 53.351 : 072 011 040                  LDA     CTLFLG    ; GET CONTROL FLAG
    1150/ 53.354 : 356 020                      XRI     20Q
    1151/ 53.356 : 323 360                      OUT     360Q      ; PRIME SINGLE STEP INTERRUPT
    1152/ 53.360 : 062 011 040                  STA     CTLFLG    ; CLEAR SINGLE STEP INHIBIT
    1153/ 53.363 : 303 122 071                  JMP     EXIT      ; GO TO USER PROGRAM
    1154/ 53.366 :                      
    1155/ 53.366 :                      ; MAKE A MEMORY IMAGE TAPE
    1156/ 53.366 :                      
    1157/ 53.366 : 041 075 070          TSAVE   LXI     H,AVE     ; COMPLETE COMMAND
    1158/ 53.371 : 315 227 056                  CALL    PSTRNG
    1159/ 53.374 : 014                          INR     C         ; GET THREE PARAMETERS
    1160/ 53.375 : 315 106 054                  CALL    GETLN
    1161/ 54.000 : 315 017 055                  CALL    DATA
    1162/ 54.003 : 315 012 055                  CALL    CRLF
    1163/ 54.006 : 041 152 054                  LXI     H,ERROR
    1164/ 54.011 : 042 031 040                  SHLD    TPERRX    ; SET ERROR EXIT
    1165/ 54.014 : 076 001                      MVI     A,1
    1166/ 54.016 : 323 371                      OUT     371Q      ; TURN ON TAPE
    1167/ 54.020 : 076 026                      MVI     A,26Q     ; SYNC CHARACTER
    1168/ 54.022 : 046 040                      MVI     H,32      ; NUMBER OF CHARACTERS
    1169/ 54.024 : 315 024 003          TAPE0   CALL    WNB       ; WRITE CHARACTER
    1170/ 54.027 : 045                          DCR     H         ; DONE?
    1171/ 54.030 : 302 024 054                  JNZ     TAPE0     ; NO, CONTINUE
    1172/ 54.033 : 076 002                      MVI     A,2
    1173/ 54.035 : 315 024 003                  CALL    WNB       ; WRITE "STX" CHAR
    1174/ 54.040 : 154                          MOV     L,H       ; HL = 0
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 26 - 08/18/2024 03:18:17 PM


    1175/ 54.041 : 042 027 040                  SHLD    CRCSUM    ; SET CHECKSUM
    1176/ 54.044 : 046 201                      MVI     H,201Q    ; TYPE NUMBER
    1177/ 54.046 : 056 001                      MVI     L,1       ; IN HL
    1178/ 54.050 : 315 017 003                  CALL    WNP       ; WRITE IT
    1179/ 54.053 : 301                          POP     B         ; PC
    1180/ 54.054 : 341                          POP     H         ; END ADDRESS
    1181/ 54.055 : 321                          POP     D         ; START ADDRESS
    1182/ 54.056 : 043                          INX     H
    1183/ 54.057 : 175                          MOV     A,L       ; COMPUTE COUNT
    1184/ 54.060 : 223                          SUB     E
    1185/ 54.061 : 157                          MOV     L,A
    1186/ 54.062 : 174                          MOV     A,H
    1187/ 54.063 : 232                          SBB     D
    1188/ 54.064 : 147                          MOV     H,A
    1189/ 54.065 : 315 017 003                  CALL    WNP       ; WRITE IT
    1190/ 54.070 : 345                          PUSH    H         ; SAVE COUNT
    1191/ 54.071 : 140                          MOV     H,B
    1192/ 54.072 : 151                          MOV     L,C       ; HL = PC
    1193/ 54.073 : 315 017 003                  CALL    WNP       ; WRITE IT
    1194/ 54.076 : 341                          POP     H
    1195/ 54.077 : 353                          XCHG              ; HL = ADDR, DE = COUNT
    1196/ 54.100 : 315 101 002                  CALL    PDUMP
    1197/ 54.103 : 303 367 042                  JMP     START
    1198/ 54.106 :                      
    1199/ 54.106 :                      ; INPUT MODE HANDLERS
    1200/ 54.106 :                      
    1201/ 54.106 : 365                  GETLN   PUSH    PSW
    1202/ 54.107 : 305                          PUSH    B
    1203/ 54.110 : 325                          PUSH    D
    1204/ 54.111 : 345                          PUSH    H         ; SAVE REGISTERS
    1205/ 54.112 : (MACRO)                      SCALL   DCLRCO    ; CLEAR CONSOLE
    1205/ 54.112 : 377                          RST     7
    1205/ 54.113 : 007                          DB      DCLRCO
    1206/ 54.114 : 257                          XRA     A
    1207/ 54.115 : 062 300 056                  STA     INFLAG    ; SET MODE FLAG
    1208/ 54.120 : 001 377 000                  LXI     B,0FFH
    1209/ 54.123 : (MACRO)                      SCALL   DCONSL    ; SET CONSOLE FOR LINE MODE
    1209/ 54.123 : 377                          RST     7
    1209/ 54.124 : 006                          DB      DCONSL
    1210/ 54.125 : 341                          POP     H
    1211/ 54.126 : 321                          POP     D
    1212/ 54.127 : 301                          POP     B
    1213/ 54.130 : 361                          POP     PSW       ; RESTORE REGISTERS
    1214/ 54.131 : 311                          RET
    1215/ 54.132 :                      
    1216/ 54.132 : 365                  FIXIN   PUSH    PSW
    1217/ 54.133 : 305                          PUSH    B         ; SAVE B, PSW
    1218/ 54.134 : 257                          XRA     A
    1219/ 54.135 : 001 201 201                  LXI     B,8181H
    1220/ 54.140 : (MACRO)                      SCALL   DCONSL    ; SET CONSOLE FOR CHAR MODE
    1220/ 54.140 : 377                          RST     7
    1220/ 54.141 : 006                          DB      DCONSL
    1221/ 54.142 : 076 001                      MVI     A,1
    1222/ 54.144 : 062 300 056                  STA     INFLAG    ; SET MODE FLAG
    1223/ 54.147 : 301                          POP     B
    1224/ 54.150 : 361                          POP     PSW
    1225/ 54.151 : 311                          RET
    1226/ 54.152 :                      
    1227/ 54.152 :                      ; ERROR EXIT
    1228/ 54.152 :                      
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 27 - 08/18/2024 03:18:17 PM


    1229/ 54.152 : 257                  ERROR   XRA     A
    1230/ 54.153 : 323 371                      OUT     371Q      ; TURN OFF TAPE
    1231/ 54.155 : 062 303 056                  STA     SSFLAG    ; CLEAR SINGLE STEP MODE
    1232/ 54.160 : 061 112 071                  LXI     SP,STAK   ; COMPUTE STACK LOCATION
    1233/ 54.163 : (MACRO)                      SCALL   DCLRCO    ; CLEAR CONSOLE
    1233/ 54.163 : 377                          RST     7
    1233/ 54.164 : 007                          DB      DCLRCO
    1234/ 54.165 : 041 244 070                  LXI     H,QUES
    1235/ 54.170 : 315 227 056                  CALL    PSTRNG    ; PRINT " ? "
    1236/ 54.173 : 303 367 042                  JMP     START
    1237/ 54.176 :                      
    1238/ 54.176 :                      ; IO ERROR PROCESSING ROUTINE
    1239/ 54.176 :                      
    1240/ 54.176 : 365                  IOERR   PUSH    PSW       ; SAVE ERROR CODE
    1241/ 54.177 : 041 247 070                  LXI     H,IOERRM
    1242/ 54.202 : 315 227 056                  CALL    PSTRNG    ; PRINT I/O ERROR MESSAGE
    1243/ 54.205 : 361                          POP     PSW       ; GET CODE
    1244/ 54.206 : 046 007                      MVI     H,7       ; BELL
    1245/ 54.210 : (MACRO)                      SCALL   DERROR    ; PRINT ERROR MESSAGE
    1245/ 54.210 : 377                          RST     7
    1245/ 54.211 : 057                          DB      DERROR
    1246/ 54.212 : 072 301 056                  LDA     FSTAT
    1247/ 54.215 : 267                          ORA     A         ; FILE LEFT OPEN?
    1248/ 54.216 : 312 152 054                  JZ      ERROR     ; IF NOT, EXIT
    1249/ 54.221 : (MACRO)                      SCALL   DCLOSE    ; IF SO, CLOSE IT
    1249/ 54.221 : 377                          RST     7
    1249/ 54.222 : 046                          DB      DCLOSE
    1250/ 54.223 : 076 000                      MVI     A,0
    1251/ 54.225 : 062 301 056                  STA     FSTAT     ; FLAG FILE CLOSED
    1252/ 54.230 : 332 176 054                  JC      IOERR
    1253/ 54.233 : 303 152 054                  JMP     ERROR
    1254/ 54.236 :                      
    1255/ 54.236 :                      ; PRINT A SPACE
    1256/ 54.236 :                      
    1257/ 54.236 : 076 040              SPACE   MVI     A,' '
    1258/ 54.240 :                      
    1259/ 54.240 :                      ; CONSOLE OUTPUT ROUTINE
    1260/ 54.240 :                      
    1261/ 54.240 : (MACRO)              OUTCH   SCALL   DSCOUT
    1261/ 54.240 : 377                          RST     7
    1261/ 54.241 : 002                          DB      DSCOUT
    1262/ 54.242 : 365                  POUTCH  PUSH    PSW       ; SAVE CHARACTER
    1263/ 54.243 : 072 323 056                  LDA     PFLAG
    1264/ 54.246 : 267                          ORA     A         ; PRINTER ON?
    1265/ 54.247 : 312 257 054                  JZ      OUTCH0    ; IF NOT, SKIP
    1266/ 54.252 : 361                          POP     PSW       ; RESTORE CHAR
    1267/ 54.253 : 365                          PUSH    PSW       ; SAVE AGAIN
    1268/ 54.254 : 315 336 051                  CALL    LPRINT    ; PRINT IT
    1269/ 54.257 : 361                  OUTCH0  POP     PSW       ; RESTORE CHAR
    1270/ 54.260 : 311                          RET
    1271/ 54.261 :                      
    1272/ 54.261 :                      ; CONSOLE INPUT ROUTINE
    1273/ 54.261 :                      
    1274/ 54.261 : (MACRO)              INCH    SCALL   DSCIN     ; GET A CHARACTER
    1274/ 54.261 : 377                          RST     7
    1274/ 54.262 : 001                          DB      DSCIN
    1275/ 54.263 : 332 261 054                  JC      INCH
    1276/ 54.266 : 346 177                      ANI     7FH
    1277/ 54.270 : 305                          PUSH    B         ; SAVE BC
    1278/ 54.271 : 107                          MOV     B,A       ; SAVE A
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 28 - 08/18/2024 03:18:17 PM


    1279/ 54.272 : 072 275 056                  LDA     ASFLAG
    1280/ 54.275 : 267                          ORA     A         ; IN ASCII CMD
    1281/ 54.276 : 170                          MOV     A,B       ; RESTORE CHARACTER
    1282/ 54.277 : 301                          POP     B
    1283/ 54.300 : 312 312 054                  JZ      INCH0     ; IF IN ASCII, ALLOW LC
    1284/ 54.303 : 376 140                      CPI     60H       ; LOWER CASE?
    1285/ 54.305 : 332 312 054                  JC      INCH0
    1286/ 54.310 : 346 137                      ANI     5FH       ; CAPITALIZE
    1287/ 54.312 : 376 004              INCH0   CPI     4         ; CONTROL-D?
    1288/ 54.314 : 312 325 054                  JZ      DDEXIT    ; IF SO, EXIT
    1289/ 54.317 : 376 012                      CPI     LF        ; NEW LINE CHAR?
    1290/ 54.321 : 300                          RNZ
    1291/ 54.322 : 076 015                      MVI     A,CR      ; CHANGE TO CR
    1292/ 54.324 : 311                          RET
    1293/ 54.325 : 041 223 070          DDEXIT  LXI     H,SURE
    1294/ 54.330 : 315 227 056                  CALL    PSTRNG    ; ASK "ARE YOU SURE?"
    1295/ 54.333 : 315 371 054                  CALL    ECHO
    1296/ 54.336 : 376 131                      CPI     'Y'
    1297/ 54.340 : 302 152 054                  JNZ     ERROR
    1298/ 54.343 : 072 323 056                  LDA     PFLAG
    1299/ 54.346 : 267                          ORA     A         ; IS PRINTER ON
    1300/ 54.347 : 312 361 054                  JZ      DEXIT0    ; IF NOT, EXIT
    1301/ 54.352 : 315 003 052                  CALL    RESET     ; EMPTY PRINTER BUFFER
    1302/ 54.355 : 076 002                      MVI     A,2
    1303/ 54.357 : (MACRO)                      SCALL   DCLOSE    ; CLOSE THE DRIVER
    1303/ 54.357 : 377                          RST     7
    1303/ 54.360 : 046                          DB      DCLOSE
    1304/ 54.361 : 076 012              DEXIT0  MVI     A,LF
    1305/ 54.363 : 315 240 054                  CALL    OUTCH
    1306/ 54.366 : 257                          XRA     A
    1307/ 54.367 : (MACRO)                      SCALL   DEXIT     ; EXIT TO HDOS
    1307/ 54.367 : 377                          RST     7
    1307/ 54.370 : 000                          DB      DEXIT
    1308/ 54.371 :                      
    1309/ 54.371 :                      ; INPUT A CHARACTER, AND ECHO IT
    1310/ 54.371 :                      
    1311/ 54.371 : 315 261 054          ECHO    CALL    INCH
    1312/ 54.374 : 305                          PUSH    B         ; SAVE BC
    1313/ 54.375 : 107                          MOV     B,A       ; SAVE CHAR
    1314/ 54.376 : 072 300 056                  LDA     INFLAG
    1315/ 55.001 : 267                          ORA     A         ; IN LINE INPUT MODE?
    1316/ 55.002 : 170                          MOV     A,B       ; RESTORE CHAR
    1317/ 55.003 : 301                          POP     B         ; RESTORE BC
    1318/ 55.004 : 312 242 054                  JZ      POUTCH    ; RETURN IF IN LINE MODE
    1319/ 55.007 : 303 240 054                  JMP     OUTCH
    1320/ 55.012 :                      
    1321/ 55.012 :                      ; TYPE CR AND LF
    1322/ 55.012 :                      
    1323/ 55.012 : 076 012              CRLF    MVI     A,LF
    1324/ 55.014 : 303 240 054                  JMP     OUTCH
    1325/ 55.017 :                      
    1326/ 55.017 :                      ; EVALUATE DATA PARAMETERS
    1327/ 55.017 :                      ; THE C REGISTER CONTAINS THE NUMBER
    1328/ 55.017 :                      ; OF PARAMETERS REQUIRED.  PARAMETERS
    1329/ 55.017 :                      ; ARE RETURNED ON THE STACK
    1330/ 55.017 :                      ; HEX VERSION FIRST, THEN OCTAL
    1331/ 55.017 :                      
    1332/ 55.017 : 072 276 056          DATA    LDA     BFLAG
    1333/ 55.022 : 267                          ORA     A         ; HEX OR OCTAL?
    1334/ 55.023 : 302 123 055                  JNZ     ODATA     ; OCTAL
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 29 - 08/18/2024 03:18:17 PM


    1335/ 55.026 : 041 000 000          HDATA   LXI     H,0       ; INITIALLY ZERO
    1336/ 55.031 : 315 371 054          DATA0   CALL    ECHO      ; GET A CHARACTER
    1337/ 55.034 : 107                  DATA1   MOV     B,A       ; SAVE IT
    1338/ 55.035 : 315 353 055                  CALL    BIN       ; CONVERT TO BINARY
    1339/ 55.040 : 332 054 055                  JC      DATA2     ; NOT A NUMBER
    1340/ 55.043 : 051                          DAD     H         ; MOVE LAST ENTRY
    1341/ 55.044 : 051                          DAD     H         ; OVER 4 PLACES
    1342/ 55.045 : 051                          DAD     H
    1343/ 55.046 : 051                          DAD     H
    1344/ 55.047 : 265                          ORA     L
    1345/ 55.050 : 157                          MOV     L,A       ; ADD LATEST ENTRY
    1346/ 55.051 : 303 031 055                  JMP     DATA0
    1347/ 55.054 : 343                  DATA2   XTHL              ; SWAP RETURN ADDR, HL
    1348/ 55.055 : 345                          PUSH    H         ; REPLACE RETURN ADDR
    1349/ 55.056 : 170                          MOV     A,B
    1350/ 55.057 : 315 000 056                  CALL    CHECK0    ; TEST FOR DELIMITER
    1351/ 55.062 : 322 072 055                  JNC     DATA3     ; COMMA OR SPACE
    1352/ 55.065 : 015                          DCR     C         ; CR ENTERED
    1353/ 55.066 : 302 152 054                  JNZ     ERROR     ; NOT ENOUGH PARAMETERS
    1354/ 55.071 : 311                          RET               ; EXIT
    1355/ 55.072 : 302 152 054          DATA3   JNZ     ERROR     ; BAD DELIMITER
    1356/ 55.075 : 015                          DCR     C         ; DONE?
    1357/ 55.076 : 302 017 055                  JNZ     DATA      ; NO, CONTINUE
    1358/ 55.101 : 311                          RET               ; DONE
    1359/ 55.102 : 365                  CDATA   PUSH    PSW       ; SAVE CHARACTER
    1360/ 55.103 : 072 276 056                  LDA     BFLAG     ; FOR CONDITIONAL TEST
    1361/ 55.106 : 267                          ORA     A         ; OCTAL?
    1362/ 55.107 : 302 213 055                  JNZ     OCDAT
    1363/ 55.112 : 361                          POP     PSW       ; RESTORE CHARACTER
    1364/ 55.113 : 016 001                      MVI     C,1       ; TEST ONE PARAMETER
    1365/ 55.115 : 041 000 000                  LXI     H,0       ; ZERO INITIALLY
    1366/ 55.120 : 303 034 055                  JMP     DATA1     ; PROCESS IT
    1367/ 55.123 :                      
    1368/ 55.123 :                      ; EVALUATE OCTAL DATA PARAMETERS
    1369/ 55.123 :                      ; THIS PROGRAM INPUTS OCTAL NUMBERS
    1370/ 55.123 :                      ; WITHOUT LEADING ZEROS
    1371/ 55.123 :                      
    1372/ 55.123 : 041 000 000          ODATA   LXI     H,0
    1373/ 55.126 : 315 371 054          ODAT0   CALL    ECHO      ; GET A CHARACTER
    1374/ 55.131 : 107                  ODAT1   MOV     B,A       ; SAVE CHARACTER IN B
    1375/ 55.132 : 315 353 055                  CALL    BIN       ; CONVERT TO BINARY
    1376/ 55.135 : 332 157 055                  JC      ODAT2
    1377/ 55.140 : 376 010                      CPI     8
    1378/ 55.142 : 322 152 054                  JNC     ERROR     ; ILLEGAL CHARACTER
    1379/ 55.145 : 051                          DAD     H         ; MOVE PREVIOUS CHARACTERS UP
    1380/ 55.146 : 051                          DAD     H
    1381/ 55.147 : 051                          DAD     H
    1382/ 55.150 : 365                          PUSH    PSW       ; SAVE FLAG FROM DAD
    1383/ 55.151 : 321                          POP     D         ; FLAG IN E
    1384/ 55.152 : 205                          ADD     L         ; ADD IN LATEST CHARACTER
    1385/ 55.153 : 157                          MOV     L,A
    1386/ 55.154 : 303 126 055                  JMP     ODAT0
    1387/ 55.157 : 127                  ODAT2   MOV     D,A       ; LAST CHAR IN D
    1388/ 55.160 : 325                          PUSH    D
    1389/ 55.161 : 361                          POP     PSW       ; GET DAD FLAG
    1390/ 55.162 : 174                          MOV     A,H       ; CONVERT TO SPLIT OCTAL
    1391/ 55.163 : 037                          RAR
    1392/ 55.164 : 147                          MOV     H,A
    1393/ 55.165 : 343                          XTHL              ; SWAP RETURN ADDR AND HL
    1394/ 55.166 : 345                          PUSH    H         ; REPLACE RET ADDR
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 30 - 08/18/2024 03:18:17 PM


    1395/ 55.167 : 170                          MOV     A,B       ; GET LAST CHARACTER
    1396/ 55.170 : 315 000 056                  CALL    CHECK0    ; WHAT WAS IT?
    1397/ 55.173 : 322 203 055                  JNC     ODAT5     ; COMMA OR SPACE
    1398/ 55.176 : 015                          DCR     C         ; CR ENTERED, DONE?
    1399/ 55.177 : 302 152 054                  JNZ     ERROR     ; NOT ENOUGH PARAMETERS
    1400/ 55.202 : 311                          RET
    1401/ 55.203 : 302 152 054          ODAT5   JNZ     ERROR     ; ILLEGAL CHARACTER
    1402/ 55.206 : 015                          DCR     C         ; DONE?
    1403/ 55.207 : 302 123 055                  JNZ     ODATA     ; CONTINUE
    1404/ 55.212 : 311                          RET
    1405/ 55.213 : 016 001              OCDAT   MVI     C,1       ; GET ONE PARAMETER
    1406/ 55.215 : 041 000 000                  LXI     H,0
    1407/ 55.220 : 361                          POP     PSW       ; RESTORE CHARACTER
    1408/ 55.221 : 303 131 055                  JMP     ODAT1
    1409/ 55.224 :                      
    1410/ 55.224 :                      ; COMPARE HL WITH DE
    1411/ 55.224 :                      ; IF HL <= DE THEN CARRY = 0
    1412/ 55.224 :                      ; IF HL > DE THEN CARRY = 1
    1413/ 55.224 :                      
    1414/ 55.224 : 043                  CPHD    INX     H         ; INCREMENT HL
    1415/ 55.225 : 174                          MOV     A,H       ; IF HL ZERO NOW
    1416/ 55.226 : 265                          ORA     L         ; WAS FFFFH
    1417/ 55.227 : 067                          STC               ; SET CARRY
    1418/ 55.230 : 310                          RZ
    1419/ 55.231 : 173                          MOV     A,E       ; SUBTRACT
    1420/ 55.232 : 225                          SUB     L         ; HL FROM DE
    1421/ 55.233 : 172                          MOV     A,D       ; SUBTRACTION
    1422/ 55.234 : 234                          SBB     H         ; DETERMINES CARRY
    1423/ 55.235 : 311                          RET
    1424/ 55.236 :                      
    1425/ 55.236 :                      ; PRINT CONTENTS OF HL
    1426/ 55.236 :                      
    1427/ 55.236 : 174                  PADR    MOV     A,H
    1428/ 55.237 : 315 257 055                  CALL    PBYTE     ; PRINT H
    1429/ 55.242 : 072 276 056                  LDA     BFLAG
    1430/ 55.245 : 267                          ORA     A         ; HEX OR OCTAL?
    1431/ 55.246 : 312 256 055                  JZ      PADR0     ; HEX
    1432/ 55.251 : 076 056                      MVI     A,'.'     ; OCTAL, PERIOD
    1433/ 55.253 : 315 240 054                  CALL    OUTCH     ; BETWEEN BYTES
    1434/ 55.256 : 175                  PADR0   MOV     A,L       ; PRINT L
    1435/ 55.257 :                      ;       JMP     PBYTE
    1436/ 55.257 :                      
    1437/ 55.257 :                      ; PRINT BYTE IN A
    1438/ 55.257 :                      
    1439/ 55.257 : 365                  PBYTE   PUSH    PSW       ; SAVE CHARACTER
    1440/ 55.260 : 072 276 056                  LDA     BFLAG
    1441/ 55.263 : 267                          ORA     A         ; HEX OR OCTAL
    1442/ 55.264 : 302 316 055                  JNZ     OBYT      ; OCTAL
    1443/ 55.267 : 361                          POP     PSW       ; RESTORE CHARACTER
    1444/ 55.270 : 365                  HBYTE   PUSH    PSW       ; SAVE CHARACTER
    1445/ 55.271 : 017                          RRC               ; MOVE HIGH NIBBLE DOWN
    1446/ 55.272 : 017                          RRC
    1447/ 55.273 : 017                          RRC
    1448/ 55.274 : 017                          RRC
    1449/ 55.275 : 346 017                      ANI     0FH       ; ISOLATE IT
    1450/ 55.277 : 315 305 055                  CALL    PASC      ; PRINT IT
    1451/ 55.302 : 361                          POP     PSW       ; RESTORE CHARACTER
    1452/ 55.303 : 346 017                      ANI     0FH       ; GET LOW NIBBLE
    1453/ 55.305 :                      ;       JMP     PASC      ; PRINT IT
    1454/ 55.305 :                      
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 31 - 08/18/2024 03:18:17 PM


    1455/ 55.305 :                      ; CONVERT TO ASCII AND PRINT
    1456/ 55.305 :                      
    1457/ 55.305 : 306 220              PASC    ADI     90H       ; "A" OR GREATER SETS CARRY
    1458/ 55.307 : 047                          DAA
    1459/ 55.310 : 316 100                      ACI     40H       ; ADJUST UPPER NIBBLE
    1460/ 55.312 : 047                          DAA
    1461/ 55.313 : 303 240 054                  JMP     OUTCH
    1462/ 55.316 :                      
    1463/ 55.316 :                      ; PRINT BYTE IN A IN OCTAL
    1464/ 55.316 :                      
    1465/ 55.316 : 361                  OBYT   POP      PSW       ; RESTORE CHARACTER
    1466/ 55.317 : 365                  OBYTE   PUSH    PSW       ; SAVE CHARACTER
    1467/ 55.320 : 017                          RRC               ; MOVE THE TWO
    1468/ 55.321 : 017                          RRC               ; HIGH BITS DOWN
    1469/ 55.322 : 017                          RRC
    1470/ 55.323 : 017                          RRC
    1471/ 55.324 : 017                          RRC
    1472/ 55.325 : 017                          RRC
    1473/ 55.326 : 346 003                      ANI     3         ; ISOLATE THEM
    1474/ 55.330 : 315 305 055                  CALL    PASC      ; PRINT THEM
    1475/ 55.333 : 361                          POP     PSW       ; RESTORE CHARACTER
    1476/ 55.334 : 365                          PUSH    PSW       ; SAVE IT
    1477/ 55.335 : 017                          RRC               ; MOVE NEXT THREE
    1478/ 55.336 : 017                          RRC               ; BITS DOWN
    1479/ 55.337 : 017                          RRC
    1480/ 55.340 : 346 007                      ANI     7         ; ISOLATE THEM
    1481/ 55.342 : 315 305 055                  CALL    PASC      ; PRINT THEM
    1482/ 55.345 : 361                          POP     PSW       ; RESTORE CHARACTER
    1483/ 55.346 : 346 007                      ANI     7         ; GET LEAST BITS
    1484/ 55.350 : 303 305 055                  JMP   PASC        ; PRINT THEM
    1485/ 55.353 :                      
    1486/ 55.353 :                      ; DECODE ASCII CHARACTER TO BINARY
    1487/ 55.353 :                      ; RETURN CARRY IF CHARACTER IS NOT
    1488/ 55.353 :                      ; 0 THROUGH 9 OR A THROUGH F
    1489/ 55.353 :                      
    1490/ 55.353 : 326 060              BIN     SUI     '0'
    1491/ 55.355 : 330                          RC                ; LESS THAN "0" IS BAD
    1492/ 55.356 : 306 351                      ADI     '0'-'G'
    1493/ 55.360 : 330                          RC                ; GREATER THAN "F"
    1494/ 55.361 : 306 006                      ADI     6
    1495/ 55.363 : 362 371 055                  JP      BIN0      ; PROCESS "A" - "F"
    1496/ 55.366 : 306 007                      ADI     7
    1497/ 55.370 : 330                          RC                ; ":" THROUGH "@"
    1498/ 55.371 : 306 012              BIN0    ADI     10        ; ADJUST
    1499/ 55.373 : 267                          ORA     A         ; CLEAR CARRY
    1500/ 55.374 : 311                          RET
    1501/ 55.375 :                      
    1502/ 55.375 :                      ; TEST DELIMITER CHARACTERS
    1503/ 55.375 :                      ; COMMA AND SPACE RETURN Z
    1504/ 55.375 :                      ; CR RETURNS C
    1505/ 55.375 :                      ; OTHERS RETURN NOT C
    1506/ 55.375 :                      
    1507/ 55.375 : 315 371 054          CHECK   CALL    ECHO      ; GET A CHARACTER
    1508/ 56.000 : 376 040              CHECK0  CPI     ' '       ; SPACE
    1509/ 56.002 : 310                          RZ
    1510/ 56.003 : 376 054                      CPI     ','       ; COMMA
    1511/ 56.005 : 310                          RZ
    1512/ 56.006 : 376 055                      CPI     '-'       ; MINUS SIGN
    1513/ 56.010 : 310                          RZ
    1514/ 56.011 : 376 015                      CPI     CR        ; CARRIAGE RETURN
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 32 - 08/18/2024 03:18:17 PM


    1515/ 56.013 : 067                          STC
    1516/ 56.014 : 077                          CMC             ; SET NOT CARRY
    1517/ 56.015 : 300                          RNZ             ; NOT A CR
    1518/ 56.016 : 067                          STC             ; SET CARRY
    1519/ 56.017 : 311                          RET
    1520/ 56.020 :                      
    1521/ 56.020 :                      ; ENTRY POINT FOR CONTROL-A PROCESSING
    1522/ 56.020 :                      
    1523/ 56.020 : 361                  RESTRT  POP     PSW       ; REMOVE HDOS ADDRESS
    1524/ 56.021 : 361                          POP     PSW       ; REMOVE PSW
    1525/ 56.022 : 345                          PUSH    H         ; SAVE MACHINE STATE
    1526/ 56.023 : 325                          PUSH    D
    1527/ 56.024 : 305                          PUSH    B
    1528/ 56.025 : 365                          PUSH    PSW
    1529/ 56.026 : 257                          XRA     A
    1530/ 56.027 : 062 303 056                  STA     SSFLAG    ; CLEAR SINGLE STEPS
    1531/ 56.032 : 365                          PUSH    PSW       ; EXTRA PUSH MATCHES PAM-8
    1532/ 56.033 :                      
    1533/ 56.033 :                      ; RESTART 2, PROGRAMMED BREAKPOINT
    1534/ 56.033 :                      
    1535/ 56.033 : 361                  RSTB    POP     PSW       ; REMOVE EXTRA PAM-8 PUSH
    1536/ 56.034 : 072 274 056                  LDA     MMFLAG    ; IN MONITOR MODE?
    1537/ 56.037 : 267                          ORA     A
    1538/ 56.040 : 312 047 056                  JZ      RSTB0     ; IF NOT, PROCESS INT.
    1539/ 56.043 : 373                          EI                ; ENABLE INTERRUPTS
    1540/ 56.044 : 303 152 054                  JMP     ERROR     ; IN MONITOR MODE
    1541/ 56.047 : 076 001              RSTB0   MVI     A,1       ; SET FLAG TO INDICATE
    1542/ 56.051 : 062 274 056                  STA     MMFLAG    ; IN MONITOR MODE
    1543/ 56.054 : 373                          EI                ; ENABLE CPU INTERRUPTS
    1544/ 56.055 : 021 122 071                  LXI     D,EXIT    ; COMPUTE STACK LOCATION
    1545/ 56.060 : 041 012 000                  LXI     H,10      ; MOVE TO TOP
    1546/ 56.063 : 071                          DAD     SP        ; OF PUSHED REGISTERS
    1547/ 56.064 : 006 004                      MVI     B,4       ; COUNT FOR TRANSFER
    1548/ 56.066 : 353                          XCHG
    1549/ 56.067 : 053                  RST0    DCX     H         ; MOVE REGISTER VALUES
    1550/ 56.070 : 162                          MOV     M,D
    1551/ 56.071 : 053                          DCX     H
    1552/ 56.072 : 163                          MOV     M,E
    1553/ 56.073 : 321                          POP     D         ; GET ANOTHER VALUE
    1554/ 56.074 : 005                          DCR     B         ; END OF TRANSFER?
    1555/ 56.075 : 302 067 056                  JNZ     RST0      ; NO, CONTINUE
    1556/ 56.100 : 301                          POP     B         ; OLD PC
    1557/ 56.101 : 013                          DCX     B         ; POINT AT TRAP
    1558/ 56.102 : 371                          SPHL              ; SET RDT STACK
    1559/ 56.103 : 041 024 000                  LXI     H,TRAP    ; GET TRAP STORAGE
    1560/ 56.106 : 071                          DAD     SP        ; LOCATION
    1561/ 56.107 : 176                          MOV     A,M       ; PROGRAMMED RST
    1562/ 56.110 : 221                          SUB     C         ; OR FORCED RETURN?
    1563/ 56.111 : 043                          INX     H
    1564/ 56.112 : 302 122 056                  JNZ     RST1      ; NO TRAP HERE
    1565/ 56.115 : 176                          MOV     A,M
    1566/ 56.116 : 220                          SUB     B
    1567/ 56.117 : 312 140 056                  JZ      RST3      ; FIRST TRAP WAS HIT
    1568/ 56.122 : 043                  RST1    INX     H
    1569/ 56.123 : 043                          INX     H
    1570/ 56.124 : 176                          MOV     A,M
    1571/ 56.125 : 221                          SUB     C
    1572/ 56.126 : 302 137 056                  JNZ     RST2      ; NO TRAP HERE, EITHER
    1573/ 56.131 : 043                          INX     H
    1574/ 56.132 : 176                          MOV     A,M
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 33 - 08/18/2024 03:18:17 PM


    1575/ 56.133 : 220                          SUB     B
    1576/ 56.134 : 312 140 056                  JZ      RST3      ; SECOND TRAP HIT
    1577/ 56.137 : 003                  RST2    INX     B         ; CORRECT PC VALUE
    1578/ 56.140 : 041 016 000          RST3    LXI     H,LREG    ; SAVE USER REGISTER
    1579/ 56.143 : 071                          DAD     SP        ; VALUES, STARTING WITH L
    1580/ 56.144 : 163                          MOV     M,E
    1581/ 56.145 : 043                          INX     H
    1582/ 56.146 : 162                          MOV     M,D       ; HL SAVED
    1583/ 56.147 : 043                          INX     H         ; POINT TO PC
    1584/ 56.150 : 043                          INX     H
    1585/ 56.151 : 043                          INX     H
    1586/ 56.152 : 161                          MOV     M,C
    1587/ 56.153 : 043                          INX     H
    1588/ 56.154 : 160                          MOV     M,B       ; PC SAVED
    1589/ 56.155 : 041 024 000                  LXI     H,TRAP    ; PREPARE TO CLEAR TRAPS
    1590/ 56.160 : 071                          DAD     SP
    1591/ 56.161 : 026 002                      MVI     D,2       ; 2 TRAPS
    1592/ 56.163 : 116                  RST4    MOV     C,M       ; GET LSB OF ADDRESS
    1593/ 56.164 : 066 000                      MVI     M,0       ; CLEAR STORAGE AREA
    1594/ 56.166 : 043                          INX     H
    1595/ 56.167 : 106                          MOV     B,M       ; GET MSB OF ADDRESS
    1596/ 56.170 : 066 000                      MVI     M,0       ; CLEAR AREA
    1597/ 56.172 : 043                          INX     H         ; SAVED OP CODE HERE
    1598/ 56.173 : 171                          MOV     A,C
    1599/ 56.174 : 260                          ORA     B         ; TEST IF TRAP SET
    1600/ 56.175 : 312 202 056                  JZ      RST5      ; NOT SET, CHECK NEXT
    1601/ 56.200 : 176                          MOV     A,M       ; GET OPCODE
    1602/ 56.201 : 002                          STAX    B         ; REPLACE IT
    1603/ 56.202 : 043                  RST5    INX     H         ; NEXT TRAP ADDRESS
    1604/ 56.203 : 025                          DCR     D         ; DONE?
    1605/ 56.204 : 302 163 056                  JNZ     RST4      ; NO, CONTINUE
    1606/ 56.207 : 041 245 056                  LXI     H,TABLE   ; GET TABLE OF REGISTERS
    1607/ 56.212 : 315 234 052                  CALL    REG6      ; PRINT REGISTERS
    1608/ 56.215 : 072 303 056                  LDA     SSFLAG
    1609/ 56.220 : 267                          ORA     A         ; IN SINGLE STEP MODE?
    1610/ 56.221 : 312 367 042                  JZ      START     ; IF NOT, EXIT
    1611/ 56.224 : 303 335 053                  JMP     SSTEP1    ; GO TO NEXT STEP
    1612/ 56.227 :                      
    1613/ 56.227 :                      ; PRINT STRINGS
    1614/ 56.227 :                      
    1615/ 56.227 : 176                  PSTRNG  MOV     A,M       ; GET CHARACTER
    1616/ 56.230 : 365                          PUSH    PSW       ; SAVE IT
    1617/ 56.231 : 346 177                      ANI     7FH       ; STRIP 8TH BIT
    1618/ 56.233 : 315 240 054                  CALL    OUTCH     ; PRINT IT
    1619/ 56.236 : 361                          POP     PSW       ; RESTORE ORIGINAL
    1620/ 56.237 : 267                          ORA     A         ; CHECK IF END
    1621/ 56.240 : 370                          RM                ; RETURN IF SO
    1622/ 56.241 : 043                          INX     H         ; GET NEXT CHARACTER
    1623/ 56.242 : 303 227 056                  JMP     PSTRNG
    1624/ 56.245 :                      
    1625/ 56.245 :                      ; TABLE OF REGISTERS
    1626/ 56.245 :                      ; CONTAINS IDENTIFIER, STACK DISPLACEMENT,
    1627/ 56.245 :                      ; AND BYTE COUNT
    1628/ 56.245 :                      
    1629/ 56.245 : 101 005 001          TABLE   DB      'A',AREG,1
    1630/ 56.250 : 106 004 001                  DB      'F',FLAG,1
    1631/ 56.253 : 102 003 002                  DB      'B',BREG,2
    1632/ 56.256 : 104 001 002                  DB      'D',DREG,2
    1633/ 56.261 : 110 017 002                  DB      'H',HREG,2
    1634/ 56.264 : 120 023 002                  DB      'P',PCTR,2
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 34 - 08/18/2024 03:18:17 PM


    1635/ 56.267 : 123 007 002                  DB      'S',SPTR,2
    1636/ 56.272 : 377 377                      DB      0FFH,0FFH ; END OF TABLE
    1637/ 56.274 :                      
    1638/ 56.274 :                      ; DISPLACEMENT VALUES
    1639/ 56.274 :                      
    1640/ 56.274 : =5O                  AREG    EQU     5
    1641/ 56.274 : =4O                  FLAG    EQU     4
    1642/ 56.274 : =3O                  BREG    EQU     3
    1643/ 56.274 : =1O                  DREG    EQU     1
    1644/ 56.274 : =17O                 HREG    EQU     0FH
    1645/ 56.274 : =16O                 LREG    EQU     0EH
    1646/ 56.274 : =23O                 PCTR    EQU     13H
    1647/ 56.274 : =7O                  SPTR    EQU     7
    1648/ 56.274 : =24O                 TRAP    EQU     14H
    1649/ 56.274 :                      
    1650/ 56.274 :                      ; RAM CELLS USED BY RDT
    1651/ 56.274 :                      
    1652/ 56.274 :                      MMFLAG  DS      1         ; MONITOR MODE FLAG
    1653/ 56.275 :                      ASFLAG  DS      1         ; ASCII COMMAND FLAG
    1654/ 56.276 :                      BFLAG   DS      1         ; NUMBER BASE FLAG
    1655/ 56.277 : 000                  CONFLG  DB      0         ; CONSOLE MODE FLAG
    1656/ 56.300 :                      INFLAG  DS      1         ; INPUT MODE FLAG
    1657/ 56.301 : 000                  FSTAT   DB      0         ; FILE STATUS FLAG
    1658/ 56.302 :                      STYPE   DS      1         ; SEARCH TYPE FLAG
    1659/ 56.303 :                      SSFLAG  DS      1         ; SINGLE STEP FLAG
    1660/ 56.304 :                      TOP     DS      2         ; TOP OF USER MEMORY UNDER RDT
    1661/ 56.306 :                      FBGN    DS      2         ; FILE BEGINNING ADDRESS
    1662/ 56.310 :                      FEND    DS      2         ; FILE ENDING ADDRESS
    1663/ 56.312 : 123 131 060 101 102  DEFALT  DB      'SY0ABS'  ; DEFAULT DEVICE AND EXT.
          56.317 : 123                
    1664/ 56.320 :                      PBPTR   DS      2         ; PRINTER BUFFER POINTER
    1665/ 56.322 :                      PNCTR   DS      1         ; PRINTER COUNTER
    1666/ 56.323 : 000                  PFLAG   DB      0         ; PRINTER FLAG
    1667/ 56.324 : 001                  RFLAG   DB      1         ; RESET PRINT BUFFER FLAG
    1668/ 56.325 : 123 131 060 000 000  PDFLT   DB      'SY0',0,0,0
          56.332 : 000                
    1669/ 56.333 : 114 120 072 000      PNAME   DB      'LP:',0
    1670/ 56.337 : 377                          DB      0FFH      ; BEGINNING OF NAME BUFFER
    1671/ 56.340 :                      FNAME   DS      20        ; FILE NAME BUFFER
    1672/ 56.364 :                      PBUFF   DS      256       ; PRINTER BUFFER
    1673/ 57.364 : =57.364O             BUFEND  EQU     $
    1674/ 57.364 : =>TRUE                       IF      INCLUDE
    1675/ 57.364 :                              INCLUDE dist.acm
(1)    1/ 57.364 :                      ;
(1)    2/ 57.364 :                      ;        TABLE OF MNEMONICS
(1)    3/ 57.364 :                      ;
(1)    4/ 57.364 : 000                  TABLA   DB      00
(1)    5/ 57.365 : 116 117 120                  DB      'NOP'
(1)    6/ 57.370 : 004                          DB      4
(1)    7/ 57.371 : 001                          DB      01
(1)    8/ 57.372 : 114 130 111 007 102          DB      'LXI',7,'B,'
          57.377 : 054                
(1)    9/ 60.000 : 004                          DB      4
(1)   10/ 60.001 : 002                          DB      02
(1)   11/ 60.002 : 123 124 101 130 006          DB      'STAX',6,'B'
          60.007 : 102                
(1)   12/ 60.010 : 004                          DB      4
(1)   13/ 60.011 : 003                          DB      03
(1)   14/ 60.012 : 111 116 130 007 102          DB      'INX',7,'B'
(1)   15/ 60.017 : 004                          DB      4
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 35 - 08/18/2024 03:18:17 PM


(1)   16/ 60.020 : 004                          DB      04
(1)   17/ 60.021 : 111 116 122 007 102          DB      'INR',7,'B'
(1)   18/ 60.026 : 004                          DB      4
(1)   19/ 60.027 : 005                          DB      05H
(1)   20/ 60.030 : 104 103 122 007 102          DB      'DCR',7,'B'
(1)   21/ 60.035 : 004                          DB      4
(1)   22/ 60.036 : 006                          DB      06H
(1)   23/ 60.037 : 115 126 111 007 102          DB      'MVI',7,'B,'
          60.044 : 054                
(1)   24/ 60.045 : 004                          DB      4
(1)   25/ 60.046 : 007                          DB      07H
(1)   26/ 60.047 : 122 114 103                  DB      'RLC'
(1)   27/ 60.052 : 004                          DB      4
(1)   28/ 60.053 : 010                          DB      08H
(1)   29/ 60.054 : 104 102 010 060 061          DB      'DB',8,'010Q'
          60.061 : 060 121            
(1)   30/ 60.063 : 004                          DB      4
(1)   31/ 60.064 : 011                          DB      09H
(1)   32/ 60.065 : 104 101 104 007 102          DB      'DAD',7,'B'
(1)   33/ 60.072 : 004                          DB      4
(1)   34/ 60.073 : 012                          DB      0AH
(1)   35/ 60.074 : 114 104 101 130 006          DB      'LDAX',6,'B'
          60.101 : 102                
(1)   36/ 60.102 : 004                          DB      4
(1)   37/ 60.103 : 013                          DB      0BH
(1)   38/ 60.104 : 104 103 130 007 102          DB      'DCX',7,'B'
(1)   39/ 60.111 : 004                          DB      4
(1)   40/ 60.112 : 014                          DB      0CH
(1)   41/ 60.113 : 111 116 122 007 103          DB      'INR',7,'C'
(1)   42/ 60.120 : 004                          DB      4
(1)   43/ 60.121 : 015                          DB      0DH
(1)   44/ 60.122 : 104 103 122 007 103          DB      'DCR',7,'C'
(1)   45/ 60.127 : 004                          DB      4
(1)   46/ 60.130 : 016                          DB      0EH
(1)   47/ 60.131 : 115 126 111 007 103          DB      'MVI',7,'C,'
          60.136 : 054                
(1)   48/ 60.137 : 004                          DB      4
(1)   49/ 60.140 : 017                          DB      0FH
(1)   50/ 60.141 : 122 122 103                  DB      'RRC'
(1)   51/ 60.144 : 004                          DB      4
(1)   52/ 60.145 : 020                          DB      10H
(1)   53/ 60.146 : 104 102 010 060 062          DB      'DB',8,'020Q'
          60.153 : 060 121            
(1)   54/ 60.155 : 004                          DB      4
(1)   55/ 60.156 : 021                          DB      11H
(1)   56/ 60.157 : 114 130 111 007 104          DB      'LXI',7,'D,'
          60.164 : 054                
(1)   57/ 60.165 : 004                          DB      4
(1)   58/ 60.166 : 022                          DB      12H
(1)   59/ 60.167 : 123 124 101 130 006          DB      'STAX',6,'D'
          60.174 : 104                
(1)   60/ 60.175 : 004                          DB      4
(1)   61/ 60.176 : 023                          DB      13H
(1)   62/ 60.177 : 111 116 130 007 104          DB      'INX',7,'D'
(1)   63/ 60.204 : 004                          DB      4
(1)   64/ 60.205 : 024                          DB      14H
(1)   65/ 60.206 : 111 116 122 007 104          DB      'INR',7,'D'
(1)   66/ 60.213 : 004                          DB      4
(1)   67/ 60.214 : 025                          DB      15H
(1)   68/ 60.215 : 104 103 122 007 104          DB      'DCR',7,'D'
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 36 - 08/18/2024 03:18:17 PM


(1)   69/ 60.222 : 004                          DB      4
(1)   70/ 60.223 : 026                          DB      16H
(1)   71/ 60.224 : 115 126 111 007 104          DB      'MVI',7,'D,'
          60.231 : 054                
(1)   72/ 60.232 : 004                          DB      4
(1)   73/ 60.233 : 027                          DB      17H
(1)   74/ 60.234 : 122 101 114                  DB      'RAL'
(1)   75/ 60.237 : 004                          DB      4
(1)   76/ 60.240 : 030                          DB      18H
(1)   77/ 60.241 : 104 102 010 060 063          DB      'DB',8,'030Q'
          60.246 : 060 121            
(1)   78/ 60.250 : 004                          DB      4
(1)   79/ 60.251 : 031                          DB      19H
(1)   80/ 60.252 : 104 101 104 007 104          DB      'DAD',7,'D'
(1)   81/ 60.257 : 004                          DB      4
(1)   82/ 60.260 : 032                          DB      1AH
(1)   83/ 60.261 : 114 104 101 130 006          DB      'LDAX',6,'D'
          60.266 : 104                
(1)   84/ 60.267 : 004                          DB      4
(1)   85/ 60.270 : 033                          DB      1BH
(1)   86/ 60.271 : 104 103 130 007 104          DB      'DCX',7,'D'
(1)   87/ 60.276 : 004                          DB      4
(1)   88/ 60.277 : 034                          DB      1CH
(1)   89/ 60.300 : 111 116 122 007 105          DB      'INR',7,'E'
(1)   90/ 60.305 : 004                          DB      4
(1)   91/ 60.306 : 035                          DB      1DH
(1)   92/ 60.307 : 104 103 122 007 105          DB      'DCR',7,'E'
(1)   93/ 60.314 : 004                          DB      4
(1)   94/ 60.315 : 036                          DB      1EH
(1)   95/ 60.316 : 115 126 111 007 105          DB      'MVI',7,'E,'
          60.323 : 054                
(1)   96/ 60.324 : 004                          DB      4
(1)   97/ 60.325 : 037                          DB      1FH
(1)   98/ 60.326 : 122 101 122                  DB      'RAR'
(1)   99/ 60.331 : 004                          DB      4
(1)  100/ 60.332 : 040                          DB      20H
(1)  101/ 60.333 : 104 102 010 060 064          DB      'DB',8,'040Q'
          60.340 : 060 121            
(1)  102/ 60.342 : 004                          DB      4
(1)  103/ 60.343 : 041                          DB      21H
(1)  104/ 60.344 : 114 130 111 007 110          DB      'LXI',7,'H,'
          60.351 : 054                
(1)  105/ 60.352 : 004                          DB      4
(1)  106/ 60.353 : 042                          DB      22H
(1)  107/ 60.354 : 123 110 114 104 006          DB      'SHLD',6
(1)  108/ 60.361 : 004                          DB      4
(1)  109/ 60.362 : 043                          DB      23H
(1)  110/ 60.363 : 111 116 130 007 110          DB      'INX',7,'H'
(1)  111/ 60.370 : 004                          DB      4
(1)  112/ 60.371 : 044                          DB      24H
(1)  113/ 60.372 : 111 116 122 007 110          DB      'INR',7,'H'
(1)  114/ 60.377 : 004                          DB      4
(1)  115/ 61.000 : 045                          DB      25H
(1)  116/ 61.001 : 104 103 122 007 110          DB      'DCR',7,'H'
(1)  117/ 61.006 : 004                          DB      4
(1)  118/ 61.007 : 046                          DB      26H
(1)  119/ 61.010 : 115 126 111 007 110          DB      'MVI',7,'H,'
          61.015 : 054                
(1)  120/ 61.016 : 004                          DB      4
(1)  121/ 61.017 : 047                          DB      27H
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 37 - 08/18/2024 03:18:17 PM


(1)  122/ 61.020 : 104 101 101                  DB      'DAA'
(1)  123/ 61.023 : 004                          DB      4
(1)  124/ 61.024 : 050                          DB      28H
(1)  125/ 61.025 : 104 102 010 060 065          DB      'DB',8,'050Q'
          61.032 : 060 121            
(1)  126/ 61.034 : 004                          DB      4
(1)  127/ 61.035 : 051                          DB      29H
(1)  128/ 61.036 : 104 101 104 007 110          DB      'DAD',7,'H'
(1)  129/ 61.043 : 004                          DB      4
(1)  130/ 61.044 : 052                          DB      2AH
(1)  131/ 61.045 : 114 110 114 104 006          DB      'LHLD',6
(1)  132/ 61.052 : 004                          DB      4
(1)  133/ 61.053 : 053                          DB      2BH
(1)  134/ 61.054 : 104 103 130 007 110          DB      'DCX',7,'H'
(1)  135/ 61.061 : 004                          DB      4
(1)  136/ 61.062 : 054                          DB      2CH
(1)  137/ 61.063 : 111 116 122 007 114          DB      'INR',7,'L'
(1)  138/ 61.070 : 004                          DB      4
(1)  139/ 61.071 : 055                          DB      2DH
(1)  140/ 61.072 : 104 103 122 007 114          DB      'DCR',7,'L'
(1)  141/ 61.077 : 004                          DB      4
(1)  142/ 61.100 : 056                          DB      2EH
(1)  143/ 61.101 : 115 126 111 007 114          DB      'MVI',7,'L,'
          61.106 : 054                
(1)  144/ 61.107 : 004                          DB      4
(1)  145/ 61.110 : 057                          DB      2FH
(1)  146/ 61.111 : 103 115 101                  DB      'CMA'
(1)  147/ 61.114 : 004                          DB      4
(1)  148/ 61.115 : 060                          DB      30H
(1)  149/ 61.116 : 104 102 010 060 066          DB      'DB',8,'060Q'
          61.123 : 060 121            
(1)  150/ 61.125 : 004                          DB      4
(1)  151/ 61.126 : 061                          DB      31H
(1)  152/ 61.127 : 114 130 111 007 123          DB      'LXI',7,'SP,'
          61.134 : 120 054            
(1)  153/ 61.136 : 004                          DB      4
(1)  154/ 61.137 : 062                          DB      32H
(1)  155/ 61.140 : 123 124 101 007              DB      'STA',7
(1)  156/ 61.144 : 004                          DB      4
(1)  157/ 61.145 : 063                          DB      33H
(1)  158/ 61.146 : 111 116 130 007 123          DB      'INX',7,'SP'
          61.153 : 120                
(1)  159/ 61.154 : 004                          DB      4
(1)  160/ 61.155 : 064                          DB      34H
(1)  161/ 61.156 : 111 116 122 007 115          DB      'INR',7,'M'
(1)  162/ 61.163 : 004                          DB      4
(1)  163/ 61.164 : 065                          DB      35H
(1)  164/ 61.165 : 104 103 122 007 115          DB      'DCR',7,'M'
(1)  165/ 61.172 : 004                          DB      4
(1)  166/ 61.173 : 066                          DB      36H
(1)  167/ 61.174 : 115 126 111 007 115          DB      'MVI',7,'M,'
          61.201 : 054                
(1)  168/ 61.202 : 004                          DB      4
(1)  169/ 61.203 : 067                          DB      37H
(1)  170/ 61.204 : 123 124 103                  DB      'STC'
(1)  171/ 61.207 : 004                          DB      4
(1)  172/ 61.210 : 070                          DB      38H
(1)  173/ 61.211 : 104 102 010 060 067          DB      'DB',8,'070Q'
          61.216 : 060 121            
(1)  174/ 61.220 : 004                          DB      4
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 38 - 08/18/2024 03:18:17 PM


(1)  175/ 61.221 : 071                          DB      39H
(1)  176/ 61.222 : 104 101 104 007 123          DB      'DAD',7,'SP'
          61.227 : 120                
(1)  177/ 61.230 : 004                          DB      4
(1)  178/ 61.231 : 072                          DB      3AH
(1)  179/ 61.232 : 114 104 101 007              DB      'LDA',7
(1)  180/ 61.236 : 004                          DB      4
(1)  181/ 61.237 : 073                          DB      3BH
(1)  182/ 61.240 : 104 103 130 007 123          DB      'DCX',7,'SP'
          61.245 : 120                
(1)  183/ 61.246 : 004                          DB      4
(1)  184/ 61.247 : 074                          DB      3CH
(1)  185/ 61.250 : 111 116 122 007 101          DB      'INR',7,'A'
(1)  186/ 61.255 : 004                          DB      4
(1)  187/ 61.256 : 075                          DB      3DH
(1)  188/ 61.257 : 104 103 122 007 101          DB      'DCR',7,'A'
(1)  189/ 61.264 : 004                          DB      4
(1)  190/ 61.265 : 076                          DB      3EH
(1)  191/ 61.266 : 115 126 111 007 101          DB      'MVI',7,'A,'
          61.273 : 054                
(1)  192/ 61.274 : 004                          DB      4
(1)  193/ 61.275 : 077                          DB      3FH
(1)  194/ 61.276 : 103 115 103                  DB      'CMC'
(1)  195/ 61.301 : 004                          DB      4
(1)  196/ 61.302 : 100                          DB      40H
(1)  197/ 61.303 : 115 117 126 007 102          DB      'MOV',7,'B,B'
          61.310 : 054 102            
(1)  198/ 61.312 : 004                          DB      4
(1)  199/ 61.313 : 101                          DB      41H
(1)  200/ 61.314 : 115 117 126 007 102          DB      'MOV',7,'B,C'
          61.321 : 054 103            
(1)  201/ 61.323 : 004                          DB      4
(1)  202/ 61.324 : 102                          DB      42H
(1)  203/ 61.325 : 115 117 126 007 102          DB      'MOV',7,'B,D'
          61.332 : 054 104            
(1)  204/ 61.334 : 004                          DB      4
(1)  205/ 61.335 : 103                          DB      43H
(1)  206/ 61.336 : 115 117 126 007 102          DB      'MOV',7,'B,E'
          61.343 : 054 105            
(1)  207/ 61.345 : 004                          DB      4
(1)  208/ 61.346 : 104                          DB      44H
(1)  209/ 61.347 : 115 117 126 007 102          DB      'MOV',7,'B,H'
          61.354 : 054 110            
(1)  210/ 61.356 : 004                          DB      4
(1)  211/ 61.357 : 105                          DB      45H
(1)  212/ 61.360 : 115 117 126 007 102          DB      'MOV',7,'B,L'
          61.365 : 054 114            
(1)  213/ 61.367 : 004                          DB      4
(1)  214/ 61.370 : 106                          DB      46H
(1)  215/ 61.371 : 115 117 126 007 102          DB      'MOV',7,'B,M'
          61.376 : 054 115            
(1)  216/ 62.000 : 004                          DB      4
(1)  217/ 62.001 : 107                          DB      47H
(1)  218/ 62.002 : 115 117 126 007 102          DB      'MOV',7,'B,A'
          62.007 : 054 101            
(1)  219/ 62.011 : 004                          DB      4
(1)  220/ 62.012 : 110                          DB      48H
(1)  221/ 62.013 : 115 117 126 007 103          DB      'MOV',7,'C,B'
          62.020 : 054 102            
(1)  222/ 62.022 : 004                          DB      4
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 39 - 08/18/2024 03:18:17 PM


(1)  223/ 62.023 : 111                          DB      49H
(1)  224/ 62.024 : 115 117 126 007 103          DB      'MOV',7,'C,C'
          62.031 : 054 103            
(1)  225/ 62.033 : 004                          DB      4
(1)  226/ 62.034 : 112                          DB      4AH
(1)  227/ 62.035 : 115 117 126 007 103          DB      'MOV',7,'C,D'
          62.042 : 054 104            
(1)  228/ 62.044 : 004                          DB      4
(1)  229/ 62.045 : 113                          DB      4BH
(1)  230/ 62.046 : 115 117 126 007 103          DB      'MOV',7,'C,E'
          62.053 : 054 105            
(1)  231/ 62.055 : 004                          DB      4
(1)  232/ 62.056 : 114                          DB      4CH
(1)  233/ 62.057 : 115 117 126 007 103          DB      'MOV',7,'C,H'
          62.064 : 054 110            
(1)  234/ 62.066 : 004                          DB      4
(1)  235/ 62.067 : 115                          DB      4DH
(1)  236/ 62.070 : 115 117 126 007 103          DB      'MOV',7,'C,L'
          62.075 : 054 114            
(1)  237/ 62.077 : 004                          DB      4
(1)  238/ 62.100 : 116                          DB      4EH
(1)  239/ 62.101 : 115 117 126 007 103          DB      'MOV',7,'C,M'
          62.106 : 054 115            
(1)  240/ 62.110 : 004                          DB      4
(1)  241/ 62.111 : 117                          DB      4FH
(1)  242/ 62.112 : 115 117 126 007 103          DB      'MOV',7,'C,A'
          62.117 : 054 101            
(1)  243/ 62.121 : 004                          DB      4
(1)  244/ 62.122 : 120                          DB      50H
(1)  245/ 62.123 : 115 117 126 007 104          DB      'MOV',7,'D,B'
          62.130 : 054 102            
(1)  246/ 62.132 : 004                          DB      4
(1)  247/ 62.133 : 121                          DB      51H
(1)  248/ 62.134 : 115 117 126 007 104          DB      'MOV',7,'D,C'
          62.141 : 054 103            
(1)  249/ 62.143 : 004                          DB      4
(1)  250/ 62.144 : 122                          DB      52H
(1)  251/ 62.145 : 115 117 126 007 104          DB      'MOV',7,'D,D'
          62.152 : 054 104            
(1)  252/ 62.154 : 004                          DB      4
(1)  253/ 62.155 : 123                          DB      53H
(1)  254/ 62.156 : 115 117 126 007 104          DB      'MOV',7,'D,E'
          62.163 : 054 105            
(1)  255/ 62.165 : 004                          DB      4
(1)  256/ 62.166 : 124                          DB      54H
(1)  257/ 62.167 : 115 117 126 007 104          DB      'MOV',7,'D,H'
          62.174 : 054 110            
(1)  258/ 62.176 : 004                          DB      4
(1)  259/ 62.177 : 125                          DB      55H
(1)  260/ 62.200 : 115 117 126 007 104          DB      'MOV',7,'D,L'
          62.205 : 054 114            
(1)  261/ 62.207 : 004                          DB      4
(1)  262/ 62.210 : 126                          DB      56H
(1)  263/ 62.211 : 115 117 126 007 104          DB      'MOV',7,'D,M'
          62.216 : 054 115            
(1)  264/ 62.220 : 004                          DB      4
(1)  265/ 62.221 : 127                          DB      57H
(1)  266/ 62.222 : 115 117 126 007 104          DB      'MOV',7,'D,A'
          62.227 : 054 101            
(1)  267/ 62.231 : 004                          DB      4
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 40 - 08/18/2024 03:18:17 PM


(1)  268/ 62.232 : 130                          DB      58H
(1)  269/ 62.233 : 115 117 126 007 105          DB      'MOV',7,'E,B'
          62.240 : 054 102            
(1)  270/ 62.242 : 004                          DB      4
(1)  271/ 62.243 : 131                          DB      59H
(1)  272/ 62.244 : 115 117 126 007 105          DB      'MOV',7,'E,C'
          62.251 : 054 103            
(1)  273/ 62.253 : 004                          DB      4
(1)  274/ 62.254 : 132                          DB      5AH
(1)  275/ 62.255 : 115 117 126 007 105          DB      'MOV',7,'E,D'
          62.262 : 054 104            
(1)  276/ 62.264 : 004                          DB      4
(1)  277/ 62.265 : 133                          DB      5BH
(1)  278/ 62.266 : 115 117 126 007 105          DB      'MOV',7,'E,E'
          62.273 : 054 105            
(1)  279/ 62.275 : 004                          DB      4
(1)  280/ 62.276 : 134                          DB      5CH
(1)  281/ 62.277 : 115 117 126 007 105          DB      'MOV',7,'E,H'
          62.304 : 054 110            
(1)  282/ 62.306 : 004                          DB      4
(1)  283/ 62.307 : 135                          DB      5DH
(1)  284/ 62.310 : 115 117 126 007 105          DB      'MOV',7,'E,L'
          62.315 : 054 114            
(1)  285/ 62.317 : 004                          DB      4
(1)  286/ 62.320 : 136                          DB      5EH
(1)  287/ 62.321 : 115 117 126 007 105          DB      'MOV',7,'E,M'
          62.326 : 054 115            
(1)  288/ 62.330 : 004                          DB      4
(1)  289/ 62.331 : 137                          DB      5FH
(1)  290/ 62.332 : 115 117 126 007 105          DB      'MOV',7,'E,A'
          62.337 : 054 101            
(1)  291/ 62.341 : 004                          DB      4
(1)  292/ 62.342 : 140                          DB      60H
(1)  293/ 62.343 : 115 117 126 007 110          DB      'MOV',7,'H,B'
          62.350 : 054 102            
(1)  294/ 62.352 : 004                          DB      4
(1)  295/ 62.353 : 141                          DB      61H
(1)  296/ 62.354 : 115 117 126 007 110          DB      'MOV',7,'H,C'
          62.361 : 054 103            
(1)  297/ 62.363 : 004                          DB      4
(1)  298/ 62.364 : 142                          DB      62H
(1)  299/ 62.365 : 115 117 126 007 110          DB      'MOV',7,'H,D'
          62.372 : 054 104            
(1)  300/ 62.374 : 004                          DB      4
(1)  301/ 62.375 : 143                          DB      63H
(1)  302/ 62.376 : 115 117 126 007 110          DB      'MOV',7,'H,E'
          63.003 : 054 105            
(1)  303/ 63.005 : 004                          DB      4
(1)  304/ 63.006 : 144                          DB      64H
(1)  305/ 63.007 : 115 117 126 007 110          DB      'MOV',7,'H,H'
          63.014 : 054 110            
(1)  306/ 63.016 : 004                          DB      4
(1)  307/ 63.017 : 145                          DB      65H
(1)  308/ 63.020 : 115 117 126 007 110          DB      'MOV',7,'H,L'
          63.025 : 054 114            
(1)  309/ 63.027 : 004                          DB      4
(1)  310/ 63.030 : 146                          DB      66H
(1)  311/ 63.031 : 115 117 126 007 110          DB      'MOV',7,'H,M'
          63.036 : 054 115            
(1)  312/ 63.040 : 004                          DB      4
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 41 - 08/18/2024 03:18:17 PM


(1)  313/ 63.041 : 147                          DB      67H
(1)  314/ 63.042 : 115 117 126 007 110          DB      'MOV',7,'H,A'
          63.047 : 054 101            
(1)  315/ 63.051 : 004                          DB      4
(1)  316/ 63.052 : 150                          DB      68H
(1)  317/ 63.053 : 115 117 126 007 114          DB      'MOV',7,'L,B'
          63.060 : 054 102            
(1)  318/ 63.062 : 004                          DB      4
(1)  319/ 63.063 : 151                          DB      69H
(1)  320/ 63.064 : 115 117 126 007 114          DB      'MOV',7,'L,C'
          63.071 : 054 103            
(1)  321/ 63.073 : 004                          DB      4
(1)  322/ 63.074 : 152                          DB      6AH
(1)  323/ 63.075 : 115 117 126 007 114          DB      'MOV',7,'L,D'
          63.102 : 054 104            
(1)  324/ 63.104 : 004                          DB      4
(1)  325/ 63.105 : 153                          DB      6BH
(1)  326/ 63.106 : 115 117 126 007 114          DB      'MOV',7,'L,E'
          63.113 : 054 105            
(1)  327/ 63.115 : 004                          DB      4
(1)  328/ 63.116 : 154                          DB      6CH
(1)  329/ 63.117 : 115 117 126 007 114          DB      'MOV',7,'L,H'
          63.124 : 054 110            
(1)  330/ 63.126 : 004                          DB      4
(1)  331/ 63.127 : 155                          DB      6DH
(1)  332/ 63.130 : 115 117 126 007 114          DB      'MOV',7,'L,L'
          63.135 : 054 114            
(1)  333/ 63.137 : 004                          DB      4
(1)  334/ 63.140 : 156                          DB      6EH
(1)  335/ 63.141 : 115 117 126 007 114          DB      'MOV',7,'L,M'
          63.146 : 054 115            
(1)  336/ 63.150 : 004                          DB      4
(1)  337/ 63.151 : 157                          DB      6FH
(1)  338/ 63.152 : 115 117 126 007 114          DB      'MOV',7,'L,A'
          63.157 : 054 101            
(1)  339/ 63.161 : 004                          DB      4
(1)  340/ 63.162 : 160                          DB      70H
(1)  341/ 63.163 : 115 117 126 007 115          DB      'MOV',7,'M,B'
          63.170 : 054 102            
(1)  342/ 63.172 : 004                          DB      4
(1)  343/ 63.173 : 161                          DB      71H
(1)  344/ 63.174 : 115 117 126 007 115          DB      'MOV',7,'M,C'
          63.201 : 054 103            
(1)  345/ 63.203 : 004                          DB      4
(1)  346/ 63.204 : 162                          DB      72H
(1)  347/ 63.205 : 115 117 126 007 115          DB      'MOV',7,'M,D'
          63.212 : 054 104            
(1)  348/ 63.214 : 004                          DB      4
(1)  349/ 63.215 : 163                          DB      73H
(1)  350/ 63.216 : 115 117 126 007 115          DB      'MOV',7,'M,E'
          63.223 : 054 105            
(1)  351/ 63.225 : 004                          DB      4
(1)  352/ 63.226 : 164                          DB      74H
(1)  353/ 63.227 : 115 117 126 007 115          DB      'MOV',7,'M,H'
          63.234 : 054 110            
(1)  354/ 63.236 : 004                          DB      4
(1)  355/ 63.237 : 165                          DB      75H
(1)  356/ 63.240 : 115 117 126 007 115          DB      'MOV',7,'M,L'
          63.245 : 054 114            
(1)  357/ 63.247 : 004                          DB      4
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 42 - 08/18/2024 03:18:17 PM


(1)  358/ 63.250 : 166                          DB      76H
(1)  359/ 63.251 : 110 114 124                  DB      'HLT'
(1)  360/ 63.254 : 004                          DB      4
(1)  361/ 63.255 : 167                          DB      77H
(1)  362/ 63.256 : 115 117 126 007 115          DB      'MOV',7,'M,A'
          63.263 : 054 101            
(1)  363/ 63.265 : 004                          DB      4
(1)  364/ 63.266 : 170                          DB      78H
(1)  365/ 63.267 : 115 117 126 007 101          DB      'MOV',7,'A,B'
          63.274 : 054 102            
(1)  366/ 63.276 : 004                          DB      4
(1)  367/ 63.277 : 171                          DB      79H
(1)  368/ 63.300 : 115 117 126 007 101          DB      'MOV',7,'A,C'
          63.305 : 054 103            
(1)  369/ 63.307 : 004                          DB      4
(1)  370/ 63.310 : 172                          DB      7AH
(1)  371/ 63.311 : 115 117 126 007 101          DB      'MOV',7,'A,D'
          63.316 : 054 104            
(1)  372/ 63.320 : 004                          DB      4
(1)  373/ 63.321 : 173                          DB      7BH
(1)  374/ 63.322 : 115 117 126 007 101          DB      'MOV',7,'A,E'
          63.327 : 054 105            
(1)  375/ 63.331 : 004                          DB      4
(1)  376/ 63.332 : 174                          DB      7CH
(1)  377/ 63.333 : 115 117 126 007 101          DB      'MOV',7,'A,H'
          63.340 : 054 110            
(1)  378/ 63.342 : 004                          DB      4
(1)  379/ 63.343 : 175                          DB      7DH
(1)  380/ 63.344 : 115 117 126 007 101          DB      'MOV',7,'A,L'
          63.351 : 054 114            
(1)  381/ 63.353 : 004                          DB      4
(1)  382/ 63.354 : 176                          DB      7EH
(1)  383/ 63.355 : 115 117 126 007 101          DB      'MOV',7,'A,M'
          63.362 : 054 115            
(1)  384/ 63.364 : 004                          DB      4
(1)  385/ 63.365 : 177                          DB      7FH
(1)  386/ 63.366 : 115 117 126 007 101          DB      'MOV',7,'A,A'
          63.373 : 054 101            
(1)  387/ 63.375 : 004                          DB      4
(1)  388/ 63.376 : 200                          DB      80H
(1)  389/ 63.377 : 101 104 104 007 102          DB      'ADD',7,'B'
(1)  390/ 64.004 : 004                          DB      4
(1)  391/ 64.005 : 201                          DB      81H
(1)  392/ 64.006 : 101 104 104 007 103          DB      'ADD',7,'C'
(1)  393/ 64.013 : 004                          DB      4
(1)  394/ 64.014 : 202                          DB      82H
(1)  395/ 64.015 : 101 104 104 007 104          DB      'ADD',7,'D'
(1)  396/ 64.022 : 004                          DB      4
(1)  397/ 64.023 : 203                          DB      83H
(1)  398/ 64.024 : 101 104 104 007 105          DB      'ADD',7,'E'
(1)  399/ 64.031 : 004                          DB      4
(1)  400/ 64.032 : 204                          DB      84H
(1)  401/ 64.033 : 101 104 104 007 110          DB      'ADD',7,'H'
(1)  402/ 64.040 : 004                          DB      4
(1)  403/ 64.041 : 205                          DB      85H
(1)  404/ 64.042 : 101 104 104 007 114          DB      'ADD',7,'L'
(1)  405/ 64.047 : 004                          DB      4
(1)  406/ 64.050 : 206                          DB      86H
(1)  407/ 64.051 : 101 104 104 007 115          DB      'ADD',7,'M'
(1)  408/ 64.056 : 004                          DB      4
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 43 - 08/18/2024 03:18:17 PM


(1)  409/ 64.057 : 207                          DB      87H
(1)  410/ 64.060 : 101 104 104 007 101          DB      'ADD',7,'A'
(1)  411/ 64.065 : 004                          DB      4
(1)  412/ 64.066 : 210                          DB      88H
(1)  413/ 64.067 : 101 104 103 007 102          DB      'ADC',7,'B'
(1)  414/ 64.074 : 004                          DB      4
(1)  415/ 64.075 : 211                          DB      89H
(1)  416/ 64.076 : 101 104 103 007 103          DB      'ADC',7,'C'
(1)  417/ 64.103 : 004                          DB      4
(1)  418/ 64.104 : 212                          DB      8AH
(1)  419/ 64.105 : 101 104 103 007 104          DB      'ADC',7,'D'
(1)  420/ 64.112 : 004                          DB      4
(1)  421/ 64.113 : 213                          DB      8BH
(1)  422/ 64.114 : 101 104 103 007 105          DB      'ADC',7,'E'
(1)  423/ 64.121 : 004                          DB      4
(1)  424/ 64.122 : 214                          DB      8CH
(1)  425/ 64.123 : 101 104 103 007 110          DB      'ADC',7,'H'
(1)  426/ 64.130 : 004                          DB      4
(1)  427/ 64.131 : 215                          DB      8DH
(1)  428/ 64.132 : 101 104 103 007 114          DB      'ADC',7,'L'
(1)  429/ 64.137 : 004                          DB      4
(1)  430/ 64.140 : 216                          DB      8EH
(1)  431/ 64.141 : 101 104 103 007 115          DB      'ADC',7,'M'
(1)  432/ 64.146 : 004                          DB      4
(1)  433/ 64.147 : 217                          DB      8FH
(1)  434/ 64.150 : 101 104 103 007 101          DB      'ADC',7,'A'
(1)  435/ 64.155 : 004                          DB      4
(1)  436/ 64.156 : 220                          DB      90H
(1)  437/ 64.157 : 123 125 102 007 102          DB      'SUB',7,'B'
(1)  438/ 64.164 : 004                          DB      4
(1)  439/ 64.165 : 221                          DB      91H
(1)  440/ 64.166 : 123 125 102 007 103          DB      'SUB',7,'C'
(1)  441/ 64.173 : 004                          DB      4
(1)  442/ 64.174 : 222                          DB      92H
(1)  443/ 64.175 : 123 125 102 007 104          DB      'SUB',7,'D'
(1)  444/ 64.202 : 004                          DB      4
(1)  445/ 64.203 : 223                          DB      93H
(1)  446/ 64.204 : 123 125 102 007 105          DB      'SUB',7,'E'
(1)  447/ 64.211 : 004                          DB      4
(1)  448/ 64.212 : 224                          DB      94H
(1)  449/ 64.213 : 123 125 102 007 110          DB      'SUB',7,'H'
(1)  450/ 64.220 : 004                          DB      4
(1)  451/ 64.221 : 225                          DB      95H
(1)  452/ 64.222 : 123 125 102 007 114          DB      'SUB',7,'L'
(1)  453/ 64.227 : 004                          DB      4
(1)  454/ 64.230 : 226                          DB      96H
(1)  455/ 64.231 : 123 125 102 007 115          DB      'SUB',7,'M'
(1)  456/ 64.236 : 004                          DB      4
(1)  457/ 64.237 : 227                          DB      97H
(1)  458/ 64.240 : 123 125 102 007 101          DB      'SUB',7,'A'
(1)  459/ 64.245 : 004                          DB      4
(1)  460/ 64.246 : 230                          DB      98H
(1)  461/ 64.247 : 123 102 102 007 102          DB      'SBB',7,'B'
(1)  462/ 64.254 : 004                          DB      4
(1)  463/ 64.255 : 231                          DB      99H
(1)  464/ 64.256 : 123 102 102 007 103          DB      'SBB',7,'C'
(1)  465/ 64.263 : 004                          DB      4
(1)  466/ 64.264 : 232                          DB      9AH
(1)  467/ 64.265 : 123 102 102 007 104          DB      'SBB',7,'D'
(1)  468/ 64.272 : 004                          DB      4
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 44 - 08/18/2024 03:18:17 PM


(1)  469/ 64.273 : 233                          DB      9BH
(1)  470/ 64.274 : 123 102 102 007 105          DB      'SBB',7,'E'
(1)  471/ 64.301 : 004                          DB      4
(1)  472/ 64.302 : 234                          DB      9CH
(1)  473/ 64.303 : 123 102 102 007 110          DB      'SBB',7,'H'
(1)  474/ 64.310 : 004                          DB      4
(1)  475/ 64.311 : 235                          DB      9DH
(1)  476/ 64.312 : 123 102 102 007 114          DB      'SBB',7,'L'
(1)  477/ 64.317 : 004                          DB      4
(1)  478/ 64.320 : 236                          DB      9EH
(1)  479/ 64.321 : 123 102 102 007 115          DB      'SBB',7,'M'
(1)  480/ 64.326 : 004                          DB      4
(1)  481/ 64.327 : 237                          DB      9FH
(1)  482/ 64.330 : 123 102 102 007 101          DB      'SBB',7,'A'
(1)  483/ 64.335 : 004                          DB      4
(1)  484/ 64.336 : 240                          DB      0A0H
(1)  485/ 64.337 : 101 116 101 007 102          DB      'ANA',7,'B'
(1)  486/ 64.344 : 004                          DB      4
(1)  487/ 64.345 : 241                          DB      0A1H
(1)  488/ 64.346 : 101 116 101 007 103          DB      'ANA',7,'C'
(1)  489/ 64.353 : 004                          DB      4
(1)  490/ 64.354 : 242                          DB      0A2H
(1)  491/ 64.355 : 101 116 101 007 104          DB      'ANA',7,'D'
(1)  492/ 64.362 : 004                          DB      4
(1)  493/ 64.363 : 243                          DB      0A3H
(1)  494/ 64.364 : 101 116 101 007 105          DB      'ANA',7,'E'
(1)  495/ 64.371 : 004                          DB      4
(1)  496/ 64.372 : 244                          DB      0A4H
(1)  497/ 64.373 : 101 116 101 007 110          DB      'ANA',7,'H'
(1)  498/ 65.000 : 004                          DB      4
(1)  499/ 65.001 : 245                          DB      0A5H
(1)  500/ 65.002 : 101 116 101 007 114          DB      'ANA',7,'L'
(1)  501/ 65.007 : 004                          DB      4
(1)  502/ 65.010 : 246                          DB      0A6H
(1)  503/ 65.011 : 101 116 101 007 115          DB      'ANA',7,'M'
(1)  504/ 65.016 : 004                          DB      4
(1)  505/ 65.017 : 247                          DB      0A7H
(1)  506/ 65.020 : 101 116 101 007 101          DB      'ANA',7,'A'
(1)  507/ 65.025 : 004                          DB      4
(1)  508/ 65.026 : 250                          DB      0A8H
(1)  509/ 65.027 : 130 122 101 007 102          DB      'XRA',7,'B'
(1)  510/ 65.034 : 004                          DB      4
(1)  511/ 65.035 : 251                          DB      0A9H
(1)  512/ 65.036 : 130 122 101 007 103          DB      'XRA',7,'C'
(1)  513/ 65.043 : 004                          DB      4
(1)  514/ 65.044 : 252                          DB      0AAH
(1)  515/ 65.045 : 130 122 101 007 104          DB      'XRA',7,'D'
(1)  516/ 65.052 : 004                          DB      4
(1)  517/ 65.053 : 253                          DB      0ABH
(1)  518/ 65.054 : 130 122 101 007 105          DB      'XRA',7,'E'
(1)  519/ 65.061 : 004                          DB      4
(1)  520/ 65.062 : 254                          DB      0ACH
(1)  521/ 65.063 : 130 122 101 007 110          DB      'XRA',7,'H'
(1)  522/ 65.070 : 004                          DB      4
(1)  523/ 65.071 : 255                          DB      0ADH
(1)  524/ 65.072 : 130 122 101 007 114          DB      'XRA',7,'L'
(1)  525/ 65.077 : 004                          DB      4
(1)  526/ 65.100 : 256                          DB      0AEH
(1)  527/ 65.101 : 130 122 101 007 115          DB      'XRA',7,'M'
(1)  528/ 65.106 : 004                          DB      4
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 45 - 08/18/2024 03:18:17 PM


(1)  529/ 65.107 : 257                          DB      0AFH
(1)  530/ 65.110 : 130 122 101 007 101          DB      'XRA',7,'A'
(1)  531/ 65.115 : 004                          DB      4
(1)  532/ 65.116 : 260                          DB      0B0H
(1)  533/ 65.117 : 117 122 101 007 102          DB      'ORA',7,'B'
(1)  534/ 65.124 : 004                          DB      4
(1)  535/ 65.125 : 261                          DB      0B1H
(1)  536/ 65.126 : 117 122 101 007 103          DB      'ORA',7,'C'
(1)  537/ 65.133 : 004                          DB      4
(1)  538/ 65.134 : 262                          DB      0B2H
(1)  539/ 65.135 : 117 122 101 007 104          DB      'ORA',7,'D'
(1)  540/ 65.142 : 004                          DB      4
(1)  541/ 65.143 : 263                          DB      0B3H
(1)  542/ 65.144 : 117 122 101 007 105          DB      'ORA',7,'E'
(1)  543/ 65.151 : 004                          DB      4
(1)  544/ 65.152 : 264                          DB      0B4H
(1)  545/ 65.153 : 117 122 101 007 110          DB      'ORA',7,'H'
(1)  546/ 65.160 : 004                          DB      4
(1)  547/ 65.161 : 265                          DB      0B5H
(1)  548/ 65.162 : 117 122 101 007 114          DB      'ORA',7,'L'
(1)  549/ 65.167 : 004                          DB      4
(1)  550/ 65.170 : 266                          DB      0B6H
(1)  551/ 65.171 : 117 122 101 007 115          DB      'ORA',7,'M'
(1)  552/ 65.176 : 004                          DB      4
(1)  553/ 65.177 : 267                          DB      0B7H
(1)  554/ 65.200 : 117 122 101 007 101          DB      'ORA',7,'A'
(1)  555/ 65.205 : 004                          DB      4
(1)  556/ 65.206 : 270                          DB      0B8H
(1)  557/ 65.207 : 103 115 120 007 102          DB      'CMP',7,'B'
(1)  558/ 65.214 : 004                          DB      4
(1)  559/ 65.215 : 271                          DB      0B9H
(1)  560/ 65.216 : 103 115 120 007 103          DB      'CMP',7,'C'
(1)  561/ 65.223 : 004                          DB      4
(1)  562/ 65.224 : 272                          DB      0BAH
(1)  563/ 65.225 : 103 115 120 007 104          DB      'CMP',7,'D'
(1)  564/ 65.232 : 004                          DB      4
(1)  565/ 65.233 : 273                          DB      0BBH
(1)  566/ 65.234 : 103 115 120 007 105          DB      'CMP',7,'E'
(1)  567/ 65.241 : 004                          DB      4
(1)  568/ 65.242 : 274                          DB      0BCH
(1)  569/ 65.243 : 103 115 120 007 110          DB      'CMP',7,'H'
(1)  570/ 65.250 : 004                          DB      4
(1)  571/ 65.251 : 275                          DB      0BDH
(1)  572/ 65.252 : 103 115 120 007 114          DB      'CMP',7,'L'
(1)  573/ 65.257 : 004                          DB      4
(1)  574/ 65.260 : 276                          DB      0BEH
(1)  575/ 65.261 : 103 115 120 007 115          DB      'CMP',7,'M'
(1)  576/ 65.266 : 004                          DB      4
(1)  577/ 65.267 : 277                          DB      0BFH
(1)  578/ 65.270 : 103 115 120 007 101          DB      'CMP',7,'A'
(1)  579/ 65.275 : 004                          DB      4
(1)  580/ 65.276 : 300                          DB      0C0H
(1)  581/ 65.277 : 122 116 132                  DB      'RNZ'
(1)  582/ 65.302 : 004                          DB      4
(1)  583/ 65.303 : 301                          DB      0C1H
(1)  584/ 65.304 : 120 117 120 007 102          DB      'POP',7,'B'
(1)  585/ 65.311 : 004                          DB      4
(1)  586/ 65.312 : 302                          DB      0C2H
(1)  587/ 65.313 : 112 116 132 007              DB      'JNZ',7
(1)  588/ 65.317 : 004                          DB      4
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 46 - 08/18/2024 03:18:17 PM


(1)  589/ 65.320 : 303                          DB      0C3H
(1)  590/ 65.321 : 112 115 120 007              DB      'JMP',7
(1)  591/ 65.325 : 004                          DB      4
(1)  592/ 65.326 : 304                          DB      0C4H
(1)  593/ 65.327 : 103 116 132 007              DB      'CNZ',7
(1)  594/ 65.333 : 004                          DB      4
(1)  595/ 65.334 : 305                          DB      0C5H
(1)  596/ 65.335 : 120 125 123 110 006          DB      'PUSH',6,'B'
          65.342 : 102                
(1)  597/ 65.343 : 004                          DB      4
(1)  598/ 65.344 : 306                          DB      0C6H
(1)  599/ 65.345 : 101 104 111 007              DB      'ADI',7
(1)  600/ 65.351 : 004                          DB      4
(1)  601/ 65.352 : 307                          DB      0C7H
(1)  602/ 65.353 : 122 123 124 007 060          DB      'RST',7,'0'
(1)  603/ 65.360 : 004                          DB      4
(1)  604/ 65.361 : 310                          DB      0C8H
(1)  605/ 65.362 : 122 132                      DB      'RZ'
(1)  606/ 65.364 : 004                          DB      4
(1)  607/ 65.365 : 311                          DB      0C9H
(1)  608/ 65.366 : 122 105 124                  DB      'RET'
(1)  609/ 65.371 : 004                          DB      4
(1)  610/ 65.372 : 312                          DB      0CAH
(1)  611/ 65.373 : 112 132 010                  DB      'JZ',8
(1)  612/ 65.376 : 004                          DB      4
(1)  613/ 65.377 : 313                          DB      0CBH
(1)  614/ 66.000 : 104 102 010 063 061          DB      'DB',8,'313Q'
          66.005 : 063 121            
(1)  615/ 66.007 : 004                          DB      4
(1)  616/ 66.010 : 314                          DB      0CCH
(1)  617/ 66.011 : 103 132 010                  DB      'CZ',8
(1)  618/ 66.014 : 004                          DB      4
(1)  619/ 66.015 : 315                          DB      0CDH
(1)  620/ 66.016 : 103 101 114 114 006          DB      'CALL',6
(1)  621/ 66.023 : 004                          DB      4
(1)  622/ 66.024 : 316                          DB      0CEH
(1)  623/ 66.025 : 101 103 111 007              DB      'ACI',7
(1)  624/ 66.031 : 004                          DB      4
(1)  625/ 66.032 : 317                          DB      0CFH
(1)  626/ 66.033 : 122 123 124 007 061          DB      'RST',7,'1'
(1)  627/ 66.040 : 004                          DB      4
(1)  628/ 66.041 : 320                          DB      0D0H
(1)  629/ 66.042 : 122 116 103                  DB      'RNC'
(1)  630/ 66.045 : 004                          DB      4
(1)  631/ 66.046 : 321                          DB      0D1H
(1)  632/ 66.047 : 120 117 120 007 104          DB      'POP',7,'D'
(1)  633/ 66.054 : 004                          DB      4
(1)  634/ 66.055 : 322                          DB      0D2H
(1)  635/ 66.056 : 112 116 103 007              DB      'JNC',7
(1)  636/ 66.062 : 004                          DB      4
(1)  637/ 66.063 : 323                          DB      0D3H
(1)  638/ 66.064 : 117 125 124 007              DB      'OUT',7
(1)  639/ 66.070 : 004                          DB      4
(1)  640/ 66.071 : 324                          DB      0D4H
(1)  641/ 66.072 : 103 116 103 007              DB      'CNC',7
(1)  642/ 66.076 : 004                          DB      4
(1)  643/ 66.077 : 325                          DB      0D5H
(1)  644/ 66.100 : 120 125 123 110 006          DB      'PUSH',6,'D'
          66.105 : 104                
(1)  645/ 66.106 : 004                          DB      4
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 47 - 08/18/2024 03:18:17 PM


(1)  646/ 66.107 : 326                          DB      0D6H
(1)  647/ 66.110 : 123 125 111 007              DB      'SUI',7
(1)  648/ 66.114 : 004                          DB      4
(1)  649/ 66.115 : 327                          DB      0D7H
(1)  650/ 66.116 : 122 123 124 007 062          DB      'RST',7,'2'
(1)  651/ 66.123 : 004                          DB      4
(1)  652/ 66.124 : 330                          DB      0D8H
(1)  653/ 66.125 : 122 103                      DB      'RC'
(1)  654/ 66.127 : 004                          DB      4
(1)  655/ 66.130 : 331                          DB      0D9H
(1)  656/ 66.131 : 104 102 010 063 063          DB      'DB',8,'331Q'
          66.136 : 061 121            
(1)  657/ 66.140 : 004                          DB      4
(1)  658/ 66.141 : 332                          DB      0DAH
(1)  659/ 66.142 : 112 103 010                  DB      'JC',8
(1)  660/ 66.145 : 004                          DB      4
(1)  661/ 66.146 : 333                          DB      0DBH
(1)  662/ 66.147 : 111 116 010                  DB      'IN',8
(1)  663/ 66.152 : 004                          DB      4
(1)  664/ 66.153 : 334                          DB      0DCH
(1)  665/ 66.154 : 103 103 010                  DB      'CC',8
(1)  666/ 66.157 : 004                          DB      4
(1)  667/ 66.160 : 335                          DB      0DDH
(1)  668/ 66.161 : 104 102 010 063 063          DB      'DB',8,'335Q'
          66.166 : 065 121            
(1)  669/ 66.170 : 004                          DB      4
(1)  670/ 66.171 : 336                          DB      0DEH
(1)  671/ 66.172 : 123 102 111 007              DB      'SBI',7
(1)  672/ 66.176 : 004                          DB      4
(1)  673/ 66.177 : 337                          DB      0DFH
(1)  674/ 66.200 : 122 123 124 007 063          DB      'RST',7,'3'
(1)  675/ 66.205 : 004                          DB      4
(1)  676/ 66.206 : 340                          DB      0E0H
(1)  677/ 66.207 : 122 120 117                  DB      'RPO'
(1)  678/ 66.212 : 004                          DB      4
(1)  679/ 66.213 : 341                          DB      0E1H
(1)  680/ 66.214 : 120 117 120 007 110          DB      'POP',7,'H'
(1)  681/ 66.221 : 004                          DB      4
(1)  682/ 66.222 : 342                          DB      0E2H
(1)  683/ 66.223 : 112 120 117 007              DB      'JPO',7
(1)  684/ 66.227 : 004                          DB      4
(1)  685/ 66.230 : 343                          DB      0E3H
(1)  686/ 66.231 : 130 124 110 114              DB      'XTHL'
(1)  687/ 66.235 : 004                          DB      4
(1)  688/ 66.236 : 344                          DB      0E4H
(1)  689/ 66.237 : 103 120 117 007              DB      'CPO',7
(1)  690/ 66.243 : 004                          DB      4
(1)  691/ 66.244 : 345                          DB      0E5H
(1)  692/ 66.245 : 120 125 123 110 006          DB      'PUSH',6,'H'
          66.252 : 110                
(1)  693/ 66.253 : 004                          DB      4
(1)  694/ 66.254 : 346                          DB      0E6H
(1)  695/ 66.255 : 101 116 111 007              DB      'ANI',7
(1)  696/ 66.261 : 004                          DB      4
(1)  697/ 66.262 : 347                          DB      0E7H
(1)  698/ 66.263 : 122 123 124 007 064          DB      'RST',7,'4'
(1)  699/ 66.270 : 004                          DB      4
(1)  700/ 66.271 : 350                          DB      0E8H
(1)  701/ 66.272 : 122 120 105                  DB      'RPE'
(1)  702/ 66.275 : 004                          DB      4
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 48 - 08/18/2024 03:18:17 PM


(1)  703/ 66.276 : 351                          DB      0E9H
(1)  704/ 66.277 : 120 103 110 114              DB      'PCHL'
(1)  705/ 66.303 : 004                          DB      4
(1)  706/ 66.304 : 352                          DB      0EAH
(1)  707/ 66.305 : 112 120 105 007              DB      'JPE',7
(1)  708/ 66.311 : 004                          DB      4
(1)  709/ 66.312 : 353                          DB      0EBH
(1)  710/ 66.313 : 130 103 110 107              DB      'XCHG'
(1)  711/ 66.317 : 004                          DB      4
(1)  712/ 66.320 : 354                          DB      0ECH
(1)  713/ 66.321 : 103 120 105 007              DB      'CPE',7
(1)  714/ 66.325 : 004                          DB      4
(1)  715/ 66.326 : 355                          DB      0EDH
(1)  716/ 66.327 : 104 102 010 063 065          DB      'DB',8,'355Q'
          66.334 : 065 121            
(1)  717/ 66.336 : 004                          DB      4
(1)  718/ 66.337 : 356                          DB      0EEH
(1)  719/ 66.340 : 130 122 111 007              DB      'XRI',7
(1)  720/ 66.344 : 004                          DB      4
(1)  721/ 66.345 : 357                          DB      0EFH
(1)  722/ 66.346 : 122 123 124 007 065          DB      'RST',7,'5'
(1)  723/ 66.353 : 004                          DB      4
(1)  724/ 66.354 : 360                          DB      0F0H
(1)  725/ 66.355 : 122 120                      DB      'RP'
(1)  726/ 66.357 : 004                          DB      4
(1)  727/ 66.360 : 361                          DB      0F1H
(1)  728/ 66.361 : 120 117 120 007 120          DB      'POP',7,'PSW'
          66.366 : 123 127            
(1)  729/ 66.370 : 004                          DB      4
(1)  730/ 66.371 : 362                          DB      0F2H
(1)  731/ 66.372 : 112 120 010                  DB      'JP',8
(1)  732/ 66.375 : 004                          DB      4
(1)  733/ 66.376 : 363                          DB      0F3H
(1)  734/ 66.377 : 104 111                      DB      'DI'
(1)  735/ 67.001 : 004                          DB      4
(1)  736/ 67.002 : 364                          DB      0F4H
(1)  737/ 67.003 : 103 120 010                  DB      'CP',8
(1)  738/ 67.006 : 004                          DB      4
(1)  739/ 67.007 : 365                          DB      0F5H
(1)  740/ 67.010 : 120 125 123 110 006          DB      'PUSH',6,'PSW'
          67.015 : 120 123 127        
(1)  741/ 67.020 : 004                          DB      4
(1)  742/ 67.021 : 366                          DB      0F6H
(1)  743/ 67.022 : 117 122 111 007              DB      'ORI',7
(1)  744/ 67.026 : 004                          DB      4
(1)  745/ 67.027 : 367                          DB      0F7H
(1)  746/ 67.030 : 122 123 124 007 066          DB      'RST',7,'6'
(1)  747/ 67.035 : 004                          DB      4
(1)  748/ 67.036 : 370                          DB      0F8H
(1)  749/ 67.037 : 122 115                      DB      'RM'
(1)  750/ 67.041 : 004                          DB      4
(1)  751/ 67.042 : 371                          DB      0F9H
(1)  752/ 67.043 : 123 120 110 114              DB      'SPHL'
(1)  753/ 67.047 : 004                          DB      4
(1)  754/ 67.050 : 372                          DB      0FAH
(1)  755/ 67.051 : 112 115 010                  DB      'JM',8
(1)  756/ 67.054 : 004                          DB      4
(1)  757/ 67.055 : 373                          DB      0FBH
(1)  758/ 67.056 : 105 111                      DB      'EI'
(1)  759/ 67.060 : 004                          DB      4
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 49 - 08/18/2024 03:18:17 PM


(1)  760/ 67.061 : 374                          DB      0FCH
(1)  761/ 67.062 : 103 115 010                  DB      'CM',8
(1)  762/ 67.065 : 004                          DB      4
(1)  763/ 67.066 : 375                          DB      0FDH
(1)  764/ 67.067 : 104 102 010 063 067          DB      'DB',8,'375Q'
          67.074 : 065 121            
(1)  765/ 67.076 : 004                          DB      4
(1)  766/ 67.077 : 376                          DB      0FEH
(1)  767/ 67.100 : 103 120 111 007              DB      'CPI',7
(1)  768/ 67.104 : 004                          DB      4
(1)  769/ 67.105 : 377                          DB      0FFH
(1)  770/ 67.106 : 123 103 101 114 114          DB      'SCALL     '
          67.113 : 040 040 040 040 040
(1)  771/ 67.120 : 004                          DB      4
(1)  772/ 67.121 :                      ;
(1)  773/ 67.121 :                      ; TABLE OF TWO BYTE MNEMONICS
(1)  774/ 67.121 :                      ;
(1)  775/ 67.121 : 006                  TABL1   DB      06H
(1)  776/ 67.122 : 016                          DB      0EH
(1)  777/ 67.123 : 026                          DB      16H
(1)  778/ 67.124 : 036                          DB      1EH
(1)  779/ 67.125 : 046                          DB      26H
(1)  780/ 67.126 : 056                          DB      2EH
(1)  781/ 67.127 : 066                          DB      36H
(1)  782/ 67.130 : 076                          DB      3EH
(1)  783/ 67.131 : 306                          DB      0C6H
(1)  784/ 67.132 : 316                          DB      0CEH
(1)  785/ 67.133 : 323                          DB      0D3H
(1)  786/ 67.134 : 326                          DB      0D6H
(1)  787/ 67.135 : 333                          DB      0DBH
(1)  788/ 67.136 : 336                          DB      0DEH
(1)  789/ 67.137 : 346                          DB      0E6H
(1)  790/ 67.140 : 356                          DB      0EEH
(1)  791/ 67.141 : 366                          DB      0F6H
(1)  792/ 67.142 : 376                          DB      0FEH
(1)  793/ 67.143 : 377                          DB      0FFH
(1)  794/ 67.144 :                      ;
(1)  795/ 67.144 :                      ; TABLE OF THREE BYTE MNEMONICS
(1)  796/ 67.144 :                      ;
(1)  797/ 67.144 : 001                          DB      01H
(1)  798/ 67.145 : 021                          DB      11H
(1)  799/ 67.146 : 041                          DB      21H
(1)  800/ 67.147 : 042                          DB      22H
(1)  801/ 67.150 : 052                          DB      2AH
(1)  802/ 67.151 : 061                          DB      31H
(1)  803/ 67.152 : 062                          DB      32H
(1)  804/ 67.153 : 072                          DB      3AH
(1)  805/ 67.154 : 302                          DB      0C2H
(1)  806/ 67.155 : 303                          DB      0C3H
(1)  807/ 67.156 : 304                          DB      0C4H
(1)  808/ 67.157 : 312                          DB      0CAH
(1)  809/ 67.160 : 314                          DB      0CCH
(1)  810/ 67.161 : 315                          DB      0CDH
(1)  811/ 67.162 : 322                          DB      0D2H
(1)  812/ 67.163 : 324                          DB      0D4H
(1)  813/ 67.164 : 332                          DB      0DAH
(1)  814/ 67.165 : 334                          DB      0DCH
(1)  815/ 67.166 : 342                          DB      0E2H
(1)  816/ 67.167 : 344                          DB      0E4H
(1)  817/ 67.170 : 352                          DB      0EAH
 AS V1.42 Beta [Bld 273] - Source File rdt.asm(dist.acm) - Page 50 - 08/18/2024 03:18:17 PM


(1)  818/ 67.171 : 354                          DB      0ECH
(1)  819/ 67.172 : 362                          DB      0F2H
(1)  820/ 67.173 : 364                          DB      0F4H
(1)  821/ 67.174 : 372                          DB      0FAH
(1)  822/ 67.175 : 374                          DB      0FCH
(1)  823/ 67.176 : 377                          DB      0FFH
(1)  824/ 67.177 :                      ; END OF TABLES
(1)  825/ 67.177 :                      
    1676/ 67.177 :                      BUFF    DS      55
    1677/ 67.266 : [6.138]                      ENDIF
    1678/ 67.266 :                      
    1679/ 67.266 :                      ; COMMAND COMPLETION STRINGS
    1680/ 67.266 :                      
    1681/ 67.266 : 104 057 123 125 102  DD      DB      'D/SUBTRACT',240Q    ; ADD/SUBTRACT
          67.273 : 124 122 101 103 124
          67.300 : 240                
    1682/ 67.301 : 103 111 111 240      CII     DB      'CII',240Q           ; ASCII
    1683/ 67.305 : 101 123 105 240      ASE     DB      'ASE',240Q           ; BASE
    1684/ 67.311 : 101 116 107 105 240  NGE     DB      'ANGE',240Q          ; CHANGE
    1685/ 67.316 : 115 120 101 122 105  MPAR    DB      'MPARE',240Q         ; COMPARE
          67.323 : 240                
    1686/ 67.324 : 111 123 120 114 101  ISP     DB      'ISPLAY',240Q        ; DISPLAY
          67.331 : 131 240            
    1687/ 67.333 : =>TRUE                       IF      INCLUDE
    1688/ 67.333 : 130 101 115 111 116  XAMIN   DB      'XAMINE',240Q        ; EXAMINE
          67.340 : 105 240            
    1689/ 67.342 : [6.151]                      ENDIF
    1690/ 67.342 : 111 114 114 240      ILL     DB      'ILL',240Q            ; FILL
    1691/ 67.346 : 117 040 124 117 240  OTO     DB      'O TO',240Q           ; GO TO
    1692/ 67.353 : 116 120 125 124 040  NPUT    DB      'NPUT MODE',240Q      ; INPUT MODE
          67.360 : 115 117 104 105 240
    1693/ 67.365 : 110 101 122 101 103  CHAR    DB      'HARACTE','R'+200Q
          67.372 : 124 105 322        
    1694/ 67.375 : 111 116 305          LINEM   DB      'IN','E'+200Q
    1695/ 70.000 : 105 130 240          EX      DB      'EX',240Q             ; HEX
    1696/ 70.003 : 117 101 104 240      OAD     DB      'OAD',240Q            ; LOAD
    1697/ 70.007 : 117 126 105 240      OVE     DB      'OVE',240Q            ; MOVE
    1698/ 70.013 : 103 124 101 114 240  CTAL    DB      'CTAL',240Q           ; OCTAL
    1699/ 70.020 : 122 124 240          RT      DB      'RT',240Q             ; PORT
    1700/ 70.023 : 116 240              IN      DB      'N',240Q              ; IN
    1701/ 70.025 : 125 124 240          UT      DB      'UT',240Q             ; OUT
    1702/ 70.030 : 111 116 124 105 122  RINTER  DB      'INTER? (Y OR N)',240Q
          70.035 : 077 040 050 131 040
          70.042 : 117 122 040 116 051
          70.047 : 240                
    1703/ 70.050 : 105 107 111 123 124  EGIS    DB      'EGISTER',240Q        ; REGISTER
          70.055 : 105 122 240        
    1704/ 70.060 : 101 122 103 110 240  ARCH    DB      'ARCH',240Q           ; SEARCH
    1705/ 70.065 : 131 124 105 240      YTE     DB      'YTE',240Q            ; BYTE
    1706/ 70.071 : 117 122 104 240      ORD     DB      'ORD',240Q            ; WORD
    1707/ 70.075 : 101 126 105 240      AVE     DB      'AVE',240Q            ; TAPE
    1708/ 70.101 : 116 107 114 105 040  NGLE    DB      'NGLE STEP',240Q      ; SINGLE STEP
          70.106 : 123 124 105 120 240
    1709/ 70.113 : 105 122 122 117 122  TYPE    DB      'ERROR -- FILE IS NOT MACHINE COD','E'+200Q
          70.120 : 040 055 055 040 106
          70.125 : 111 114 105 040 111
          70.132 : 123 040 116 117 124
          70.137 : 040 115 101 103 110
          70.144 : 111 116 105 040 103
          70.151 : 117 104 305        
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 51 - 08/18/2024 03:18:17 PM


    1710/ 70.154 : 105 122 122 117 122  TBIG    DB      'ERROR -- FILE TOO BI','G'+200Q
          70.161 : 040 055 055 040 106
          70.166 : 111 114 105 040 124
          70.173 : 117 117 040 102 111
          70.200 : 307                
    1711/ 70.201 : 012 123 124 101 122  STARTS  DB      LF,'STARTS ',240Q
          70.206 : 124 123 040 240    
    1712/ 70.212 : 012 105 116 104 123  ENDS    DB      LF,'ENDS   ',240Q
          70.217 : 040 040 040 240    
    1713/ 70.223 : 136 104 012 101 122  SURE    DB      '^D',LF,'ARE YOU SURE?',240Q
          70.230 : 105 040 131 117 125
          70.235 : 040 123 125 122 105
          70.242 : 077 240            
    1714/ 70.244 : 040 077 240          QUES    DB      ' ?',240Q
    1715/ 70.247 : 111 057 117 040 105  IOERRM  DB      'I/O ERROR:',240Q
          70.254 : 122 122 117 122 072
          70.261 : 240                
    1716/ 70.262 :                      
    1717/ 70.262 :                      ; MANIPULATED EXIT CODE
    1718/ 70.262 :                      ; USED FOR JUMP TO USER PROGRAM
    1719/ 70.262 :                      
    1720/ 70.262 :                              DS      98H       ; SPACE FOR STACK
    1721/ 71.112 :                      STAK    DS      8         ; RDT STACK HERE
    1722/ 71.122 :                      ;                         ; REGISTERS HERE
    1723/ 71.122 : 321                  EXIT    POP     D         ; RESTORE D,E
    1724/ 71.123 : 301                          POP     B         ; RESTORE B,C
    1725/ 71.124 : 361                          POP     PSW       ; RESTORE A AND FLAGS
    1726/ 71.125 : 341                          POP     H
    1727/ 71.126 : 371                          SPHL              ; RESTORE USER STACK
    1728/ 71.127 : 041 000 000                  LXI     H,0       ; RESTORE H,L
    1729/ 71.132 : 373                          EI                ; ENABLE INTERRUPTS
    1730/ 71.133 : 303 000 000                  JMP     0         ; TAKE THE JUMP
    1731/ 71.136 : 000 000                      DW      0         ; FIRST TRAP ADDRESS
    1732/ 71.140 : 000                          DB      0         ; FIRST TRAP VALUE
    1733/ 71.141 : 000 000                      DW      0         ; SECOND TRAP ADDRESS
    1734/ 71.143 : 000                  ENDEX   DB      0         ; SECOND TRAP VALUE
    1735/ 71.144 :                      
    1736/ 71.144 :                      ; TRANSPORT RDT TO TOP OF MEMORY
    1737/ 71.144 :                      
    1738/ 71.144 : 041 201 070          XPORT   LXI     H,STARTS  ; PRINT "STARTS"
    1739/ 71.147 : 315 227 056                  CALL    PSTRNG
    1740/ 71.152 : 052 316 042                  LHLD    MVADR     ; GET ADDRESS TO MOVE TO
    1741/ 71.155 : 315 236 055                  CALL    PADR      ; PRINT IT
    1742/ 71.160 : 021 320 042                  LXI     D,SETUP   ; GET ORG ADDRESS
    1743/ 71.163 : 175                          MOV     A,L       ; COMPUTE BIAS
    1744/ 71.164 : 223                          SUB     E
    1745/ 71.165 : 157                          MOV     L,A
    1746/ 71.166 : 174                          MOV     A,H
    1747/ 71.167 : 232                          SBB     D
    1748/ 71.170 : 147                          MOV     H,A       ; HL = BIAS
    1749/ 71.171 : 042 215 072                  SHLD    BIAS      ; STORE IT
    1750/ 71.174 : 041 212 070                  LXI     H,ENDS    ; PRINT "ENDS"
    1751/ 71.177 : 315 227 056                  CALL    PSTRNG
    1752/ 71.202 : 052 215 072                  LHLD    BIAS
    1753/ 71.205 : 021 146 071                  LXI     D,ENDEX+3 ; COMPUTE END ADDRESS
    1754/ 71.210 : 031                          DAD     D
    1755/ 71.211 : 315 236 055                  CALL    PADR      ; PRINT IT
    1756/ 71.214 : 315 012 055                  CALL    CRLF
    1757/ 71.217 : 041 320 042                  LXI     H,SETUP   ; HL = ORG ADDR
    1758/ 71.222 : 021 244 056                  LXI     D,TABLE-1 ; END OF CODE TO FIX
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 52 - 08/18/2024 03:18:17 PM


    1759/ 71.225 : 176                  XPORT0  MOV     A,M       ; GET OPCODE
    1760/ 71.226 : 107                          MOV     B,A       ; SAVE IT
    1761/ 71.227 : 345                          PUSH    H         ; SAVE ADDRESS
    1762/ 71.230 :                      
    1763/ 71.230 :                      ; LOCATE TWO AND THREE BYTE OPCODES
    1764/ 71.230 :                      
    1765/ 71.230 : 041 026 072                  LXI     H,THBYT   ; THREE BYTE TABLE
    1766/ 71.233 : 176                  XPORT1  MOV     A,M       ; GET TABLE OPCODE
    1767/ 71.234 : 270                          CMP     B         ; MATCHES PROGRAM OPCODE?
    1768/ 71.235 : 312 304 071                  JZ      XPORT2    ; YES, PROCESS IT
    1769/ 71.240 : 376 367                      CPI     0F7H      ; END OF TABLE?
    1770/ 71.242 : 043                          INX     H
    1771/ 71.243 : 302 233 071                  JNZ     XPORT1    ; IF NOT, CONTINUE
    1772/ 71.246 : 041 047 072                  LXI     H,TWBYT   ; TWO BYTE TABLE
    1773/ 71.251 : 176                  XPORTA  MOV     A,M       ; GET TABLE OPCODE
    1774/ 71.252 : 270                          CMP     B         ; MATCHES PROGRAM OPCODE?
    1775/ 71.253 : 312 267 071                  JZ      XPORTB    ; YES, SKIP DATA BYTE
    1776/ 71.256 : 376 367                      CPI     0F7H      ; END OF TABLE?
    1777/ 71.260 : 043                          INX     H         ; MOVE POINTER
    1778/ 71.261 : 302 251 071                  JNZ     XPORTA    ; IF NOT, CONTINUE
    1779/ 71.264 : 303 272 071                  JMP     XPORTC    ; ONE BYTE INSTRUCTION
    1780/ 71.267 : 341                  XPORTB  POP     H         ; RESTORE ADDRESS POINTER
    1781/ 71.270 : 043                          INX     H         ; SKIP DATA BYTE
    1782/ 71.271 : 345                          PUSH    H         ; SAVE ADDRESS
    1783/ 71.272 : 341                  XPORTC  POP     H         ; RESTORE ADDRESS
    1784/ 71.273 : 315 224 055                  CALL    CPHD      ; END OF RDT?
    1785/ 71.276 : 322 225 071                  JNC     XPORT0    ; IF NOT, CONTINUE
    1786/ 71.301 : 303 355 071                  JMP     XPORT5    ; CODE FIXED, MOVE IT
    1787/ 71.304 :                      
    1788/ 71.304 :                      ; FIX THREE BYTE INSTRUCTIONS
    1789/ 71.304 :                      
    1790/ 71.304 : 341                  XPORT2  POP     H         ; RESTORE ADDRESS
    1791/ 71.305 : 043                          INX     H         ; POINT TO CODE ARGUMENT
    1792/ 71.306 : 325                          PUSH    D         ; SAVE END POINTER
    1793/ 71.307 : 136                          MOV     E,M
    1794/ 71.310 : 043                          INX     H
    1795/ 71.311 : 126                          MOV     D,M       ;  DE = ADDR TO CHECK
    1796/ 71.312 : 345                          PUSH    H         ;  SAVE ADDRESS POINTER
    1797/ 71.313 : 041 317 042                  LXI     H,SETUP-1 ; CHECK IF ADDRESS IS
    1798/ 71.316 : 315 224 055                  CALL    CPHD      ; BELOW RDT
    1799/ 71.321 : 332 345 071                  JC      XPORT3    ; IF SO, DO NOT ADJUST
    1800/ 71.324 : 341                          POP     H         ; RESTORE ADDRESS
    1801/ 71.325 : 321                          POP     D         ; RESTORE END POINTER
    1802/ 71.326 : 053                          DCX     H         ; ADDR LOW BYTE
    1803/ 71.327 : 072 215 072                  LDA     BIAS      ; FIX CODE
    1804/ 71.332 : 206                          ADD     M
    1805/ 71.333 : 167                          MOV     M,A
    1806/ 71.334 : 043                          INX     H
    1807/ 71.335 : 072 216 072                  LDA     BIAS+1
    1808/ 71.340 : 216                          ADC     M
    1809/ 71.341 : 167                          MOV     M,A       ; ADDR = ADDR + BIAS
    1810/ 71.342 : 303 347 071                  JMP     XPORT4
    1811/ 71.345 : 341                  XPORT3  POP     H         ; RESTORE ADDRESS
    1812/ 71.346 : 321                          POP     D         ; RESTORE END POINTER
    1813/ 71.347 : 315 224 055          XPORT4  CALL    CPHD      ; END OF FIXABLE CODE?
    1814/ 71.352 : 322 225 071                  JNC     XPORT0    ; IF NOT, CONTINUE
    1815/ 71.355 :                      
    1816/ 71.355 :                      ; MOVE TO NEW LOCATION
    1817/ 71.355 :                      
    1818/ 71.355 : 052 316 042          XPORT5  LHLD    MVADR     ; GET DESTINATION
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 53 - 08/18/2024 03:18:17 PM


    1819/ 71.360 : 104                          MOV     B,H       ; PUT IN BC
    1820/ 71.361 : 115                          MOV     C,L
    1821/ 71.362 : 041 320 042                  LXI     H,SETUP   ; HL = START OF RDT
    1822/ 71.365 : 021 143 071                  LXI     D,ENDEX   ; DE = END OF RDT
    1823/ 71.370 : 176                  XPORT6  MOV     A,M       ; GET BYTE TO MOVE
    1824/ 71.371 : 002                          STAX    B         ; STORE AT NEW ADDR
    1825/ 71.372 : 003                          INX     B         ; INCREMENT DEST POINTER
    1826/ 71.373 : 315 224 055                  CALL    CPHD      ; DONE?
    1827/ 71.376 : 322 370 071                  JNC     XPORT6    ; NO, KEEP MOVING CODE
    1828/ 72.001 : 052 215 072                  LHLD    BIAS
    1829/ 72.004 : 021 304 056                  LXI     D,TOP     ; COMPUTE THE ADDRESS OF
    1830/ 72.007 : 031                          DAD     D         ; THE LABEL "TOP"
    1831/ 72.010 : 353                          XCHG              ; PUT IT IN DE
    1832/ 72.011 : 052 316 042                  LHLD    MVADR     ; GET START ADDR OF RDT
    1833/ 72.014 : 053                          DCX     H         ; USER MEMORY ENDS HERE
    1834/ 72.015 : 175                          MOV     A,L
    1835/ 72.016 : 022                          STAX    D         ; STORE LOW BYTE
    1836/ 72.017 : 174                          MOV     A,H
    1837/ 72.020 : 023                          INX     D
    1838/ 72.021 : 022                          STAX    D         ; STORE HIGH BYTE
    1839/ 72.022 :                      
    1840/ 72.022 :                      ; JUMP TO NEW RDT
    1841/ 72.022 :                      
    1842/ 72.022 : 052 316 042                  LHLD    MVADR     ; GET START ADDRESS
    1843/ 72.025 : 351                          PCHL              ; TAKE THE JUMP
    1844/ 72.026 :                      
    1845/ 72.026 :                      ; TABLE OF THREE BYTE INSTRUCTIONS
    1846/ 72.026 :                      ; THAT REQUIRE FIXING
    1847/ 72.026 :                      
    1848/ 72.026 : 021                  THBYT   DB      11H       ; LXI   D
    1849/ 72.027 : 041                          DB      21H       ; LXI   H
    1850/ 72.030 : 061                          DB      31H       ; LXI   SP
    1851/ 72.031 : 042                          DB      22H       ; SHLD
    1852/ 72.032 : 052                          DB      2AH       ; LHLD
    1853/ 72.033 : 062                          DB      32H       ; STA
    1854/ 72.034 : 072                          DB      3AH       ; LDA
    1855/ 72.035 : 315                          DB      0CDH      ; CALL
    1856/ 72.036 : 314                          DB      0CCH      ; CZ
    1857/ 72.037 : 303                          DB      0C3H      ; JMP
    1858/ 72.040 : 302                          DB      0C2H      ; JNZ
    1859/ 72.041 : 312                          DB      0CAH      ; JZ
    1860/ 72.042 : 322                          DB      0D2H      ; JNC
    1861/ 72.043 : 332                          DB      0DAH      ; JC
    1862/ 72.044 : 362                          DB      0F2H      ; JP
    1863/ 72.045 : 372                          DB      0FAH      ; JM
    1864/ 72.046 : 367                          DB      0F7H      ; END OF TABLE
    1865/ 72.047 :                      
    1866/ 72.047 :                      ; TWO BYTE OPCODES
    1867/ 72.047 :                      
    1868/ 72.047 : 076                  TWBYT   DB      3EH       ; MVI   A
    1869/ 72.050 : 006                          DB      6         ; MVI   B
    1870/ 72.051 : 016                          DB      0EH       ; MVI   C
    1871/ 72.052 : 026                          DB      16H       ; MVI   D
    1872/ 72.053 : 046                          DB      26H       ; MVI   H
    1873/ 72.054 : 056                          DB      2EH       ; MVI   L
    1874/ 72.055 : 066                          DB      36H       ; MVI   M
    1875/ 72.056 : 306                          DB      0C6H      ; ADI
    1876/ 72.057 : 316                          DB      0CEH      ; ACI
    1877/ 72.060 : 326                          DB      0D6H      ; SUI
    1878/ 72.061 : 346                          DB      0E6H      ; ANI
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 54 - 08/18/2024 03:18:17 PM


    1879/ 72.062 : 356                          DB      0EEH      ; XRI
    1880/ 72.063 : 376                          DB      0FEH      ; CPI
    1881/ 72.064 : 323                          DB      0D3H      ; OUT
    1882/ 72.065 : 333                          DB      0DBH      ; IN
    1883/ 72.066 : 377                          DB      0FFH      ; SCALL
    1884/ 72.067 : 367                          DB      0F7H      ; END OF TABLE
    1885/ 72.070 :                      
    1886/ 72.070 :                      ; PROGRAM TITLE
    1887/ 72.070 :                      
    1888/ 72.070 : 012 123 105 114 106  TITLE   DB      LF,'SELF-RELOCATING DEBUGGING TOOL (RDT) Version 1.0',212Q
          72.075 : 055 122 105 114 117
          72.102 : 103 101 124 111 116
          72.107 : 107 040 104 105 102
          72.114 : 125 107 107 111 116
          72.121 : 107 040 124 117 117
          72.126 : 114 040 050 122 104
          72.133 : 124 051 040 126 145
          72.140 : 162 163 151 157 156
          72.145 : 040 061 056 060 212
    1889/ 72.152 : 012 105 156 164 145  DEV     DB      LF,'Enter Printer Device Name: <none>',240Q
          72.157 : 162 040 120 162 151
          72.164 : 156 164 145 162 040
          72.171 : 104 145 166 151 143
          72.176 : 145 040 116 141 155
          72.203 : 145 072 040 074 156
          72.210 : 157 156 145 076 240
    1890/ 72.215 :                      
    1891/ 72.215 :                      ; RELOCATION RAM CELL
    1892/ 72.215 :                      
    1893/ 72.215 :                      BIAS    DS      2         ; RELOCATION BIAS
    1894/ 72.217 :                      
    1895/ 72.217 :                              END     PRESET
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 55 - 08/18/2024 03:18:17 PM


  Symbol Table (* = unused):
  --------------------------

 ACMD :                      43.146 C |  ADD :                       43.166 C |
 ARCH :                      70.060 C |
*ARCHITECTURE :                                      "x86_64-unknown-linux" - |
 AREG :                           5 - |  ASC :                       46.146 C |
 ASCII :                     43.234 C |  ASCII0 :                    43.261 C |
 ASCII1 :                    43.316 C |  ASCII2 :                    43.355 C |
 ASCII3 :                    44.024 C |  ASE :                       67.305 C |
 ASFLAG :                    56.275 C |  AVE :                       70.075 C |
 BASE :                      44.030 C |  BASE0 :                     44.063 C |
 BFLAG :                     56.276 C |  BIAS :                      72.215 C |
 BIN :                       55.353 C |  BIN0 :                      55.371 C |
 BREG :                           3 - | *BSIZE :                     46.053 - |
*BUFEND :                    57.364 - |  BUFF :                      67.177 C |
*CASESENSITIVE :                  0 - |  CCMD :                      44.106 C |
 CDATA :                     55.102 C |  CHAR :                      67.365 C |
 CHECK :                     55.375 C |  CHECK0 :                    56.000 C |
 CHG :                       44.126 C |  CHG0 :                      44.147 C |
 CHG1 :                      44.250 C |  CII :                       67.301 C |
 CLOSE :                     50.077 C |  CLRB1 :                     46.057 C |
 CLRBF :                     46.052 C |  COM :                       46.071 C |
 COM1 :                      46.077 C |  COM2 :                      46.105 C |
 COMA :                      46.106 C |  COMA2 :                     46.120 C |
 COMP :                      44.254 C |  COMP0 :                     44.277 C |
 COMP1 :                     44.316 C |  CONFLG :                    56.277 C |
*CONSTPI :        3.141592653589793 - |  CPHD :                      55.224 C |
 CR :                            15 - |  CRCSUM :                    40.027 - |
 CRLF :                      55.012 C |  CTAL :                      70.013 C |
 CTLFLG :                    40.011 - |  DATA :                      55.017 C |
 DATA0 :                     55.031 C |  DATA1 :                     55.034 C |
 DATA2 :                     55.054 C |  DATA3 :                     55.072 C |
*DATE :                "08/18/2024" - |  DCLOSE :                        46 - |
 DCLRCO :                         7 - |  DCONSL :                         6 - |
 DCTLC :                         41 - |  DD :                        67.266 C |
*DDELETE :                       50 - |  DDEXIT :                    54.325 C |
 DEFALT :                    56.312 C |  DERROR :                        57 - |
 DEV :                       72.152 C |  DEXIT :                          0 - |
 DEXIT0 :                    54.361 C |  DIS2 :                      45.044 C |
 DIS3 :                      45.054 C |  DIS4 :                      45.072 C |
 DIS5 :                      45.110 C |  DIS6 :                      45.142 C |
 DIS7 :                      45.227 C |  DISP :                      44.330 C |
 DISP0 :                     44.346 C |  DISP1 :                     44.357 C |
 DISP2 :                     45.007 C |  DLOADD :                        62 - |
 DLOADO :                        10 - |  DOPENR :                        42 - |
 DOPENW :                        43 - | *DPRINT :                         3 - |
 DREAD :                          4 - |  DREG :                           1 - |
 DSCIN :                          1 - |  DSCOUT :                         2 - |
 DSETTOP :                       52 - |  DWRITE :                         5 - |
 ECHO :                      54.371 C |  EGIS :                      70.050 C |
 ENDEX :                     71.143 C |  ENDS :                      70.212 C |
 ERROR :                     54.152 C |  EX :                        70.000 C |
 EXAM :                      45.017 C |  EXIT :                      71.122 C |
*FALSE :                          0 - |  FBGN :                      56.306 C |
 FEND :                      56.310 C |  FILL :                      46.257 C |
 FILL0 :                     46.277 C |  FIXIN :                     54.132 C |
 FLAG :                           4 - |  FNAME :                     56.340 C |
 FSTART :                    42.170 - |  FSTAT :                     56.301 C |
 GETLN :                     54.106 C |  GETNA0 :                    50.132 C |
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 56 - 08/18/2024 03:18:17 PM


 GETNA1 :                    50.151 C |  GETNAM :                    50.127 C |
 GO :                        46.316 C |  GO0 :                       46.361 C |
 GO1 :                       46.367 C |  GO2 :                       47.027 C |
 GO3 :                       47.044 C | *HAS64 :                          1 - |
 HASC :                      46.174 C |  HBYTE :                     55.270 C |
 HDATA :                     55.026 C |  HEX :                       47.140 C |
 HREG :                          17 - |  ILL :                       67.342 C |
 IN :                        70.023 C |  IN0 :                       51.061 C |
 INCH :                      54.261 C |  INCH0 :                     54.312 C |
 INCLUDE :                        1 - |  INFLAG :                    56.300 C |
 INPORT :                    51.065 - |  INPUT :                     47.064 C |
 IOERR :                     54.176 C |  IOERRM :                    70.247 C |
 ISP :                       67.324 C |  LF :                            12 - |
 LINE :                      47.123 C |  LINEM :                     67.375 C |
*LISTON :                         1 - |  LOAD :                      47.174 C |
 LOAD0 :                     47.252 C |  LOAD1 :                     50.032 C |
 LPEXIT :                    51.377 C |  LPRINT :                    51.336 C |
 LREG :                          16 - | *MACEXP :                         7 - |
 MMFLAG :                    56.274 C |  MNEM :                      45.356 C |
 MNEM0 :                     45.361 C |  MNEM1 :                     45.366 C |
 MNEM2 :                     46.001 C |  MNEM3 :                     46.006 C |
*MOMCPU :                   200.200 - | *MOMCPUNAME :                "8080" - |
 MOVE :                      50.274 C |  MOVE0 :                     50.314 C |
 MPAR :                      67.316 C |  MVADR :                     42.316 C |
 NEG :                       53.150 C | *NESTMAX :                    1.000 - |
 NGE :                       67.311 C |  NGLE :                      70.101 C |
 NODEV :                     42.251 C |  NOPRNT :                    51.301 C |
 NPUT :                      67.353 C |  OAD :                       70.003 C |
 OASC :                      46.205 C |  OASC0 :                     46.237 C |
 OBYT :                      55.316 C |  OBYTE :                     55.317 C |
 OCDAT :                     55.213 C |  OCT :                       50.330 C |
 ODAT0 :                     55.126 C |  ODAT1 :                     55.131 C |
 ODAT2 :                     55.157 C |  ODAT5 :                     55.203 C |
 ODATA :                     55.123 C |  ORD :                       70.071 C |
 OTO :                       67.346 C |  OUT :                       51.105 C |
 OUT0 :                      51.132 C |  OUTCH :                     54.240 C |
 OUTCH0 :                    54.257 C |  OUTPORT :                   51.161 - |
 OVE :                       70.007 C |  PADDR :                     46.123 C |
 PADDR0 :                    46.145 C |  PADR :                      55.236 C |
 PADR0 :                     55.256 C |  PAGE :                      45.325 C |
 PASC :                      55.305 C |  PBPTR :                     56.320 C |
 PBUFF :                     56.364 C |  PBYTE :                     55.257 C |
 PCMD :                      50.371 C |  PCTR :                          23 - |
 PDFLT :                     56.325 C |  PDUMP :                      2.101 - |
 PFLAG :                     56.323 C |  PLOAD :                      1.333 - |
 PLOOP :                     51.242 C |  PNAME :                     56.333 C |
 PNCTR :                     56.322 C |  PORT :                      51.011 C |
 POUTCH :                    54.242 C |  PRESET :                    42.200 C |
 PRINT :                     51.177 C |  PSTRG :                     46.244 C |
 PSTRNG :                    56.227 C |  QUES :                      70.244 C |
 REG :                       52.045 C |  REG0 :                      52.077 C |
 REG1 :                      52.120 C |  REG2 :                      52.164 C |
 REG3 :                      52.171 C |  REG4 :                      52.231 C |
 REG6 :                      52.234 C |  REG7 :                      52.237 C |
 REG8 :                      52.316 C | *RELAXED :                        0 - |
 RESET :                     52.003 C |  RESLP :                     52.031 C |
 RESTRT :                    56.020 C |  RFLAG :                     56.324 C |
 RINTER :                    70.030 C |  RNP :                        2.325 - |
 RS2 :                       40.042 - |  RST0 :                      56.067 C |
 RST1 :                      56.122 C |  RST2 :                      56.137 C |
 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 57 - 08/18/2024 03:18:17 PM


 RST20 :                        327 - |  RST3 :                      56.140 C |
 RST4 :                      56.163 C |  RST5 :                      56.202 C |
 RSTB :                      56.033 C |  RSTB0 :                     56.047 C |
 RT :                        70.020 C |  SAVE :                      52.353 C |
 SCMD :                      52.326 C |  SERCH :                     53.160 C |
 SERCH0 :                    53.211 C |  SERCH1 :                    53.225 C |
 SERCH2 :                    53.243 C |  SERCH3 :                    53.261 C |
 SERCH4 :                    53.270 C |  SERCH5 :                    53.277 C |
 SETIN :                     47.131 C |  SETUP :                     42.320 C |
 SPAC :                      46.037 C |  SPACE :                     54.236 C |
 SPACE1 :                    46.041 C |  SPTR :                           7 - |
 SRS :                        2.265 - |  SSFLAG :                    56.303 C |
 SSGO :                      46.324 C |  SSTEP :                     53.307 C |
 SSTEP0 :                    53.325 C |  SSTEP1 :                    53.335 C |
 STAK :                      71.112 C |  START :                     42.367 C |
 STARTS :                    70.201 C |  STYPE :                     56.302 C |
 SURE :                      70.223 C |  TABL1 :                     67.121 C |
 TABLA :                     57.364 C |  TABLE :                     56.245 C |
 TAPE0 :                     54.024 C |  TBIG :                      70.154 C |
 TCMD :                      50.155 C |  TERROR :                    50.105 C |
 THBYT :                     72.026 C | *TIME :               "03:18:17 PM" - |
 TITLE :                     72.070 C |  TLOAD :                     50.200 C |
 TOOBIG :                    50.116 C |  TOP :                       56.304 C |
 TPERRX :                    40.031 - |  TRAP :                          24 - |
*TRUE :                           1 - |  TSAVE :                     53.366 C |
 TWBYT :                     72.047 C |  TYPE :                      70.113 C |
 UT :                        70.025 C | *VERSION :                   24.057 - |
 WNB :                        3.024 - |  WNP :                        3.017 - |
 XAMIN :                     67.333 C |  XDIS0 :                     45.206 C |
 XDIS1 :                     45.210 C |  XDIS2 :                     45.307 C |
 XDIS3 :                     45.311 C |  XPORT :                     71.144 C |
 XPORT0 :                    71.225 C |  XPORT1 :                    71.233 C |
 XPORT2 :                    71.304 C |  XPORT3 :                    71.345 C |
 XPORT4 :                    71.347 C |  XPORT5 :                    71.355 C |
 XPORT6 :                    71.370 C |  XPORTA :                    71.251 C |
 XPORTB :                    71.267 C |  XPORTC :                    71.272 C |
 YTE :                       70.065 C | *Z80SYNTAX :                      0 - |

  1.050 symbols
     20 unused symbols

 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 58 - 08/18/2024 03:18:17 PM


  Defined Macros:
  ---------------

SCALL                                 |

      1 macro

 AS V1.42 Beta [Bld 273] - Source File rdt.asm - Page 59 - 08/18/2024 03:18:17 PM


  Code Pages:
  ----------

STANDARD (0 changed characters)

1 code page

0.03 seconds assembly time

 11.187 lines source file
 11.251 lines incl. macro expansions
      2 passes
      0 errors
      0 warnings
