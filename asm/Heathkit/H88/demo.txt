;                               APPENDIX B
;                              MTR-88 DEMO
; 
; The sample program that follows shows some of the advanced features
; that are available to you with MTR-88. The program is not designed to
; be efficient or particularly useful by itself. It uses the H88 clock,
; console terminal, and interrupt capability to create an accurate
; interval timer that will time up to 377(octal) seconds. When the
; interval ends, the H88 audio alarm is sounded.
; 
; Use the H89 keyboard and the "Substitute" command to enter the machine
; code and start the program. You will also use the keyboard to enter
; the octal time.
; 
; The demo uses the MTR-88 firmware (program in a ROM) for most of the
; working routines, and you should look up the details of these routines
; (in Appendix A). The listing of the demo was prepared using the text
; editor and assembler that are available for the H88. However, the
; program should be loaded by hand using the "Substitute" command.
; 
;                           THE SAMPLE PROGRAM
; 
; This program initially blanks out the screen and then waits for you
; to enter an octal value. The MTR-88 routine WCC is used to send the
; characters to the screen, and IOB is used to Input an Octal Byte.
; 
; The most subtle part of the program is the interrupt processing.
; First, a jump to the interrupt processor is planted in UIVEC to allow
; processing of the clock interrupts. Then .MFLAG is set so MTR-88 will
; pass interrupts to the program. Finally, interrupts are enabled.
; 
; The main part of the program is a "do-nothing" loop that waits for the
; time to count down to zero. When the time is exhausted, the program
; restores the original state of .MFLAG and stops.
; 
; The interrupt processor keeps its own local TICCNT and counts it down
; from 500. When this count reaches zero, one second has elapses and the
; new reduced time is displayed on the screen using TOB (Type Octal
; Byte). The local TICCNT is reset to 500. When the time is exhausted,
; the main program stops clock processing, so the processor is not
; called again.
